//
// 	sccsid[] = %W% %Y% %D%
// 	StP/Core
// 	Confidential property of Interactive Development Environments, Inc.
// 	Copyright (c) 1992-1993
// 	All rights reserved
//

// This is the secured portion of the rules file.

NodeSymbol 1 CoverPageSection
{
        { NodeMapping
            { AppType CoverPageSection }
            { NameIsRequired True } 
        }
        { PrintName "Cover Page" }
        { VAdjust Top }
        { CanAdjustLabel True }
	{ LabelAnchor South }
        { CanApplyScaleCmd False }
        { Shape
            { ToolbarImage "rme_cover_page" }
	    { Draw
		{ Polygon
		    { Origin   0.00    0.00 }
		    { Point   10.00  -30.00 }
		    { Point  -24.00  -30.00 }
		    { Point  -24.00   30.00 }
		    { Point   20.00   30.00 }
		    { Point   20.00  -20.00 }
		    { LineStyle Solid }
		}
                { Line
		    { Origin  10.00  -30.00 }
		    { Point   10.00  -20.00 }
                }
                { Line
		    { Origin  10.00  -20.00 }
		    { Point   20.00  -20.00 }
                }
                { Line
		    { Origin  11.00  -18.00 }
		    { Point   11.00   28.00 }
                }
                { Line
		    { Origin  13.00  -18.00 }
		    { Point   13.00   28.00 }
                }
                { Line
		    { Origin  15.00  -18.00 }
		    { Point   15.00   28.00 }
                }
		{ Line   
                    { Origin -14.00  -12.00 }
                    { Point    6.00  -12.00 }
                }
		{ Line   
                    { Origin -10.00   -6.00 }
                    { Point    2.00   -6.00 }
                }
		{ Line   
                    { Origin  -6.00    0.00 }
                    { Point   -2.00    0.00 }
                }
	    }
	}
        { Cardinality
            { Min 1 }
            { Max 1 }
            { OutLinks NextSection }
        }
        { Cardinality
            { Max 0 }
            { InLinks NextSection }
        }
}

NodeSymbol 2 SingleDiagSection
{
        { NodeMapping
            { AppType SingleDiagSection }
            { NameIsRequired True } 
        }
        { PrintName "Diagram" }
        { VAdjust Top }
        { CanAdjustLabel True }
        { LabelAnchor South }
        { CanApplyScaleCmd False }
	{ Shape
	    { ToolbarImage "rme_diagram" }
            { Draw
                { Polygon
                    { Origin   0.00    0.00 }
                    { Point   10.00  -30.00 }
                    { Point  -24.00  -30.00 }
                    { Point  -24.00   30.00 }
                    { Point   20.00   30.00 }
                    { Point   20.00  -20.00 }
                    { LineStyle Solid }
                }
                { Line
                    { Origin  10.00  -30.00 }
                    { Point   10.00  -20.00 }
                }
                { Line
                    { Origin  10.00  -20.00 }
                    { Point   20.00  -20.00 }
                }
		{ Ellipse
		    { Origin  -8.00  -14.00 }
		    { Size    16.00   16.00 }
                    { LineStyle Solid }
		}
		{ Polygon
		    { Origin   0.00    0.00 }
		    { Point    0.00    4.00 }
                    { Point   16.00    4.00 }
		    { Point    8.00  -12.00 }
		}
		{ Rectangle
		    { Origin  -2.00   18.00 }
		    { Size    28.00   12.00 }
		}
		{ Line   
                    { Origin  -8.00   12.00 }
                    { Point   -8.00   -6.00 }
                }
		{ Line   
                    { Origin   2.00   12.00 }
                    { Point    9.00    4.00 }
                }
                { Line   
                    { Origin   0.00   -8.00 }
                    { Point    4.00   -4.00 }
                }
            }
        }
        { Cardinality 
            { Min 0 }
            { Max 1 } 
            { InLinks NextSection }
        }
        { Cardinality
            { Min 0 }
            { Max 1 }
            { OutLinks NextSection }
        }
}

NodeSymbol 3 MultiDiagSection
{
        { NodeMapping
            { AppType MultiDiagSection }
            { NameIsRequired True } 
        }
        { PrintName "Diagram Set" }
        { VAdjust Top }
        { CanAdjustLabel True }
        { LabelAnchor South }
        { CanApplyScaleCmd False }
	{ Shape 
            { ToolbarImage "rme_diagram_set" } 
            { Draw
               { Polygon 
                    { Origin   0.00    0.00 } 
                    { Point   10.00  -30.00 } 
                    { Point  -24.00  -30.00 } 
                    { Point  -24.00   30.00 } 
                    { Point   20.00   30.00 } 
                    { Point   20.00  -20.00 } 
                    { LineStyle Solid } 
                }
                { Line 
                    { Origin  10.00  -30.00 } 
                    { Point   10.00  -20.00 } 
                } 
                { Line 
                    { Origin  10.00  -20.00 } 
                    { Point   20.00  -20.00 } 
                } 
                { Line
                    { Origin -22.00  -30.00 }
                    { Point  -20.00  -32.00 }
                }
                { Line
                    { Origin -20.00  -32.00 }
                    { Point   12.00  -32.00 }
                }
                { Line
                    { Origin  12.00  -32.00 }
                    { Point   22.00  -22.00 }
                }
                { Line
                    { Origin  22.00  -22.00 }
                    { Point   22.00   28.00 }
                }
                { Line
                    { Origin  22.00   28.00 }
                    { Point   20.00   30.00 }
                }
                { Ellipse 
                    { Origin  -8.00  -14.00 } 
                    { Size    16.00   16.00 }  
                    { LineStyle Solid }
                } 
                { Polygon 
                    { Origin   0.00    0.00 }
                    { Point    0.00    4.00 }
                    { Point   16.00    4.00 }
                    { Point    8.00  -12.00 }
                }
                { Rectangle
                    { Origin  -2.00   18.00 }
                    { Size    28.00   12.00 }
                }
                { Line   
                    { Origin  -8.00   12.00 }
                    { Point   -8.00   -6.00 }
                }
                { Line   
                    { Origin   2.00   12.00 }
                    { Point    9.00    4.00 }
                }
                { Line   
                    { Origin   0.00   -8.00 }
                    { Point    4.00   -4.00 }
                }
            } 
        }
        { Cardinality 
            { Min 0 }
            { Max 1 } 
            { InLinks NextSection }
        }
        { Cardinality 
            { Min 0 }
            { Max 1 }
            { OutLinks NextSection } 
        }
}

NodeSymbol 4 SingleTableSection
{
        { NodeMapping
            { AppType SingleTableSection }
            { NameIsRequired True } 
        }
        { PrintName "Table" }
        { VAdjust Top }
        { CanAdjustLabel True }
        { LabelAnchor South }
        { CanApplyScaleCmd False }
	{ Shape 
            { ToolbarImage "rme_table" } 
            { Draw
             
                { Polygon 
                    { Origin   0.00    0.00 } 
                    { Point   10.00  -30.00 } 
                    { Point  -24.00  -30.00 } 
                    { Point  -24.00   30.00 } 
                    { Point   20.00   30.00 } 
                    { Point   20.00  -20.00 } 
                    { LineStyle Solid } 
                }
                { Line 
                    { Origin  10.00  -30.00 } 
                    { Point   10.00  -20.00 } 
                } 
                { Line 
                    { Origin  10.00  -20.00 } 
                    { Point   20.00  -20.00 } 
                } 
		{ Rectangle
		    { Origin  -2.00    2.00 }
		    { Size    32.00   30.00 }
		}
		{ Line   
                    { Origin -18.00   -3.00 }
                    { Point   14.00   -3.00 }
                }
		{ Line   
                    { Origin -18.00    7.00 }
                    { Point   14.00    7.00 }
                }
		{ Line   
                    { Origin -10.00  -13.00 }
                    { Point  -10.00   17.00 }
                }
		{ Line   
                    { Origin  -2.00  -13.00 }
                    { Point   -2.00   17.00 }
                }
                { Line    
                    { Origin   6.00  -13.00 } 
                    { Point    6.00   17.00 } 
                }
            } 
        }
        { Cardinality 
            { Min 0 }
            { Max 1 } 
            { InLinks NextSection }
        }
        { Cardinality 
            { Min 0 }
            { Max 1 }
            { OutLinks NextSection } 
        }
}

NodeSymbol 5 MultiTableSection
{
        { NodeMapping
            { AppType MultiTableSection }
            { NameIsRequired True } 
        }
        { PrintName "Table Set" }
        { VAdjust Top }
        { CanAdjustLabel True }
        { LabelAnchor South }
        { CanApplyScaleCmd False }
	{ Shape 
            { ToolbarImage "rme_table_set" }
            { Draw 
            
                { Polygon 
                    { Origin   0.00    0.00 } 
                    { Point   10.00  -30.00 } 
                    { Point  -24.00  -30.00 } 
                    { Point  -24.00   30.00 } 
                    { Point   20.00   30.00 } 
                    { Point   20.00  -20.00 } 
                    { LineStyle Solid } 
                }
                { Line 
                    { Origin  10.00  -30.00 } 
                    { Point   10.00  -20.00 } 
                } 
                { Line 
                    { Origin  10.00  -20.00 } 
                    { Point   20.00  -20.00 } 
                } 
                { Line
                    { Origin -22.00  -30.00 }
                    { Point  -20.00  -32.00 }
                }
                { Line   
                    { Origin -20.00  -32.00 }
                    { Point   12.00  -32.00 }
                }
                { Line   
                    { Origin  12.00  -32.00 }
                    { Point   22.00  -22.00 }
                }
                { Line
                    { Origin  22.00  -22.00 }
                    { Point   22.00   28.00 }
                }
                { Line
                    { Origin  22.00   28.00 }
                    { Point   20.00   30.00 }
                }
                { Rectangle 
                    { Origin  -2.00    2.00 } 
                    { Size    32.00   30.00 }
                } 
                { Line    
                    { Origin -18.00   -3.00 } 
                    { Point   14.00   -3.00 } 
                }
                { Line    
                    { Origin -18.00    7.00 } 
                    { Point   14.00    7.00 } 
                } 
                { Line    
                    { Origin -10.00  -13.00 } 
                    { Point  -10.00   17.00 } 
                }
                { Line   
                    { Origin  -2.00  -13.00 }
                    { Point   -2.00   17.00 }
                }
                { Line   
                    { Origin   6.00  -13.00 }
                    { Point    6.00   17.00 }
                }
            } 
        }
        { Cardinality 
            { Min 0 }
            { Max 1 } 
            { InLinks NextSection }
        }
        { Cardinality 
            { Min 0 }
            { Max 1 }
            { OutLinks NextSection } 
        }
}

NodeSymbol 6 TextSection
{
        { NodeMapping
            { AppType TextSection }
            { NameIsRequired True } 
        }
        { PrintName "Text Set" }
        { VAdjust Top }
        { CanAdjustLabel True }
        { LabelAnchor South }
        { CanApplyScaleCmd False }
	{ Shape 
            { ToolbarImage "rme_text_set" }
            { Draw 
            
                { Polygon 
                    { Origin   0.00    0.00 } 
                    { Point   10.00  -30.00 } 
                    { Point  -24.00  -30.00 } 
                    { Point  -24.00   30.00 } 
                    { Point   20.00   30.00 } 
                    { Point   20.00  -20.00 } 
                    { LineStyle Solid } 
                }
                { Line 
                    { Origin  10.00  -30.00 } 
                    { Point   10.00  -20.00 } 
                } 
                { Line 
                    { Origin  10.00  -20.00 } 
                    { Point   20.00  -20.00 } 
                } 
                { Line
                    { Origin -22.00  -30.00 }
                    { Point  -20.00  -32.00 }
                }
                { Line   
                    { Origin -20.00  -32.00 }
                    { Point   12.00  -32.00 }
                }
                { Line   
                    { Origin  12.00  -32.00 }
                    { Point   22.00  -22.00 }
                }
                { Line
                    { Origin  22.00  -22.00 }
                    { Point   22.00   28.00 }
                }
                { Line
                    { Origin  22.00   28.00 }
                    { Point   20.00   30.00 }
                }
		{ Line
		    { Origin -16.00  -12.00 }
                    { Point   12.00  -12.00 }
                }
		{ Line
		    { Origin -16.00   -6.00 }
                    { Point   12.00   -6.00 }
                }
		{ Line
		    { Origin -16.00    0.00 }
                    { Point   12.00    0.00 }
                }
		{ Line
		    { Origin -16.00    6.00 }
                    { Point   12.00    6.00 }
                }
		{ Line
		    { Origin -16.00   12.00 }
                    { Point   12.00   12.00 }
                }
		{ Line
		    { Origin -16.00   18.00 }
                    { Point   12.00   18.00 }
                }
            } 
        }
        { Cardinality 
            { Min 0 }
            { Max 1 } 
            { InLinks NextSection }
        }
        { Cardinality 
            { Min 0 }
            { Max 1 }
            { OutLinks NextSection } 
        }
}

NodeSymbol 7 MultiObjectSection
{
        { NodeMapping
            { AppType MultiObjectSection }
            { NameIsRequired True } 
        }
        { PrintName "Object Set" }
        { VAdjust Top }
        { CanAdjustLabel True }
        { LabelAnchor South }
        { CanApplyScaleCmd False }
	{ Shape 
            { ToolbarImage "rme_object_set" }
            { Draw 
            
                { Polygon 
                    { Origin   0.00    0.00 } 
                    { Point   10.00  -30.00 } 
                    { Point  -24.00  -30.00 } 
                    { Point  -24.00   30.00 } 
                    { Point   20.00   30.00 } 
                    { Point   20.00  -20.00 } 
                    { LineStyle Solid } 
                }
                { Line 
                    { Origin  10.00  -30.00 } 
                    { Point   10.00  -20.00 } 
                } 
                { Line 
                    { Origin  10.00  -20.00 } 
                    { Point   20.00  -20.00 } 
                } 
                { Line
                    { Origin -22.00  -30.00 }
                    { Point  -20.00  -32.00 }
                }
                { Line   
                    { Origin -20.00  -32.00 }
                    { Point   12.00  -32.00 }
                }
                { Line   
                    { Origin  12.00  -32.00 }
                    { Point   22.00  -22.00 }
                }
                { Line
                    { Origin  22.00  -22.00 }
                    { Point   22.00   28.00 }
                }
                { Line
                    { Origin  22.00   28.00 }
                    { Point   20.00   30.00 }
                }
		{ Ellipse
		    { Origin -2.00    -2.00 }
		    { Size   30.00    10.00 }
		}
		{ Ellipse
		    { Origin -2.00    10.00 }
		    { Size   30.00    10.00 }
		    { StartEndAngles 0.00 180.00 }
		}
                { Line
		    { Origin -17.00   -2.00 }
		    { Point  -17.00   10.00 }
		}
                { Line
		    { Origin  13.00   -2.00 }
		    { Point   13.00   10.00 }
		}
		{ Line
                    { Origin  -2.00   -2.00 }
                    { Point   -2.00  -18.00 }
                }
		{ Line
                    { Origin  -2.00  -18.00 }
                    { Point   -6.00  -15.00 }
                }
		{ Line
                    { Origin  -2.00  -18.00 }
                    { Point    1.00  -15.00 }
                }
            } 
        }
        { Cardinality 
            { Min 0 }
            { Max 1 } 
            { InLinks NextSection }
        }
        { Cardinality 
            { Min 0 }
            { Max 1 }
            { OutLinks NextSection } 
        }
}
 
NodeSymbol 8 Note
{
	{ DefaultSize 2.5 1.0 }
	{ PrintName "Note" }
    { AutoScaleLarger True }
	{ Shape
        { ToolbarImage "comment" }
		{ Draw
			// the main box
			{ Rectangle
				{ Origin 0.0 0.0 }
				{ Size   40.0 20.0 }
			}
			// chop off the corner
			{ Rectangle
				{ Origin 17.75 -7.75 }
				{ Size 5.5 5.5 }
				{ LineStyle None }
				{ FillStyle White }
			}
			// the folded corner
			{ Polygon
				{ Origin  0.0   0.0 } 
				{ Point  15.0 -10.0 } // start on the top right, in 5 pixels
				{ Point  15.0  -5.0 } // down part of tab
				{ Point  20.0  -5.0 } // bottom of tab
				{ Point  15.0 -10.0 } // close the triangle
			}
		}
	}
    { CanAdjustLabel True }
}

NodeSymbol 9 Vertex
{
    { SeeThrough True }
}

LinkSymbol 10 NextSection
{
    { Connects { From AllNonCommentNodeTypes } { To AllNonCommentNodeTypes } }
    { LinkMapping { AppType NextSection } }
    { Cardinality
	{ Min 0 }
	{ Max 1 }
    }
}

LinkSymbol 11 CommentLink
{
    { Connects { From Note } { To AllNonCommentNodeTypes } }
}

TypeSet AllNonCommentNodeTypes
{
  CoverPageSection
  SingleDiagSection
  MultiDiagSection
  SingleTableSection
  MultiTableSection
  TextSection
  MultiObjectSection
  Vertex
}

TypeSet AllNodeTypes
{
  AllNonCommentNodeTypes
  Note
}

Features
{
    { Feature "stpcore_nt" }
    { Feature "stpcore_unix" }
    { Feature "stpcore_any" }
}

NodeSymbol Vertex
{
    { PrintName "Vertex" }
    { Shape { Predefined Vertex } }
    { ReadOnly True }
    { CanHaveLabel False }
}

LinkSymbol NextSection
{
    { PrintName "Next Section" }
    { CanHaveLabel False }
    { ToArrow True }	
}

LinkSymbol CommentLink
{
    { PrintName "Comment Link" }
    { Uncentered True }
    { CanHaveLabel False }
    { ToArrow True }
    { Dashed True }
}

// This is the unsecured portion of the rules file.
// Only a subset of the rules and attributes may be placed in this section.

SymbolList
{
    { ShowStraightArc True }
    { ShowSpline True }
    { Symbols
	(
            CoverPageSection
            SingleDiagSection
            MultiDiagSection
            SingleTableSection
            MultiTableSection
            TextSection
            MultiObjectSection
            Note
	)
    }
}

Include "rules/gde_menu_bar.std"

Command CheckSemantics
{
    { PrintName "Check Semantics" }
    { StartMessage "Check Diagram Semantics" }
    { Builtin "EditorQrlEval RmeCheckSemantics();" }
}

Menu Reports
{
    { InMenuBar True }
    { Label "Reports" }
    { Mnemonic "p" }
    { Pin True }
    { MenuEntry
        { Name GenerateQRLReport }
        { Label "Generate QRL Report" }
        { Builtin "EditorQrlEval GenerateQRLReport(\"${file}\");" }
    }
    { MenuEntry
        { Name EditGeneratedQRL }
        { Label "Edit Generated QRL" }
        { Builtin "EditorQrlEval EditQRLReport(\"${file}\");" }
    }
    { SubMenu
        { Name RunReport }
        { Label "Run Report" }
    }
}

Menu RunReport
{
    { MenuEntry
        { Name RunRTFGeneratedQRL }
        { Label "Run Generated QRL (RTF)" }
        { Builtin "EditorQrlEval RunQRLReport(\"${file}\",\"rtf\");" }
    }
    { MenuEntry  
        { Name RunFrameGeneratedQRL }
        { Label "Run Generated QRL (Frame)" }
        { Builtin "EditorQrlEval RunQRLReport(\"${file}\",\"mif\");" }
    }
    { MenuEntry  
        { Name RunAsciiGeneratedQRL }
        { Label "Run Generated QRL (Ascii)" }
        { Builtin "EditorQrlEval RunQRLReport(\"${file}\",\"ascii\");" }
    }
//    { MenuEntry  
//        { Name RunInterleafGeneratedQRL }
//        { Label "Run Generated QRL (Interleaf)" }
//        { Builtin "EditorQrlEval RunQRLReport(\"${file}\",\"ileaf\");" }
//    }
}

Include "rules/gde_accels.std"
Include "rules/gde_edit_menu.std"

//  Add any user customizations to the file included below:
IncludeIfExists "user/ct/rules/user_rme.rules"

PassWord "F818C8FA"
