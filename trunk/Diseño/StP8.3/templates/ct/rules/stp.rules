//////////////////////////////////////////////////////////////////////
//
// 	StP/Core
// 	Confidential property of Aonix
// 	Copyright (c) 1992-1998
// 	All rights reserved
//
///////////////////////////////////////////////////////////////////////

// BUG #2755 -- Baseline & Version Control GUI
Include "rules/baseline.rules"

// Menus

Menu File
{
    { InMenuBar True }
    { Label "&File" }
    { Pin True }

    { SubMenu
        { Name FileNewSubMenu }
        { Label "&New" }
    }
    { MenuEntry
        { Name EditDiagram }
        { LabelFunc EditLabelFunc }
	// spr 3034 - changed the active function
        //{ ActiveFunc stp_editor_files_selected } //ECR 5110
        { ActiveFunc edit_menu_active_func } //ECR 5110
        { Builtin "EditorQrlEval \"stp_edit_diagram_or_table();\"" }
        { Accelerator
             { Label "Ctrl+O" }
             { Value "Ctrl<Key>O" }
        }
    }
    // ECR 6715 start
    { MenuEntry
        { Name PrintDiagram }
        { LabelFunc PrintLabelFunc }
        { ActiveFunc print_menu_active_func }
        { Builtin "EditorQrlEval \"stp_print_diagram_or_table_as();\"" }
        { Accelerator
             { Label "Ctrl+P" }
             { Value "Ctrl<Key>P" }
        }
	{ ParseCondition "!is_windows_platform();" } 
    }
    // ECR 6715 end
    { MenuEntry
        { Name PrintDiagram }
        { LabelFunc PrintLabelFunc }
        //{ ActiveFunc stp_editor_files_selected } //ECR 5110
        { ActiveFunc print_menu_active_func } //ECR 5110
        { Builtin "EditorQrlEval \"stp_print_diagram_or_table();\"" }
        { Accelerator
             { Label "Ctrl+P" }
             { Value "Ctrl<Key>P" }
        }
	{ ParseCondition "is_windows_platform();" } // ECR 6715
    }
    { MenuEntry
        { Name PrintDiagramAs }
        { LabelFunc PrintAsLabelFunc }
	// spr3034 - changed the active function
        //{ ActiveFunc stp_editor_file_selected } //ECR 5110
        { ActiveFunc print_as_menu_active_func } //ECR 5110
        { Builtin "EditorQrlEval \"stp_print_diagram_or_table_as();\"" }
        { Accelerator
             { Label "Ctrl+Shift+P" }
             { Value "Ctrl Shift<Key>p" }
        }
	{ ParseCondition "is_windows_platform();" } // ECR 6715
    }
    { Spacer }
    { MenuEntry
        // ECR4244 begin change: Copy one or more files
        // change the name, this is for diagrams and tables
        //{ Name CopyDiagram }
        { Name CopyFile }
        { LabelFunc CopyLabelFunc }
        // change active function
        //{ ActiveFunc stp_editor_file_selected }
        //{ ActiveFunc stp_editor_files_selected } //ECR 5110
        { ActiveFunc copy_menu_active_func } //ECR 5110
        { Builtin "EditorQrlEval \"stp_copy_diagram_or_table();\"" }
        // ECR4244 end change: Copy one or more files
        { Accelerator
             { Label "Ctrl+C" }
             { Value "Ctrl<Key>C" }
        }
    }
    { MenuEntry
        { Name DeleteDiagram }
        { LabelFunc DeleteLabelFunc }
	// spr3034 - changed the active function
        //{ ActiveFunc stp_editor_files_selected } //ECR 5110
        { ActiveFunc delete_menu_active_func } //ECR 5110
        { Builtin "EditorQrlEval \"stp_delete_diagram_or_table();\"" }
	// Del cannot be used as an accelerator because it would prevent
	// its normal use for text editing.
	{ Accelerator
             { Label "Delete" }
             { Value "Ctrl<Key>D" }
        }
    }
    { MenuEntry
        { Name RenameDiagram }
        { LabelFunc RenameLabelFunc }
        //{ ActiveFunc stp_editor_file_selected } //ECR 5110
        { ActiveFunc rename_menu_active_func } //ECR 5110
        { Builtin "EditorQrlEval \"stp_rename_diagram_or_table();\"" }
    }
    { Spacer }
    { MenuEntry
	{ Name OpenModel }
    	{ Label "Open &System..." }
        { Builtin "OpenModelDialogShow" }
    }
    { MenuEntry
        { Name CopyProjectSystem }
        { Label "Copy Syste&m..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"DuplicateSystem\");" }
    }
    { MenuEntry
        { Name DestroyProjectSystem }
        { Label "Destroy System..." }
        { Builtin "DestroyModelDialogShow" }
    }
    { Spacer }
    { MenuEntry
        { Name CloseSystem }
        { Label "Close Current System" } // ECR 7293 - removed elipsis
        { ActiveFunc stp_repos_is_open }
        { Builtin "CloseCurrentSystem" }
        // ECR 6184 begin
	{ Accelerator
             { Label "Ctrl+F4" }
             { Value "Ctrl<Key>F4" }
        }
        // ECR 6184 end
    }
// ECR 5748 start
    { Spacer }
    { SubMenu
        { Name MRUSystemsSubMenu }
        { Label "Recent Systems" }
    }
// ECR 5748 end
    { Spacer }
    { MenuEntry
        { Name BigQuit }
        { Label "&Exit StP" }
        { Builtin "StPShutdown" }
	{ Accelerator
             { Label "Alt+Shift+F4" }
             { Value "Alt Shift<Key>F4" }
        }
    }
    { MenuEntry
	{ Name Quit }
	{ Label "E&xit Desktop" }
    	{ Builtin "EditorQuit" }
	// ECR 6184 begin
        // Commented out the following block
	// { Accelerator
    	//      { ParseCondition "!is_windows_platform();" }
        //      { Label "Ctrl+E" }
        //      { Value "Ctrl<Key>E" }
        // }
	// ECR 6184 end
	{ Accelerator
             // ECR 6184 begin
             // Commented out the following line
    	     // { ParseCondition "is_windows_platform();" }
             // ECR 6184 end
             { Label "Alt+F4" }
             { Value "Alt<Key>F4" }
        }
    }
}

Menu FileNewSubMenu
{
// ECR 6149
    { Pin True }
    { Label "New System / File" }
// ECR 6149 end
    { MenuEntry
	{ Name NewProjectSystem }
    	{ Label "Syste&m..." }
        { Builtin "CreateModelDialogShow" }
    }
    { Spacer { Name AfterNewSystem }}
}


// ECR 5748 start
Menu MRUSystemsSubMenu
{
// ECR 6149
    { Pin True }
    { MenuEntry
	    { Name MRUSystem1 }
    	{ Label "" }
        { Builtin "OpenModelMRU 1" }
    }
    { MenuEntry
	    { Name MRUSystem2 }
    	{ Label "" }
        { Builtin "OpenModelMRU 2" }
    }
    { MenuEntry
	    { Name MRUSystem3 }
    	{ Label "" }
        { Builtin "OpenModelMRU 3" }
    }
    { MenuEntry
	    { Name MRUSystem4 }
    	{ Label "" }
        { Builtin "OpenModelMRU 4" }
    }
}
// ECR 5748 end


Menu View
{
    { InMenuBar True }
    { Label "&View" }
    { Pin True }

    { MenuEntry
	{ Name ShowStandardToolbar }
	{ LabelFunc ShowToolbarLabelFunc }
	{ Builtin "ToggleStandardToolbar" }
    }
    //{ Spacer }
    { MenuEntry
	{ Name ShowLog }
	{ LabelFunc ShowMessageLogLabelFunc }
	{ Builtin "ToggleMsgDialog" }
	{ Accelerator
             { Label "Ctrl+M" }
             { Value "Ctrl<Key>M" }
        }
    }
}

Menu Code
{
    { InMenuBar True }
    { Label "&Code" }
    { Pin True } // ECR 6149
}

Menu Report
{
    { InMenuBar True }
    { Label "&Report" }
    { Pin True }
    { MenuEntry
        { Name Scriptman }
        { Label "&Start Script Manager..." }
        { ActiveFunc stp_repos_is_open }
        { Builtin "EditorQrlEval editor_send_msg(\"scriptman\",\"EditorShowDeiconify\",-1);" }
    }
    { Spacer }
    { MenuEntry
        // there is a known limitation with the file open dialog under NT
        // it will not go to the specified directory if that directory is
        // empty
        { Name OpenReport }
        { Label "&Open Report..." }
        { Builtin "FileChooser \"Open Report\" \"StP Report (*.rtf;*.html;*.mif;*.doc)|*.rtf;*.html;*.mif;*.doc|All Files (*.*)|*\" \"${projdir}${system}/qrl_files\"" }
    }
}

Menu Repository
{
    { InMenuBar True }
    { Label "Repo&sitory" }
    { Pin True } // ECR 6149

    { SubMenu
        { Name MaintainSystems }
        { Label "&Maintain Systems" }
    }
    { SubMenu
        { ParseCondition "repos_is_sybase_available();" } // ECR 6755(6)
        { Name RepositoryUsers }
        { Label "Manage &Users" }
    }
    { Spacer }
    { MenuEntry
        { Name ListRepositories }
        { Label "&List Repositories..." }
        { Builtin "EditorQrlEval stp_run_command(\"ReposAdmin\",\"RManListReps\");" }
    }
    { MenuEntry
        { ParseCondition "repos_is_sybase_available();" } // ECR 6755(6)
        { Name ServerSpace }
        { Label "&Show Sybase Server Space..." }
        { Builtin "EditorQrlEval stp_run_command(\"ReposAdmin\",\"RManShowSpace\");" }
        { ActiveFunc stp_repos_sybase_available }
    }
    { MenuEntry
        { ParseCondition "repos_is_sybase_available();" } // ECR 6755(6)
        { Name PerformMaintenance }
        { Label "&Perform Manager Maintenance..." }
        { Builtin "EditorQrlEval stp_run_command(\"ReposAdmin\",\"RManMaint\");" }
        { ActiveFunc stp_repos_needs_maint }
    }
}

Menu MaintainSystems
{
// ECR 6149
    { Pin True }
    { Label "Maintain Systems" }
// ECR 6149 end
    { MenuEntry
        { Name SystemSpace }
        { Label "&Show System Space..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"SysShowSpace\");" }
        { ActiveFunc stp_repos_has_fixed_space }
    }
    { MenuEntry
        { Name ExpandRepository }
        { Label "&Expand Current System Repository..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"ExpandRepository\");" }
        { ActiveFunc stp_repos_has_fixed_space }
    }
    { Spacer }
    { MenuEntry
        { Name CheckSystemRepository }
        { Label "&Check if System Repository Exists..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"RepExists\");" }
    }
    { MenuEntry
        { Name DestroySystemRepository }
        { Label "Destroy System Repository..." }
        { Builtin "DestroyRepModelDialogShow" }
    }
    { MenuEntry
        { Name RecoverSystemRepository }
        { Label "&Recover System Repository..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"RepBuild\");" }
    }
    { Spacer }
    { MenuEntry
        { Name AddFiles }
        { Label "&Add New Files to Current System Repository..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"Undef\");" }
        { ActiveFunc stp_repos_is_open }
    }
    { MenuEntry
        { Name DeleteUnreffed }
        { Label "Delete Unreferenced Objects in Current System Repository..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"DelUnref\");" }
        { ActiveFunc stp_repos_is_open }
    }
    { Spacer }
    { MenuEntry
        { Name DumpRep }
        { Label "&Dump Current System Repository to Files..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"DumpFiles\");" }
        { ActiveFunc stp_repos_can_dump_and_load }
    }
    { MenuEntry
        { Name LoadRep }
        { Label "&Load Current System Repository from Files..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"LoadFiles\");" }
        { ActiveFunc stp_repos_can_dump_and_load }
    }
    { Spacer }
    { MenuEntry
        { Name DeleteRepositoryContents }
        { Label "Delete Repository Data in Current System" }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"CleanRepository\");" }
        { ActiveFunc stp_repos_is_open }
    }
    { MenuEntry
        { Name TruncateHistory }
        { Label "&Truncate History for Current System..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"TruncHist\");" }
        { ActiveFunc stp_repos_can_trunc_hist }
    }
    { Spacer }
    { MenuEntry
        { Name MigrateSystems }
        { Label "&Migrate Systems..." }
        { Builtin "EditorQrlEval stp_migrate();" }
    }
}

Menu RepositoryUsers
{
// ECR 6149
    { Pin True }
    { Label "Manage Users" }
// ECR 6149 end
    { MenuEntry
        { Name GrantPrivileges }
        { Label "&Grant User(s) Sybase System Creation Privileges..." }
        { Builtin "EditorQrlEval stp_run_command(\"ReposAdmin\",\"AddMaker\");" }
        { ActiveFunc stp_repos_sybase_available }
    }
    { MenuEntry
        { Name RevokePrivileges }
        { Label "Revoke &User(s) Sybase System Creation Privileges..." }
        { Builtin "EditorQrlEval stp_run_command(\"ReposAdmin\",\"DeleteMaker\");" }
        { ActiveFunc stp_repos_sybase_available }
    }
    // ECR 7767 (rollback of ECR 6227) begin
    // // ECR 6227 begin
    // { MenuEntry
    //     { Name ChangeCurrentUser }
    //     { Label "C&hange Current User..." }
    //     { Builtin "EditorQrlEval stp_run_command(\"ReposAdmin\",\"ChangeCurrentUser\");" }
    //     { ActiveFunc stp_repos_sybase_available }
    // }
    // // ECR 6227 end
    // ECR 7767 (rollback of ECR 6227) end
    // ECR 7200 begin
    { MenuEntry
        { Name ListRepsForUser }
        { Label "&List Repositories for User..." }
        { Builtin "EditorQrlEval stp_run_command(\"ReposAdmin\",\"ListRepsForUser\");" }
        { ActiveFunc stp_repos_sybase_available }
    }
    // ECR 7200 end
    { Spacer }
    { SubMenu
        { Name RepositoryManager }
        { Label "&Repository Manager" }
    }
    { SubMenu
        { Name CurrentSystem }
        { Label "&Current System" }
    }
}

Menu RepositoryManager
{
// ECR 6149
    { Pin True }
    { Label "Manage Repository Users" }
// ECR 6149 end
    { MenuEntry
        { Name ListUsers }
        { Label "&List All Users..." }
        { Builtin "EditorQrlEval stp_run_command(\"ReposAdmin\",\"ListUsers\");" }
    }
    { MenuEntry
        { Name ListCurrentUsers }
        { Label "List Current Sybase &Users..." }
        { Builtin "EditorQrlEval stp_run_command(\"ReposAdmin\",\"ListCurrentUsers\");" }
        { ActiveFunc stp_repos_sybase_available }
    }
    { MenuEntry
        { Name AddUsers }
        { Label "&Add Sybase User(s)..." }
        { Builtin "EditorQrlEval stp_run_command(\"ReposAdmin\",\"AddUsers\");" }
        { ActiveFunc stp_repos_sybase_available }
    }
    { MenuEntry
        { Name DeleteUsers }
        { Label "Delete Sybase User(s)..." }
        { Builtin "EditorQrlEval stp_run_command(\"ReposAdmin\",\"DeleteUsers\");" }
        { ActiveFunc stp_repos_sybase_available }
    }
    { MenuEntry
        { Name ChangePassword }
        { Label "&Change User(s) Sybase Password..." }
        { Builtin "EditorQrlEval stp_run_command(\"ReposAdmin\",\"ChangePassword\");" }
        { ActiveFunc stp_repos_sybase_available }
    }
}


Menu CurrentSystem
{
// ECR 6149
    { Pin True }
    { Label "Manage Current System Users" }
// ECR 6149 end
    { MenuEntry
        { Name ListUsers }
        { Label "&List All Users" }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"SysListUsers\");" }
        // ECR 7944 begin
        //{ ActiveFunc stp_repos_is_open }
        { ActiveFunc stp_repos_is_sybase }
        // ECR 7944 end
    }
    { MenuEntry
        { Name ListCurrentUsers }
        { Label "List Current &Users" }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"SysListCurrentUsers\");" }
        { ActiveFunc stp_system_can_list_current_users }
    }
    { MenuEntry
        { Name AddUsers }
        { Label "&Add Sybase User(s)..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"SysAddUser\");" }
        { ActiveFunc stp_system_can_modify_users }
    }
    { MenuEntry
        { Name DeleteUsers }
        { Label "Delete Sybase User(s)..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"SysDeleteUser\");" }
        { ActiveFunc stp_system_can_modify_users }
    }
    { MenuEntry
        { Name ChangeGroup }
        { Label "&Change Sybase User(s) Group..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"SysChangeUser\");" }
        { ActiveFunc stp_system_can_modify_users }
    }
    { MenuEntry
        { Name ChangeOwner }
        { Label "Change Sybase &Owner of Current System..." }
        { Builtin "EditorQrlEval stp_run_command(\"SysAdmin\",\"ChangeOwner\");" }
        { ActiveFunc stp_system_can_modify_users }
    }
}


Menu Tools
{
    { InMenuBar True }
    { Label "&Tools" }
    { Pin True } // ECR 6149

    { SubMenu
        { Name LockingSubMenu }
        { Label "&Locks" }
    }
    { Spacer { Name BelowLocks } }
    { MenuEntry
        { Name ShowFilesWithSyntax }
        { Label "List Files With Synta&x Errors" }
        { ActiveFunc active_diagram_or_table_class_selected }
        { Builtin "EditorQrlEval \"stp_editor_show_files_syntax();\"" }
    }
    { Spacer { Name BelowSyntaxErrors } }
    { SubMenu
        { Name BaselineSubMenu }
        { Label "B&aseline" }
    }
    { MenuEntry
        { ParseCondition "is_vcc_available();" }
        { Name VersionControl }
        { Label "&Version Control..." }
        { Builtin "EditorQrlEval stp_run_command(\"Utilities\",\"VccCommandsClass\");" }
    }
    { Spacer { Name BelowVersionControl } }
    { MenuEntry
        { Name StPUtil }
        { Label "&StP Utility..." }
        { Builtin "EditorQrlEval stp_run_command(\"Utilities\",\"stputil\");" }
    }
    { MenuEntry
        // ECR 5118 begin
        { ParseCondition "use_doors_integration();" }
        // ECR 5118 end
        { Name SyncDOORS }
        { Label "Synchroni&ze DOORS with StP" }
        { Builtin "EditorQrlEval stp_run_command(\"Utilities\",\"DOORSSynchronize\");" }
    }
    { MenuEntry
        { Name ShowToolInfo }
        { Label "Show &ToolInfo Variable..." }
        { Builtin "EditorQrlEval stp_run_command(\"Utilities\",\"toolinfo\");" }
    }
    
// ECR 7389 ->
    { MenuEntry
        { Name EditToolInfo }
        { Label "&Edit ToolInfo Variables..." }
        { Builtin "EditorQrlEval stp_run_command(\"Utilities\",\"tv_main\");" }
    }
// ECR 7389 <-

    { Spacer { Name BelowTI }}
    { MenuEntry
        { Name Options }
        { Label "&Options..." }
        { Builtin "DesktopOptionsShow" }
    }
}

Menu LockingSubMenu
{
// ECR 6149
    { Pin True }
    { Label "Locks" }
// ECR 6149 end
    { MenuEntry
        { Name LockingCommand }
        { Label "&Manage Locks..." }
        { ActiveFunc stp_editor_files_selected }
        { Builtin "EditorQrlEval \"stp_lock_diagram_or_table();\"" }
    }
    { MenuEntry
        { Name SetLockAdmin }
        { Label "&Set Lock Administrators" }
        { Builtin "EditorQrlEval stp_run_command(\"Utilities\",\"SetLockAdministrators\");" }
    }
    { MenuEntry
        { Name ListLocks }
        { Label "&List Locks" }
        { Builtin "EditorQrlEval stp_run_command(\"Utilities\",\"ListLocks\");" }     
    }
}

// SPR 4052 - Model Management
Menu BaselineSubMenu
{
// ECR 6149
    { Pin True }
    { Label "Baseline System" }
// ECR 6149 end
    { MenuEntry
        { Name CreateSystemBaselineCommand }
        { Label "Baseline &Current System..." }
        { ActiveFunc stp_repos_is_open }
        { Builtin "EditorQrlEval stp_run_command(\"Utilities\",\"CreateSystemBaseline\");" }     
    }
    { MenuEntry
        { Name RestoreSystemBaselineCommand }
        { Label "&Restore Selected Baseline System..." }
        { Builtin "EditorQrlEval stp_run_command(\"Utilities\",\"RestoreSystemBaseline\");" }
    }
}

Include "rules/help_menu.std"


// Global declarations for reuse in rules:

Global 1 Space1
{
    { Properties { Space { Name "Space1" } } }
}

Global 1 Space2
{
    { Properties { Space { Name "Space2" } } }
}

Global 1 SystemProperty
{
    { Properties
	{ Text
	    { Name "system_name" }
	    { Label "System:" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 50 }
	    { DispLength 20 }
	}
    }
}

// ECR 3688 begin
Global 1 CopyProperty
{
	{ Properties
	    { Footer
    		{ Name "Footer2" }
    		{ RightFooter "${class.label}" }
	    }
	    { Activation 
    		{ Target "Footer2" }
    		{ OnInit Active }
	    }
	    { Text
    		{ Name "to_proj_sys" }
    		{ Label "Target System:" }
    		{ Type Text }
	    	{ MaxLength 256 }
		    { DispLength 40 }
            { InitVal "${projdir}" }
	    }
        { Button
            { Name "browse_for_system" }
            { Label "Choose" }
            { Event
                { Type Select }
                { Callback "select_stp_system_callback" }
            }
        }
        { Group
            { Name "system_group" }
            { Label "" }
            { Type Horizontal }
            { Resizable ResizeAny }
            { ChildSizePolicy ResizeWidth }
            { LayoutPolicy ResizeAny }
            { VerticalAlign AlignLabels }
            { Members ( to_proj_sys browse_for_system ) }
	    }
	    { Text
    		{ Name "to_name" }
    		{ Label "Target Name:" }
    		{ Type Text }
            // ECR4244 begin change: Copy one or more files
            // we don't need a name if more than one file is selected
            // because then we assume to copy with the same name
            // If we are copying within the same system the check is 
            // done in the copy_files function
    		// { MinLength 1 }
            // ECR4244 end change: Copy one or more files
    		{ DispLength 40 }
	    }
	}
}
// ECR 3688

Global 1 StputilCopyAnnot
{
    { Properties
	{ Choice
	    { Name "copy_annot" }
	    { Label "" }
	    { Type CheckBox }
	    { ChoiceItem
		{ Label "Copy Annotations" }
		{ OnValue "-n" }
    	    	{ Init On }
	    }
	}
    }
}

Global 1 StputilCopyForce
{
    { Properties
	{ Choice
	    { Name "force" }
	    { Label "" }
	    { Type CheckBox }
	    { ChoiceItem
		{ Label "Ask for Confirmation if File Exists" }
		{ OffValue "-Force" }
		{ OnValue "" }
		{ Init On }
	    }
	}
    }
}

Global 1 StputilForce
{
    { Properties
	{ Choice
	    { Name "force" }
	    { Label "" }
	    { Type CheckBox }
	    { ChoiceItem
		{ Label "Ask for Confirmation" }
		{ OffValue "-Force" }
		{ OnValue "" }
		{ Init On }
	    }
	}
    }
}

Global 1 StputilSubsystem
{
    { Properties
    	{ Choice
	    { Name "subsystem" }
	    { Label "Subsystem:" }
	    { Type AbbrMenu }
	    { ChoiceItem
	    	{ Label "Main" }
	    	{ Value "" }
	    	{ Init On }
	    }
	    { ChoiceItem
	    	{ Label "Locking" }
	    	{ Value "-C 'Interactive 1' -C lock" }
	    }

	    // BUG #2755 -- 
	    // Remove Version Control from the StP Utility menu ...
	    // { ChoiceItem
	    //	{ ParseCondition "is_vcc_available();" }
	    //	{ Label "Version and Configuration Control" }
	    //	{ Value "-C 'Interactive 1' -C vcc" }
	    // }

	    { ChoiceItem
	    	{ Label "Environment" }
	    	{ Value "-C 'Interactive 1' -C env" }
	    }
    	}
    }
}

// Note: This command is similar to some others

Global 1 LockCommand
{
    { Properties
    	{ Choice
	    { Name "lock_command" }
	    { Label "Command:" }
	    { Type AbbrMenu }
	    { ChoiceItem
	    	{ Label "List Locks" }
	    	{ Value "list" }
	    	{ Init On }
    	    	{ Activation
    	    	    { Target "any_lock_type" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_dest_option" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_acc_option" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_owner_option" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_force_del" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "force" }
    	    	    { On Inactivate }
    	    	}
	    }
	    { ChoiceItem
	    	{ Label "Inquire for Lock Set" }
	    	{ Value "inq" }
    	    	{ Activation
    	    	    { Target "any_lock_type" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_dest_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_acc_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_owner_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_exp_only" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "delete_exp_locks" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_force_del" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "force" }
    	    	    { On Inactivate }
    	    	}
	    }
	    { ChoiceItem
	    	{ Label "Check Permission" }
	    	{ Value "check" }
    	    	{ Activation
    	    	    { Target "any_lock_type" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_type" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_dest_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_acc_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_owner_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_exp_only" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "delete_exp_locks" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_force_del" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "force" }
    	    	    { On Inactivate }
    	    	}
	    }
	    { ChoiceItem
	    	{ Label "Set Lock" }
	    	{ Value "set" }
    	    	{ Activation
    	    	    { Target "any_lock_type" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_type" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_dest_option" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_acc_option" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_owner_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_exp_only" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "delete_exp_locks" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_force_del" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "force" }
    	    	    { On Inactivate }
    	    	}
	    }
	    { ChoiceItem
	    	{ Label "Delete Lock" }
	    	{ Value "delete" }
    	    	{ Activation
    	    	    { Target "any_lock_type" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_dest_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_acc_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_owner_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_exp_only" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "delete_exp_locks" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_force_del" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "force" }
    	    	    { On Activate }
    	    	}
	    }
    	}
    }
}

Global 1 LockForceDeletion
{
    { Properties
	{ Choice
	    { Name "lock_force_del" }
	    //{ Label "Force Lock Deletion:" }
	    { Label "" }
	    { Type CheckBox }
	    { ChoiceItem
		{ Label "Force Lock Deletion" }
		{ OnValue "-f" }
	    }
	}
    }
}

Global 1 LockType
{
    { Properties
	{ Choice
	    { Name "any_lock_type" }
	    { Label "Lock Type:" }
	    { Type CheckBox }
	    { ChoiceItem
		{ Label "Any" }
		{ OnValue "" }
	    	{ Init On }
    	    	{ Activation
    	    	    { Target "lock_type" }
    	    	    { On InActivate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_type" }
    	    	    { Off Activate }
    	    	}
	    }
	}
    	{ Choice
	    { Name "lock_type" }
	    { Label "" }
	    { Type Exclusive }
	    { ChoiceItem
	    	{ Label "Permanent" }
	    	{ Value "-t P" }
	    }
	    { ChoiceItem
	    	{ Label "Automatic" }
	    	{ Value "-t A" }
	    }
    	}
        { Group
    	    { Name "g_lock_type" }
    	    { Type Horizontal }
    	    { VerticalAlign AlignCenter }
            { ResizePolicy ResizeNone }
	    { Members ( any_lock_type lock_type ) }
    	}
    }
}

Global 1 LockDiag
{
    { Properties
	{ Text
	    { Name "lock_diag" }
	    { Label "Name:" }
	    { Type Text }
	    { MinLength 0 }
    	    { MaxLength 256 }
	    { DispLength 40 }
	}
    }
}

Global 1 LockDeleteList
{
    { Properties
    	{ Choice
    	    { Name "lock_dest_option" }
    	    //{ Label "Lock Delete List:" }
    	    { Label "" }
    	    { Type CheckBox }
    	    { ChoiceItem
		{ Name CI1 }
        	{ Label "Delete List " }
    	        { Active False }
    	        { OnValue "-d" }
    	    	{ Activation
    	    	    { Target "lock_dest" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_dest" }
    	    	    { Off Inactivate }
    	    	}
    	    }
    	}
	{ Text
	    { Name "lock_dest" }
	    { Label "" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 256 }
	    { DispLength 40 }
	}
    	{ Group
    	    { Name "g_lock_dest" }
    	    { Type Horizontal }
    	    { Align Center }
    	    { HorizontalSpacing 0 }
	    { Members ( lock_dest_option lock_dest ) }
    	}
    }
}

Global 1 LockAccessList
{
    { Properties
    	{ Choice
    	    { Name "lock_acc_option" }
    	    //{ Label "Access List:" }
    	    { Label "" }
    	    { Type CheckBox }
    	    { ChoiceItem
		{ Name CI1 }
        	{ Label "Access List" }
    	        { Active False }
    	        { OnValue "-a" }
    	    	{ Activation
    	    	    { Target "lock_acc" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_acc" }
    	    	    { Off Inactivate }
    	    	}
    	    }
    	}
	{ Text
	    { Name "lock_acc" }
	    { Label "" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 256 }
	    { DispLength 40 }
	}
    	{ Group
    	    { Name "g_lock_acc" }
    	    { Type Horizontal }
    	    { Align Center }
    	    { HorizontalSpacing 0 }
	    { Members ( lock_acc_option lock_acc ) }
    	}
    }
}

Global 1 LockOwnerList
{
    { Properties
    	{ Choice
    	    { Name "lock_owner_option" }
    	    //{ Label "Lock Owner List:" }
    	    { Label "" }
    	    { Type CheckBox }
    	    { ChoiceItem
		{ Name CI1 }
        	{ Label "Owner List " }
    	        { Active False }
      	        { OnValue "-o" }
    	    	{ Activation
    	    	    { Target "lock_owner" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "lock_owner" }
    	    	    { Off Inactivate }
    	    	}
    	    }
    	}
	{ Text
	    { Name "lock_owner" }
	    { Label "" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 256 }
	    { DispLength 40 }
	}
    	{ Group
    	    { Name "g_lock_owner" }
    	    { Type Horizontal }
    	    { Align Center }
    	    { HorizontalSpacing 0 }
	    { Members ( lock_owner_option lock_owner ) }
    	}
    }
}


Global 1 StputilDelUnrefWhich
{
    { Properties
	{ Choice
	    { Name "del_unref_which" }
	    { Label "" }
	    { Type CheckBox }
	    { ChoiceItem
		{ Label "Do Not Delete If Annotated" }
		{ OnValue "-C 'clean'" }
		{ OffValue "-C 'clean -n'" }
	    	{ Init On }
	    }
	}
    }
}

Global 1 ScriptsForce
{
    { Properties
	{ Choice
	    { Name "scripts_force" }
	    { Type CheckBox }
	    { ChoiceItem
		{ Label "Confirm" }
		{ OnValue "False" }
		{ OffValue "True" }
	    }
	}
    }
}

Global 1 ScriptsForceAllFiles
{
    { Properties
	{ Choice
	    { Name "scripts_force_all_files" }
	    { Type CheckBox }
	    { ChoiceItem
		{ Label "Force" }
		{ OnValue "True" }
		{ OffValue "False" }
	    }
	}
    }
}

Global 1 ScriptsFast
{
    { Properties
	{ Choice
	    { Name "scripts_fast" }
	    { Label "Fast:" }
	    { Type CheckBox }
	    { ChoiceItem
		{ Label "" }
		{ OnValue "True" }
		{ OffValue "False" }
	    }
	}
    }
}

Global 1 ScriptsBestEffort
{
    { Properties
	{ Choice
	    { Name "best_effort" }
	    { Type CheckBox }
	    { ChoiceItem
		{ Label "Stop on error" }
		{ OnValue "False" }
		{ OffValue "True" }
	    }
	}
    }
}

Global 1 ScriptsLoadSysUserInfo
{
    { Properties
	{ Qrl { QrlFile "rules/qrl/stp_loadsys.qrl" } }
        { Choice
            { Name "scripts_load_user_info" }
            { Label "Load System User Info:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OnValue "True" }
                { OffValue "False" }
            }
            { Event
                 { Type Initialize }
                 { Callback "LoadAddUserInit" }
            }
        }
    }    
}


Global 1 ScriptsAddSize
{
    { Properties
	{ Text
	    { Name "addsize" }
	    { Label "Size of Expansion (in MB):" }
	    { Type Text }
	    { MinLength 1 }
    	    { MaxLength 20 }
	    { DispLength 3 }
	    { InitVal "2" }
	}
    }
}

Global 1 ScriptsSize
{
    { Properties
	{ Text
	    { Name "size" }
	    { Label "Size of Repository (in MB):" }
	    { Type Text }
	    { MinLength 1 }
            { Resizable ResizeNone }
	    { DispLength 11 }
	    { InitVal "6" }
	}
    }
}

Global 1 DatabaseType
{
    { Properties
    	{ Choice
	    { Name "database_type" }
	    { Label "Database Type:" }
	    { Type AbbrMenu }
	    { ChoiceItem
	    	{ Label "Sybase " }
	    	{ Value "Sybase" }
	    	//{ Init On }
                { Event
                    { Type Select }
                    { Callback "dbType_ValueChanged_cb" }
                }
                { Activation
                    { Target "size" }
                    { On Active }
                }
	    }
	    { ChoiceItem
        { ParseCondition "is_windows_platform();" } //ECR 4466
	    	{ Label "MS Jet " }
	    	{ Value "MS Jet" }
                { Event
                    { Type Select }
                    { Callback "dbType_ValueChanged_cb" }
                }
                { Activation
                    { Target "size" }
                    { On Inactive }
                }
	    }
    	}
    }
}

Global 1 AllServers
{
    { Properties
        { Choice
            // ECR 6125 begin
            { Name "server_type" }
            { Label "Server Type:" }
            { Type AbbrMenu }
            { Event
                { Type Select }
                { Callback "ServerTypeValueChanged_cb" }
            }
            { ChoiceItem
                { ParseCondition "repos_is_sybase_available();" } // ECR 6755(6)
                { Label "Sybase                        " }
                { Value "Sybase" }
                { Init On }
            }
            { ChoiceItem
                { ParseCondition "is_windows_platform();" } //ECR 4466
                { Label "MS Jet                        " }
                { Value "MS Jet" }
            }
        }
        { Choice
            { ParseCondition "repos_is_sybase_available();" } // ECR 6755(6)
            { Name "server_name" }
            { Label "Server Name:" }
            { Type AbbrMenu }
            { Event
                { Type Activation }
                { Callback "ServerNameActivated_cb" }
            }
            { ChoiceItem
                { Label "Default Sybase Server" }
                { Value "Default_Sybase_Server" }
                { Init On }
            }
        }

        { Group
            { Name "TheGroup" }
            { Type Vertical }
            { HorizontalAlign AlignLabels }
            { Resizable ResizeAny }
            { ChildSizePolicy ResizeWidth }
            { LayoutPolicy ResizeAny }
            { Members ( server_type server_name ) }
        } 
        // ECR 6125 end
    }

}

// ECR 6125 begin
Global 1 AllSybaseServers
{
    { ParseCondition "repos_is_sybase_available();" } // ECR 6755(6)
    { Properties
        { Choice
            { Name "server_name" }
            { Label "Sybase Server:" }
            { Type AbbrMenu }
            { Event
                { Type Activation }
                { Callback "SybaseServerNameActivated_cb" }
            }
            { ChoiceItem
                { Label "Default Sybase Server" }
                { Value "Default_Sybase_Server" }
                { Init On }
            }
        }
    }
}
// ECR 6125 end

Global 1 ScriptsUser
{
    { Properties
	{ Text
	    { Name "user_name" }
	    { Label "User Name:" }
	    { Type Text }
	    { MinLength 1 }
    	    { MaxLength 50 }
	    { DispLength 20 }
	}
    }
}

Global 1 ScriptsNewOwner
{
    { Properties
	{ Text
	    { Name "user_name" }
	    { Label "New Owner:" }
	    { Type Text }
	    { MinLength 1 }
    	    { MaxLength 50 }
	    { DispLength 20 }
	}
    }
}

Global 1 ScriptsUsers
{
    { Properties
	{ Text
	    { Name "user_names" }
	    { Label "User Name(s):" }
	    { Type Text }
	    { MinLength 1 }
    	    { MaxLength 256 }
	    { DispLength 40 }
	}
    }
}

Global 1 ScriptsWriters
{
    { Properties
	{ Text
	    { Name "writers" }
	    { Label "Writer(s):" }
	    { Type Text }
	    { MinLength 0 }
    	    { MaxLength 256 }
	    { DispLength 40 }
	}
    }
}

Global 1 ScriptsReaders
{
    { Properties
	{ Text
	    { Name "readers" }
	    { Label "Reader(s):" }
	    { Type Text }
	    { MinLength 0 }
    	    { MaxLength 256 }
	    { DispLength 40 }
	}
    }
}

Global 1 ScriptsFileNames
{
    { Properties
	{ Text
	    { Name "filenames" }
	    { Label "File Name(s):" }
	    { Type Text }
	    { MinLength 0 }
    	    { MaxLength 5000 }
	    { DispLength 40 }
	}
    }
}

//ECR 4461 begin - this is replaced with Choice in SE and UML templates
//Global 1 ScriptsFileTypes
//{
    //{ Properties
    //{ Text
	//    { Name "filetypes" }
	//    { Label "File Types(s):" }
	//    { Type Text }
	//    { MinLength 0 }
    //	  { MaxLength 5000 }
	//    { DispLength 40 }
	//}
    //}
//}
//ECR 4461 end

Global 1 ScriptsReadWrite
{
    { Properties
        { Choice
	    { Name "read_write" }
	    { Label "Group " }
	    { Type Exclusive }
	    { ChoiceItem
	        { Name "write" }
	        { Label "Writers" }
	        { Value "False" }
	        { Init On }
	    }
	    { ChoiceItem
	        { Name "read" }
	        { Label "Readers" }
	        { Value "True" }
	        { Init Off }
	    }
	}
    }
}

Global 1 ScriptsDumpDir
{
    { Properties
    	// ECR 3651 begin
    	{ Text
            { ParseCondition "is_windows_platform();" }
    	    { Name "dump_dir" }
    	    { Label "Dump To Directory:" }
    	    { Type Text }
    	    { MinLength 1 }
    	    { MaxLength 256 }
    	    { DispLength 60 }
            { InitVal "${projdir}${system}\dump" }
    	}
    	{ Text
            { ParseCondition "!is_windows_platform();" }
    	    { Name "dump_dir" }
    	    { Label "Dump To Directory:" }
    	    { Type Text }
    	    { MinLength 1 }
    	    { MaxLength 256 }
    	    { DispLength 60 }
            { InitVal "${projdir}${system}/dump" }
    	}
        { Button
            { Name "browse_for_dumpdir" }
            { Label "Choose" }
            { Event
                { Type Select }
                { Callback "select_dumpdir_callback" }
            }
        }
        { Group
            { Name "folder_group" }
            { Label "" }
            { Type Horizontal }
            { Resizable ResizeAny }
            { ChildSizePolicy ResizeWidth }
            { LayoutPolicy ResizeAny }
            { Align Bottom }
            { Members ( dump_dir browse_for_dumpdir ) }
        }
    	// ECR 3651 end
    }
}

Global 1 ScriptsLoadDir
{
    { Properties
    	{ Qrl { QrlFile "rules/qrl/stp_loadsys.qrl" } }
    	// ECR 3651 begin
    	{ Text
    	    { Name "dump_dir" }
    	    { Label "Load From Directory:" }
    	    { Type Text }
    	    { MinLength 1 }
    	    { MaxLength 256 }
    	    { DispLength 40 }
            { InitVal "${projdir}${system}/dump/" } //ECR 6211
            { Event
                 { Type EventText }
                 { Callback "LoadAddUserActivate" }
            }
    	}
        { Button
            { Name "browse_for_dumpdir" }
            { Label "Choose" }
            { Event
                { Type Select }
                { Callback "select_dumpdir_callback" }
            }
        }
        { Group
            { Name "folder_group" }
            { Label "" }
            { Type Horizontal }
            { Resizable ResizeAny }
            { ChildSizePolicy ResizeWidth }
            { LayoutPolicy ResizeAny }
            { Align Bottom }
            { Members ( dump_dir browse_for_dumpdir ) }
        }
    	// ECR 3651 end
    }
}

Global 1 ScriptsWhichDevices
{
    { Properties
    	{ Choice
	        { Name "which_devices" }
	        { Label "Show Space On:" }
	        { Type Exclusive }
	        { ChoiceItem
	    	    { Label "Devices For Current Settings" }
	    	    { Value "False" }
	    	    { Init On }
	        }
	        { ChoiceItem
	    	    { Label "All Devices" }
	    	    { Value "True" }
	        }
    	}
    }
}

Global 1 StartGUI
{
    { ClassCommand
	{ Name "StartGUI" }
	// ECR 4667
	{ QrlEvaluate
            "editor_send_msg(\"${editor}\",\"EditorShowDeiconify\",-1);editor_send_msg(\"${editor}\",\"QueryDialogShow\",-1);"
        }
	{ Type Nowin }
    }
}

Global 1 StartDiagramEditor
{
    { ClassCommand
	{ Name StartDiagramEditor }
	{ Label "&New" }
	{ Command "stp_startup -C \"gde -p ${projdir} -s ${system} -ed ${editor}\"" }
	{ Type Nowin }
    }
}

Global 1 StartTableEditor
{
    { ClassCommand
	{ Name "StartTableEditor" }
	{ Label "&New" }
	{ Command "stp_startup -C \"gte -p ${projdir} -s ${system} -ed ${editor}\"" }
	{ Type Nowin }
    }
}

Global 1 StartTableTypeEditor
{
    { ClassCommand
	{ Name "StartTableTypeEditor" }
	{ Label "&New" }
	{ Command "stp_startup -C \"gte -p ${projdir} -s ${system} -ed ${editor} -T ${class.filetype}\"" }
	{ Type Nowin }
    }
}

Global 1 EditDiagram
{
    { ObjectCommand
	{ Name EditDiagram }
	{ Label "&Open" }
	{ DefaultCommand True }
	{ Chdir False }
	{ SingleObject True }
	// ECR 7464
	// { QrlEvaluate
	    // "editor_send_msg(\"${editor}\",\"EditorQrlEvalNoSave NavLoadAndFind(\\"${cmd.objects}\\",NULL);\",-1);" }
	{ QrlEvaluate
	    "editor_send_msg(\"${editor}\",\"EditorQrlEvalNoSave NavLoadAndFind(\\"${cmd.objects}\\",NULL);\",-1);" }
	{ Type Nowin }
    }
}

Global 1 EditTable
{
    { ObjectCommand
	{ Name "EditTable" }
	{ Label "&Open" }
        { DefaultCommand True }
	{ Chdir False }
	{ SingleObject True }
	// ECR 7464
	// { QrlEvaluate
	    // "editor_send_msg(\"${editor}\",\"EditorQrlEvalNoSave NavLoadAndFind(\\"${cmd.objects}\\",NULL);\",-1);" }
	{ QrlEvaluate
	    "editor_send_msg(\"${editor}\",\"EditorQrlEvalNoSave NavLoadAndFind(\\"${cmd.objects}\\",NULL);\",-1);" }
	{ Type Nowin }
    }
}

Global 1 TableTypeEditTable
{
    { ObjectCommand
	{ Name "TableTypeEditTable" }
	{ Label "&Open" }
        { DefaultCommand True }
	{ Chdir False }
	{ SingleObject True }
        { Command "stpem -ed ${editor} -s ${system} -p ${projdir} -C EditorShowDeiconify -C \"EditorSetFileName ${cmd.objects}\" -C \"TableToggleType ${class.filetype}\" -C BufferRefresh" }
	{ Type Nowin }
    }
}

Global 1 CheckSemanticsAllDiagrams
{
    { ClassCommand
	{ Name "CheckSemanticsAllDiagrams" }
	{ Label "Check Semantics for All Diagrams" }
	{ Command "qrp -forward_message ${msgd_handle} -p ${projdir} -s ${system} qrl/check/${editor}.qrl" }
        { Type Nowin }
    }
}

Global 1 CheckSemanticsAllTables
{
    { ClassCommand
	{ Name "CheckSemanticsAllTables" }
	{ Label "Check Semantics for All Tables" }
	{ Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} qrl/check/${editor}.qrl" }
        { Type Nowin }
    }
}

// Note: Change related command if this command is changed

Global 1 CheckSemanticsDiagrams
{
    { ObjectCommand
	{ Name "CheckSemanticsDiagrams" }
	{ Label "Check Semantics" }
	{ Chdir False }
	{ SingleObject False }
	{ Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} qrl/check/${editor}.qrl -x files \"${cmd.objects}\"" }
        { Type Nowin }
    }
}

// Note: Change related command if this command is changed

Global 1 TableTypeCheckSemanticsTables
{
    { ObjectCommand
	{ Name "CheckSemanticsTableTypes" }
	{ Label "Check Semantics" }
	{ Chdir False }
	{ SingleObject False }
	{ Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} qrl/check/${editor}.qrl -x table_type ${class.filetype} -x files \"${cmd.objects}\"" }
        { Type Nowin }
    }
}

Global 1 CheckSemanticsTables
{
    { ObjectCommand
	{ Name "CheckSemanticsTables" }
	{ Label "Check Semantics" }
	{ Chdir False }
	{ SingleObject False }
	{ Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} qrl/check/${editor}.qrl -x files \"${cmd.objects}\"" }
        { Type Nowin }
    }
}

Global 1 FindAllFilesWithErrors
{
    { ClassCommand
	{ Name "FindAllFilesWithErrors" }
	{ Label "Find All Files With Syntax Errors" }
	{ Chdir False }
	{ SingleObject False }
	{ Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} qrl/check/files_with_errors.qrl" }
        { Type Nowin }
    }
}

// BUG 2755 -- Version Control Stuff ...
//
Global 1 VccCommandsClass
{
    { ClassCommand
        { SpaceAfter True }
	{ Name "VccCommandsClass" }
	{ Label "Version Control Command..." }
	{ ShowPropsOnExec True }
	{ QrlEvaluate "StartVersionControlSA();" }
    }
}

// ECR 5887 begin
Global 1 VccCommands
{
    { ObjectCommand
    }
}
// ECR 5887 end

PropertySheet VccCommandProp
{
    { Name "VccCommandProp" }
    { Label "Version Control Command..." }
    { ShowPropsOnExec True }
    { UseProperty VccCommandClass }
    { UseProperty VccFileInfo }
    { UseProperty VccRevision }
    { UseProperty VccComment }
    { Properties
    	{ Button
	    { Name "OK" }
	    { Label "OK" }
	    { Event
		{ Type Select }
		{ Callback "VersionControl_cb" }
	    }
	}
    }
}

// ECR 4338 -- Adding VccCommandPropContinuus
PropertySheet VccCommandPropContinuus
{
    { Name "VccCommandPropContinuus" }
    { Label "Version Control Command..." }
    { ShowPropsOnExec True }
    { UseProperty VccCommandClassContinuus }
    { UseProperty VccProjectName }
    { UseProperty VccProjectVersion }
    { UseProperty VccFileInfo }
    { UseProperty VccVersion }
    { UseProperty VccComment }
    { Properties
    	{ Button
	    { Name "OK" }
	    { Label "OK" }
	    { Event
		{ Type Select }
		{ Callback "VersionControl_cb" }
	    }
	}
    }
}

Global 1 VccComment
{
    { Properties
    	{ Choice
    	    { Name "vcc_com_option" }
    	    { Label "Comment:" }
    	    { Type CheckBox }
    	    { ChoiceItem
        	{ Label "" }
    	        { Active False }
      	        { OnValue "-c" }
    	    	{ Activation
    	    	    { Target "vcc_comment" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_comment" }
    	    	    { Off Inactivate }
    	    	}
    	    }
    	}
	{ Text
	    { Name "vcc_comment" }
	    { Label "" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 999 }
	    { DispLength 50 }
	}
    	{ Group
    	    { Name "g_vcc_comment" }
    	    { Type Horizontal }
    	    { Align Center }
    	    { HorizontalSpacing 0 }
	    { Members ( vcc_com_option vcc_comment ) }
    	}
    }
}

// ECR 4338 (Continuus) -- Adding VccProjectName & VccProjectVersion
Global 1 VccProjectName
{
    // Project name
    { Properties
        { Text
	    { Name "vcc_projname" }
	    { Label "Project Name:" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 100 }
	    { DispLength 50 }
	}
    }
}

Global 1 VccProjectVersion
{
    // Project version
    { Properties
        { Text
	    { Name "vcc_projver" }
	    { Label "Project Version:" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 100 }
	    { DispLength 50 }
	}
    }
}

Global 1 VccFileInfo
{
    // File name and location
    { Properties
        { Text
	    { Name "vcc_filename" }
	    { Label "File Name:" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 100 }
	    { DispLength 50 }
	}
    // ECR 3651a begin
    { Button
        { Name "browse_for_vcc_filename" }
        { Label "Choose" }
        { Event
            { Type Select }
            { Callback "select_vcc_filename_callback" }
        }
    }
    { Group
        { Name "filename_group" }
        { Label "" }
        { Type Horizontal }
        { Resizable ResizeAny }
        { ChildSizePolicy ResizeWidth }
        { LayoutPolicy ResizeAny }
        { Align Bottom }
        { Members ( vcc_filename browse_for_vcc_filename ) }
    }
    // ECR 3651a end
	{ Text
	    { Name "vcc_fileloc" }
	    { Label "Location:" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 200 }
	    { DispLength 50 }
	    { InitVal "${projdir}baselines" }
	}
    // ECR 3651a begin
    { Button
        { Name "browse_for_vcc_location" }
        { Label "Choose" }
        { Event
            { Type Select }
            { Callback "select_vcc_location_callback" }
        }
    }
    { Group
        { Name "fileloc_group" }
        { Label "" }
        { Type Horizontal }
        { Resizable ResizeAny }
        { ChildSizePolicy ResizeWidth }
        { LayoutPolicy ResizeAny }
        { Align Bottom }
        { Members ( vcc_fileloc browse_for_vcc_location ) }
    }
    // ECR 3651a end
    }
}


Global 1 VccCommandClass
{
    { Properties
    	{ Choice
	    { Name "vcc_command" }
	    { Label "Command:" }
	    { Type AbbrMenu }
	    { ChoiceItem
	    	{ Label "Create Initial Version" }
    	    	{ Activation
    	    	    { Target "vcc_rev_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Activate }
    	    	}
	    }
	    { ChoiceItem
	    	{ Label "Get Read-Only Version" }
    	    	{ Activation
    	    	    { Target "vcc_rev_option" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Inactivate }
    	    	}
	    }
	    { ChoiceItem
	    	{ Label "Get Version & Lock" }
    	    	{ Activation
    	    	    { Target "vcc_rev_option" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Inactivate }
    	    	}
	    }
	    { ChoiceItem
	    	{ Label "Unlock File" }
    	    	{ Activation
    	    	    { Target "vcc_rev_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Inactivate }
    	    	}
	    }
	    { ChoiceItem
	    	{ Label "Check In New Version" }
    	    	{ Activation
    	    	    { Target "vcc_rev_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Activate }
    	    	}
    	    }
	    { ChoiceItem
	    	{ Label "Show Change History" }
    	    	{ Activation
    	    	    { Target "vcc_rev_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Inactivate }
    	    	}
    	    }
	    { ChoiceItem
	    	{ Label "Delete File From Version Control" }
    	    	{ Activation
    	    	    { Target "vcc_rev_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Inactivate }
    	    	}
    	    }
	    { ChoiceItem
	    	{ Label "List Files Under Version Control" }
    	    	{ Activation
    	    	    { Target "vcc_rev_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Inactivate }
    	    	}
    	    }
    	}
    }
}

// ECR 4338 -- Adding VccCommandClassContinuus
Global 1 VccCommandClassContinuus
{
    { Properties
    	{ Choice
	    { Name "vcc_command" }
	    { Label "Command:" }
	    { Type AbbrMenu }
	    { ChoiceItem
	    	{ Label "Create Initial Version" }
    	    	{ Activation
    	    	    { Target "vcc_ver_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_projname" }
    	    	    { On Activate }
    	    	}
	    }
	    { ChoiceItem
	    	{ Label "Check Out File" }
    	    	{ Activation
    	    	    { Target "vcc_ver_option" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_projname" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Inactivate }
    	    	}
	    }
	    { ChoiceItem
	    	{ Label "Check In New Version" }
    	    	{ Activation
    	    	    { Target "vcc_projname" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_ver_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Activate }
    	    	}
    	    }
	    { ChoiceItem
	    	{ Label "Show Change History" }
    	    	{ Activation
    	    	    { Target "vcc_projname" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_ver_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Inactivate }
    	    	}
    	    }
	    { ChoiceItem
	    	{ Label "Delete File From Version Control" }
    	    	{ Activation
    	    	    { Target "vcc_projname" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_ver_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Inactivate }
    	    	}
    	    }
	    { ChoiceItem
	    	{ Label "List Files Under Version Control" }
    	    	{ Activation
    	    	    { Target "vcc_projname" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_ver_option" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_filename" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_fileloc" }
    	    	    { On Inactivate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_com_option" }
    	    	    { On Inactivate }
    	    	}
    	    }
    	}
    }
}

Global 1 VccRevision
{
    { Properties
    	{ Choice
    	    { Name "vcc_rev_option" }
    	    { Label "Revision:" }
    	    { Type CheckBox }
    	    { ChoiceItem
        	{ Label "" }
    	        { Active False }
      	        { OnValue "-r" }
    	    	{ Activation
    	    	    { Target "vcc_rev" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_rev" }
    	    	    { Off Inactivate }
    	    	}
    	    }
    	}
	{ Text
	    { Name "vcc_rev" }
	    { Label "" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 80 }
	    { DispLength 20 }
	}
    	{ Group
    	    { Name "g_vcc_rev" }
    	    { Type Horizontal }
    	    { Align Center }
    	    { HorizontalSpacing 0 }
	    { Members ( vcc_rev_option vcc_rev ) }
    	}
    }
}

// ECR 4338 (Continuus) -- Adding VccVersion
Global 1 VccVersion
{
    { Properties
    	{ Choice
    	    { Name "vcc_ver_option" }
    	    { Label "File Version:" }
    	    { Type CheckBox }
    	    { ChoiceItem
        	{ Label "" }
    	        { Active False }
      	        { OnValue "-r" }
    	    	{ Activation
    	    	    { Target "vcc_version" }
    	    	    { On Activate }
    	    	}
    	    	{ Activation
    	    	    { Target "vcc_version" }
    	    	    { Off Inactivate }
    	    	}
    	    }
    	}
	{ Text
	    { Name "vcc_version" }
	    { Label "" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 80 }
	    { DispLength 20 }
	}
    	{ Group
    	    { Name "g_vcc_ver" }
    	    { Type Horizontal }
    	    { Align Center }
    	    { HorizontalSpacing 0 }
	    { Members ( vcc_ver_option vcc_version ) }
    	}
    }
}
// 
// ... end of Version Control Stuff


// Note: Change related commands if this command is changed

Global 1 LockingCommands
{
    { ObjectCommand
	{ Name "LockingCommands" }
	{ Label "&Manage Locks..." }
	{ ShowPropsOnExec True }
        { Type Nowin }
	{ Chdir False }
	{ SingleObject True }
	{ Command "stputil -forward_messages ${msgd_handle} -s ${system} -p ${projdir}  -Quiet ${prop.force}  -C \"lock ${prop.lock_command} -e ${editor} ${prop.lock_force_del} ${prop.lock_acc_option} ${prop.lock_acc} ${prop.lock_dest_option} ${prop.lock_dest} ${prop.lock_type} ${prop.any_lock_type} ${prop.lock_owner_option} ${prop.lock_owner} ${cmd.objects}\"" }
        { UseProperty LockCommand }
        { UseProperty LockType }
        { UseProperty LockAccessList }
        { UseProperty LockDeleteList }
        { UseProperty LockOwnerList }
        { UseProperty LockForceDeletion }
        { UseProperty StputilForce }
        { Properties
	    { Footer
		{ Name "Footer1" }
		{ LeftFooter "Choose a Locking command, then fill in properties." }
	    }
    	    { Activation 
		{ Target "Footer1" }
		{ OnInit Active }
	    }
    	    { Footer
    	    	{ Name "Footer2" }
    	    	{ RightFooter "${class.label}" }
    	    }
    	    { Activation 
		{ Target "Footer2" }
		{ OnInit Active }
	    }
    	    { Group
    	    	{ Name "Top" }
    	    	{ Type Vertical }
    	    	{ Align Labels }
		{ Members ( lock_command g_lock_type g_lock_acc g_lock_dest g_lock_owner ) }
    	    }
    	    { Group
    	    	{ Name "Options" }
    	    	{ Type Vertical }
    	    	{ Align Labels }
		{ Members ( lock_force_del force ) }
    	    }
    	    { Group
    	    	{ Name "All" }
    	    	{ Type Vertical }
    	    	//{ Align Center }
    	    	{ Align Labels }
		{ Members ( Top Options ) }
    	    }
    	}
    }
}

// Note: Change related commands if this command is changed

Global 1 TableTypeLockingCommands
{
    { ObjectCommand
	{ Name "TableTypeLockingCommands" }
	{ Label "&Manage Locks..." }
	{ ShowPropsOnExec True }
	{ Chdir False }
	{ SingleObject True }
        { Type Nowin }
	{ Command "stputil -forward_messages ${msgd_handle} -s ${system} -p ${projdir}  -Quiet ${prop.force}  -C \"lock ${prop.lock_command} -e ${editor} -T ${class.filetype} ${prop.lock_force_del} ${prop.lock_acc_option} ${prop.lock_acc} ${prop.lock_dest_option} ${prop.lock_dest} ${prop.lock_type} ${prop.any_lock_type} ${prop.lock_owner_option} ${prop.lock_owner} ${cmd.objects}\"" }
        { UseProperty LockCommand }
        { UseProperty LockType }
        { UseProperty LockAccessList }
        { UseProperty LockDeleteList }
        { UseProperty LockOwnerList }
        { UseProperty LockForceDeletion }
        { UseProperty StputilForce }
        { Properties
	    { Footer
		{ Name "Footer1" }
		{ LeftFooter "Choose a Locking command, then fill in properties." }
	    }
    	    { Activation 
		{ Target "Footer1" }
		{ OnInit Active }
	    }
    	    { Footer
    	    	{ Name "Footer2" }
    	    	{ RightFooter "${class.label}" }
    	    }
    	    { Activation 
		{ Target "Footer2" }
		{ OnInit Active }
	    }
    	    { Group
    	    	{ Name "Top" }
    	    	{ Type Vertical }
    	    	{ Align Labels }
		{ Members ( lock_command g_lock_type g_lock_acc g_lock_dest g_lock_owner ) }
    	    }
    	    { Group
    	    	{ Name "Options" }
    	    	{ Type Vertical }
    	    	{ Align Labels }
		{ Members ( lock_force_del force ) }
    	    }
    	    { Group
    	    	{ Name "All" }
    	    	{ Type Vertical }
    	    	{ Align Center }
		{ Members ( Top Options ) }
    	    }
    	}
    }
}


Global 1 DOORSSynchronize
{
    { ClassCommand
        { Name "DOORSSynchronize" }
        { Label "Synchronize DOORS with StP" }
        { ShowPropsOnExec True }
        { Command "qrp -forward_messages ${msgd_handle} ct/qrl/doors_sync.qrl -s ${system} -p ${projdir}" }
        { Type Nowin }
    }
}

// Note: Change related commands if this command is changed
Global 1 ListLocks
{
    { ClassCommand
	{ Name "ListLocks" }
	{ Label "List Locks..." }
	{ ShowPropsOnExec True }
        { Type Nowin }
	{ Command "stputil -forward_messages ${msgd_handle} -s ${system} -p ${projdir}  -Quiet -C \"lock list -e all ${prop.lock_acc_option} ${prop.lock_acc} ${prop.lock_dest_option} ${prop.lock_dest} ${prop.lock_type} ${prop.any_lock_type} ${prop.lock_owner_option} ${prop.lock_owner} ${prop.lock_diag}\"" }
        { UseProperty LockType }
        { UseProperty LockDiag }
        { UseProperty LockAccessList }
    	    { Properties
		{ Choice
		    { Name "lock_acc_option" }
		    { ChoiceItem
			{ Name CI1 }
			{ Active True }
		    }
		}
	    }
        { UseProperty LockDeleteList }
    	    { Properties
		{ Choice
		    { Name "lock_dest_option" }
		    { ChoiceItem
			{ Name CI1 }
			{ Active True }
		    }
		}
	    }
        { UseProperty LockOwnerList }
    	    { Properties
		{ Choice
		    { Name "lock_owner_option" }
		    { ChoiceItem
			{ Name CI1 }
			{ Active True }
		    }
		}
	    }

        { Properties
    	    { Footer
    	        { Name "Footer2" }
    	        { RightFooter "StP Utilities Class" }
    	    }
    	    { Activation 
		{ Target "Footer2" }
		{ OnInit Active }
	    }
    	    { Group
    	    	{ Name "All" }
    	    	{ Type Vertical }
    	    	{ Align Labels }
		{ Members ( lock_diag g_lock_type g_lock_acc g_lock_dest g_lock_owner ) }
    	    }
    	}
    }
}

Global 1 Undef
{
    { ClassCommand
	{ Name "Undef" }
	{ Label "Add New Files to Current System Repository..." }
	{ ReapplyFilterAfterExec All }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_update(\\"${projdir}\\",\\"${system}\\",${prop.best_effort}, ${prop.scripts_force_all_files},\\"${prop.filenames}\\",\\"${prop.filetypes}\\")\"" }
        { Type Nowin }
	{ UseProperty ScriptsBestEffort }
	{ UseProperty ScriptsForceAllFiles }
	{ UseProperty ScriptsFileNames }
	{ UseProperty ScriptsFileTypes }
    }
}

Global 1 Copy
{
    { ObjectCommand
	{ Name "Copy" }
	{ Label "Copy..." }
	{ SpaceBefore True }
	{ ReapplyFilterAfterExec Self }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
	{ Chdir False }
    // ECR 3688, ECR 4244 begin change
	{ SingleObject False }
    { QrlEvaluate "copy_files(\"${editor}\",\"${cmd.objects}\",\"${prop.copy_annot}\",\"${prop.force}\", \"${prop.to_proj_sys}\", \"${prop.to_name}\");" }
	{ Type Nowin }
    { UseProperty CopyProperty }
    // ECR 3688, ECR 4244 end change
    { UseProperty StputilCopyAnnot }
	{ UseProperty StputilCopyForce }
    }
}

// ECR4244 begin deactivate: Copy one or more files
// The TableTypeCopy was still used for some tables in stp_se.rules 
// I did not want to implement the "bulk copy function twice and i 
// think we should use only one copy command throughout all products,
// therefore i changed the Object Command in stp_se.rules to use 
// "Copy" instead and deactivated this one.
// Global 1 TableTypeCopy
// {
//     { ObjectCommand
// 	{ Name "TableTypeCopy" }
//	{ Label "Copy..." }
//        { SpaceBefore True }
//	{ ResetAfterExec True }
//        { ReapplyFilterAfterExec Self }
//	{ ShowPropsOnExec True }
//	{ Chdir False }
//	{ SingleObject True }
//        { Type Nowin }
//	{ Command "stputil -forward_messages ${msgd_handle} -s ${system} -p ${projdir}  -Quiet ${prop.force} -C \"copy -e ${editor} -T ${class.filetype} ${prop.copy_annot} ${cmd.objects} ${prop.to_proj}:${prop.to_sys}:${prop.to_name}\"" }
//        { Properties
//    	    { Footer
//    	    	{ Name "Footer2" }
//    	    	{ RightFooter "${class.label}" }
//    	    }
//    	    { Activation 
//		{ Target "Footer2" }
//		{ OnInit Active }
//	    }
//    	    { Text
//	        { Name "to_proj" }
//	    	{ Label "To Project:" }
//	    	{ Type Text }
//    	        { MaxLength 256 }
//    	    	{ DispLength 40 }
//	    }
//    	    { Text
//	        { Name "to_sys" }
//	    	{ Label "To System:" }
//	    	{ Type Text }
//    	    	{ DispLength 20 }
//	    }
//    	    { Text
//	        { Name "to_name" }
//	    	{ Label "To Name:" }
//	    	{ Type Text }
//		{ MinLength 1 }
//    	    	{ DispLength 20 }
//	    }
//    	}
//	{ UseProperty StputilCopyAnnot }
//        { UseProperty StputilForce }
//    }
// }

Global 1 Rename
{
    { ObjectCommand
	{ Name "Rename" }
	{ Label "Rename..." }
        { SpaceAfter True }
	{ ReapplyFilterAfterExec Self }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
	{ ResetBeforeShow True } // ECR 7428
	{ Chdir False }
	{ SingleObject True }
        { QrlEvaluate "rename_diagram(\"-Quiet\",\"${editor}\",\"${cmd.objects}\",\"${prop.new_name}\",\"${filetype}\");" }
        { Properties
    	    { Footer
    	    	{ Name "Footer2" }
    	    	{ RightFooter "${class.label}" }
    	    }
    	    { Activation 
		{ Target "Footer2" }
		{ OnInit Active }
	    }
    	    { Text
	        { Name "new_name" }
	    	{ Label "New Name:" }
	    	{ Type Text }
		{ MinLength 1 }
    	    	{ DispLength 20 }
                { InitVal "${cmd.files}" } // ECR 7428
	    }
    	}
    }
}

// Do we need this - isn't table renaming always done with "Rename" defined 
// above (cim 8/17/97) ? Not in SE (pn 7/9/98)

Global 1 TableTypeRename
{
    { ObjectCommand
	{ Name "TableTypeRename" }
	{ Label "Rename..." }
        { SpaceAfter True }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        { ReapplyFilterAfterExec Self }
	{ Chdir False }
	{ SingleObject True }
        { Type Nowin }
	{ Command "stputil -forward_messages ${msgd_handle} -s ${system} -p ${projdir}  -Quiet ${prop.force} -C \"rename -e ${editor} -T ${class.filetype} ${cmd.objects} ${prop.new_name}\"" }
        { Properties
    	    { Footer
    	    	{ Name "Footer2" }
    	    	{ RightFooter "${class.label}" }
    	    }
    	    { Activation 
		{ Target "Footer2" }
		{ OnInit Active }
	    }
    	    { Text
	        { Name "new_name" }
	    	{ Label "New Name:" }
	    	{ Type Text }
		{ MinLength 1 }
    	    	{ DispLength 20 }
	    }
    	}
    }
}

Global 1 Delete
{
    { ObjectCommand
	{ Name "Delete" }
	{ Label "Delete" }
	{ Chdir False }
	{ SingleObject False }
	{ ReapplyFilterAfterExec Self }
	{ Command "stputil -forward_messages ${msgd_handle} -s ${system} -p ${projdir}  -Quiet -C \"delete -e ${editor} ${cmd.objects}\"" }
        { Type Nowin }
    }
}

Global 1 TableTypeDelete
{
    { ObjectCommand
	{ Name "TableTypeDelete" }
	{ Label "&Delete" }
	{ Chdir False }
	{ SingleObject False }
        { ReapplyFilterAfterExec Self }
	{ Command "stputil -forward_messages ${msgd_handle} -s ${system} -p ${projdir}  -Quiet -C \"delete -e ${editor} -T ${class.filetype} ${cmd.objects}\"" }
        { Type Nowin }
    }
}

Global 1 WriteTemplates
{
    { Properties
	{ Choice
	    { Name "write_templates" }
	    { Label "Write Migrated Templates to 5.0:" }
	    { Type CheckBox }
    	    { ChoiceItem
                { Label "" }
                { OffValue "" }
                { OnValue "-w" }
		{ Init Off }
	    }
	}
    }
}

Global 1 CurrentProjectProperty
{
   { Properties
        { Text
            { Name "projdir" }
            { Label "Project Directory:" }
            { Type Text }
            { MinLength 1 }
            { MaxLength 100 }
            { DispLength 40 }
            { InitVal "${projdir}" }
        }
   }
}

// ECR 3651
Global 1 CurrentProjectSystemProperty
{
   { Properties
        { Text
            { Name "projdir_system" }
            { Label "System Directory:" }
            { Type Text }
            { MinLength 1 }
            { MaxLength 100 }
            { DispLength 50 }
            { LabelAbove True }
            { InitVal "${projdir}" }
        }
        { Button
            { Name "browse_for_proj_sys" }
            { Label "Choose" }
            { Event
                { Type Select }
                { Callback "select_proj_sys_callback" }
            }
        }
        { Group
            { Name "folder_group" }
            { Label "" }
            { Type Horizontal }
            { Resizable ResizeAny }
            { ChildSizePolicy ResizeWidth }
            { LayoutPolicy ResizeAny }
            { Align Bottom }
            { Members ( projdir_system browse_for_proj_sys ) }
        }
   }
}
// ECR 3651

// ECR 3651a begin
Global 1 OldProjdir
{
    { Properties
	    { Text
	        { Name "old_projdir" }
	        { Label "Old Project Directory:" }
	        { Type Text }
    	        { MinLength 1 }
    	        { MaxLength 300 }
    	        { DispLength 40 }
	        { InitVal "${projdir}" }
	    }
        { Button
            { Name "browse_for_old_projdir" }
            { Label "Choose" }
            { Event
                { Type Select }
                { Callback "select_old_projdir_callback" }
            }
        }
        { Group
            { Name "old_projdir_group" }
            { Label "" }
            { Type Horizontal }
            { Resizable ResizeAny }
            { ChildSizePolicy ResizeWidth }
            { LayoutPolicy ResizeAny }
            { Align Bottom }
            { Members ( old_projdir browse_for_old_projdir ) }
        }
    }
}
// ECR 3651a end

Global 1 OldSystem
{
    { Properties
	    { Text
	        { Name "old_system" }
	        { Label "Old System Name:" }
	        { Type Text }
    	        { MinLength 1 }
    	        { MaxLength 300 }
    	        { DispLength 40 }
	        { InitVal "${system}" }
	    }
    }
}

// ECR 3651a begin
Global 1 NewProjdir
{
    { Properties
	    { Text
	        { Name "new_projdir" }
	        { Label "New Project Directory:" }
	        { Type Text }
    	        { MinLength 1 }
    	        { MaxLength 300 }
    	        { DispLength 40 }
	        { InitVal "${projdir}" }
	    }
        { Button
            { Name "browse_for_new_projdir" }
            { Label "Choose" }
            { Event
                { Type Select }
                { Callback "select_new_projdir_callback" }
            }
        }
        { Group
            { Name "new_projdir_group" }
            { Label "" }
            { Type Horizontal }
            { Resizable ResizeAny }
            { ChildSizePolicy ResizeWidth }
            { LayoutPolicy ResizeAny }
            { Align Bottom }
            { Members ( new_projdir browse_for_new_projdir ) }
        }
    }
}
// ECR 3651a end

Global 1 NewSystem
{
    { Properties
	{ Text
	    { Name "new_system" }
	    { Label "New System Name:" }
	    { Type Text }
    	    { MinLength 1 }
    	    { MaxLength 300 }
    	    { DispLength 40 }
	}
    }
}

Global 1 MapfileDir
{
    { Properties
	{ Text
	    { Name "mapfile_dir" }
	    { Label "Output Directory for the user_mapfile" }
	    { Type Text }
    	    { MinLength 1 }
    	    { MaxLength 300 }
    	    { DispLength 40 }
	    { InitVal "${projdir}${system}" }
	}
    }
}

Global 1 TemplateDir
{
    { Properties
	{ Text
	    { Name "template_dir" }
	    { Label "4.2D Templates Directory:" }
	    { Type Text }
    	    { MinLength 1 }
    	    { MaxLength 300 }
    	    { DispLength 40 }
	}
    }
}

Global 1 MigrateAnnotations
{
    { ClassCommand
	{ Name "MigrateAnnotations" }
	{ Label "Migrate Annotations..." }
	{ Chdir False }
	{ Command "annotmigrate -d ${prop.template_dir} ${prop.write_templates}"}
	{ ResetAfterExec False }
	{ ShowPropsOnExec True }
        { UseProperty TemplateDir }
        { UseProperty WriteTemplates }
    }
}

Global 1 MigrateSystem
{
    { ClassCommand
	{ Name "MigrateSystem" }
	{ Label "Migrate System Files..." }
	{ Chdir False }
	{ Command "migrate -forward_messages ${msgd_handle} -p ${prop.old_projdir} -s ${prop.old_system} -target ${prop.new_projdir} -rman sybase" }
        { Type Nowin }
	{ ResetAfterExec False }
	{ ShowPropsOnExec True }
        { UseProperty OldProjdir }
        { UseProperty OldSystem }
        { UseProperty NewProjdir }
    }
}

Class 0 Repository
{
    { Label "Persistent Data Model (PDM)" }
    { Image "repository_32" }
    { ShowOnDesktop True }
    { OMSObjects
        { Editor "tbr" }
    }

    { UseClassCommand StartGUI }
    { ClassCommand
	{ Name "StartGUI" }
	{ Label "Browse Repository..." }
    }
}

Class 0 RequirementTableFiles
{
    { Image "requirements_tables" }
    { Label "Requirements" }
    { ShowOnDesktop True }
    { OMSObjects
	{ Match "file[REQTable]" }
	{ Editor "rqtbl" }
    }
    { UseClassCommand StartTableEditor }
    { UseObjectCommand EditTable }
    { UseObjectCommand PrintTable }
    { UseObjectCommand PrintTableAs }
    { UseObjectCommand Copy }
    { UseObjectCommand Delete }
    { UseObjectCommand Rename }
    { UseObjectCommand LockingCommands }
}


Class Utilities
{
    { ClassCommand
	{ Name "SetLockAdministrators" }
	{ Label "Set Lock Administrators..." }
        { Type Nowin }
	{ Command "stputil -forward_messages ${msgd_handle} -s ${system} -p ${projdir}  -Quiet -C \"lock enable -d \"${prop.admin_list}\"\"" }
        { Properties
    	    { Footer
    	        { Name "Footer2" }
    	        { RightFooter "StP Utilities Class" }
    	    }
    	    { Activation 
		{ Target "Footer2" }
		{ OnInit Active }
	    }
	    { Text
	    	{ Name "admin_list" }
	    	{ Label "Lock Administrator(s):" }
    	    	{ Type Text }
    	    	{ MinLength 1 }
	    	{ MaxLength 80 }
	    	{ DispLength 40 }
	    }
    	}
        { Properties
    	    { Group
    	    	{ Name "Admin" }
    	    	{ Type Horizontal }
    	    	{ Align Center }
		{ Members ( admin_list ) }
    	    }
    	    { Group
    	    	{ Name "Options" }
    	    	{ Type Vertical }
    	    	{ Align Labels }
		{ Members ( force ) }
    	    }
    	    { Group
    	    	{ Name "All" }
    	    	{ Type Vertical }
    	    	{ Align Labels }
		{ Members ( Admin Options ) }
    	    }
    	}
    }
    { UseClassCommand ListLocks }
    { UseClassCommand DOORSSynchronize }
    { UseClassCommand CreateSystemBaseline }
    { UseClassCommand RestoreSystemBaseline }
    { UseClassCommand VccCommandsClass }
    // ECR 5887 { UseClassCommand VccCommandsClassContinuus }

    { ClassCommand
    	{ SpaceBefore True }
	{ Name "toolinfo" }
	{ Label "Show ToolInfo Variable..." }
	{ ShowPropsOnExec True }
	{ Command "EditorQrlEval stp_toolloc(\"${prop.in_all}\",\"${prop.var}\");" }
        { Type Nowin }
	{ Type Builtin }
    	{ Properties
    	    { Text
	        { Name "var" }
	    	{ Label "Variable Name:" }
	    	{ Type Text }
		{ MinLength 1 }
    	        { MaxLength 256 }
    	    	{ DispLength 20 }
    	    }
            { Choice
	        { Name "in_all" }
	    	{ Label "" }
    	    	{ Type CheckBox }
	    	{ ChoiceItem
	    	    { Name "show_chain" }
		    { Label "Show ToolInfo Chain" }
		    { OnValue "True" }
		    { OffValue "False" }
	    	}
    	    }
    	}
    }
    
// ECR 7389 ->
  { ClassCommand
	{ Name "tv_main" }
	{ Label "Edit ToolInfo Variables..." }
	{ ShowPropsOnExec True }
    { Properties

//				projdir
		{ Text
			{ Name "tv_projdir" }
			{ Label "Project Directory:" }
			{ MinLength 0 }
			{ DispLength 56 }
			{ MaxLength 1024 }
		}
		{ Button
			{ Name "tv_projdir_chooser" }
			{ Label "Choose" }
			{ Resizable ResizeAny }
			{ Event
				{ Type Select }
				{ Callback "tv_projdir_callback" }
			}
		}
		{ Group
			{ Name "tv_projdir_group" }
			{ Label "" }
			{ Type Horizontal }
			{ Resizable ResizeAny }
			{ HorizontalSpacing 10 }
			{ Members ( tv_projdir tv_projdir_chooser ) }
		}

//				system
		{ Text
			{ Name "tv_system" }
			{ Label "System to load at Startup:" }
			{ MinLength 0 }
			{ DispLength 56 }
			{ MaxLength 64 }
		}
		{ Button
			{ Name "tv_system_chooser" }
			{ Label "Choose" }
			{ Resizable ResizeAny }
			{ Event
				{ Type Select }
				{ Callback "tv_system_callback" }
			}
		}
		{ Group
			{ Name "tv_system_group" }
			{ Label "" }
			{ Type Horizontal }
			{ Resizable ResizeAny }
			{ HorizontalSpacing 10 }
			{ Members ( tv_system tv_system_chooser ) }
		}
		
//				scriptman_script_editor
		{ Text
			{ Name "tv_scriptman_script_editor" }
			{ Label "Script Editor:" }
			{ MinLength 0 }
			{ DispLength 56 }
			{ MaxLength 1024 }
		}
		{ Button
			{ Name "tv_scriptman_script_editor_chooser" }
			{ Label "Choose" }
			{ Resizable ResizeAny }
			{ Event
				{ Type Select }
				{ Callback "tv_scriptman_script_editor_callback" }
			}
		}
		{ Group
			{ Name "tv_scriptman_script_editor_group" }
			{ Label "" }
			{ Type Horizontal }
			{ Resizable ResizeAny }
			{ HorizontalSpacing 10 }
			{ Members ( tv_scriptman_script_editor tv_scriptman_script_editor_chooser ) }
		}

//				postscript_conversion
		{ Text
			{ Name "tv_postscript_conversion" }
			{ Label "Postscript Conversion Utility:" }
			{ MinLength 0 }
			{ DispLength 56 }
			{ MaxLength 1024 }
		}
		{ Button
            { ParseCondition "is_windows_platform();" }
			{ Name "tv_postscript_conversion_chooser" }
			{ Label "Choose" }
			{ Resizable ResizeAny }
			{ Event
				{ Type Select }
				{ Callback "tv_postscript_conversion_callback" }
			}
		}
		{ Button
            { ParseCondition "!is_windows_platform();" }
			{ Name "tv_postscript_conversion_chooser" }
			{ Label "Set" }
			{ Resizable ResizeAny }
			{ Event
				{ Type Select }
				{ Callback "tv_postscript_conversion_callback" }
			}
		}
		{ Group
			{ Name "tv_postscript_conversion_group" }
			{ Label "" }
			{ Type Horizontal }
			{ Resizable ResizeAny }
			{ HorizontalSpacing 10 }
			{ Members ( tv_postscript_conversion tv_postscript_conversion_chooser ) }
		}

//				msgd_host
		{ Text
			{ Name "tv_msgd_host" }
			{ Label "Message Router Host:" }
			{ MinLength 0 }
			{ DispLength 24 }
			{ MaxLength 64 }
		}

//				msgd_port
		{ Text
			{ Name "tv_msgd_port" }
			{ Label "Message Router Port:" }
			{ MinLength 0 }
			{ DispLength 24 }
			{ MaxLength 64 }
		}

//				Message Router Group
		{ Group
			{ Name "tv_msgd_group" }
			{ Label "Message Router" }
			{ Type Vertical }
			{ Resizable ResizeAny }
			{ VerticalSpacing 10 }
			{ Members ( tv_msgd_host tv_msgd_port ) }
		}

//				dateformat
        { Choice
            { Name "tv_dateformat" }
            { Label "Date Format for Printing:" }
            { Type AbbrMenu }
            { ChoiceItem
                { Label "Month Day Year" }
                { Init On }
            }
            { ChoiceItem
                { Label "Day Month Year" }
            }
        }

//				code_gen's
		{ Choice
			{ Name "tv_code_gen_enabled" }
			{ Label "Code Generation:" }
            { Type NonExclusive }
            { Cols 2 }
            { Rows 2 }
            { Orientation Vertical }
            { LabelAbove True }
            { ChoiceItem
                { Label "C++" }
                { Init Off }
            }
            { ChoiceItem
                { Label "Java" }
                { Init Off }
            }
            { ChoiceItem
                { Label "EJB" }
                { Init Off }
            }
            { ChoiceItem
                { Label "Ada95" }
                { Init Off }
            }
		}

//				Advanced Mode Button
		{ Button
			{ Name "tv_advanced_button" }
			{ Label "Advanced..." }
			{ Event
				{ Type Select }
				{ Callback "tv_advanced_callback" }
			}
		}

//				Group 00
		{ Group
			{ Name "tv_group00" }
			{ Label "" }
			{ Type Horizontal }
			{ Resizable ResizeAny }
			{ HorizontalSpacing 10 }
            { Align Bottom }
			{ Members ( tv_code_gen_enabled tv_advanced_button ) }
		}

//				Group 01
		{ Group
			{ Name "tv_group01" }
			{ Label "" }
			{ Type Vertical }
			{ Resizable ResizeAny }
			{ VerticalSpacing 10 }
			{ Members ( tv_dateformat tv_group00 ) }
		}

//				Group 02
		{ Group
			{ Name "tv_group02" }
			{ Label "" }
			{ Type Horizontal }
			{ Resizable ResizeAny }
			{ HorizontalSpacing 10 }
			{ Members ( tv_msgd_group tv_group01 ) }
		}

//					Standard Buttons
		{ Button
			{ Name "Reset" }
			{ Label "&Reset" }
			{ Event 
				{ Type Activation }
				{ Callback "tv_activation_callback" }
			}
			{ Event 
				{ Type Select }
				{ Callback "tv_reset_callback" }
			}
		}
		{ Button
			{ Name "OK" }
			{ Label "OK" }
			{ Event 
				{ Type Select }
				{ Callback "tv_ok_callback" }
			}
		}
		{ Button
			{ Name "Cancel" }
			{ Label "Cancel" }
			{ Event 
				{ Type Select }
				{ Callback "tv_cancel_callback" }
			}
		}
	}
  }
// ECR 7389 <-

    { ClassCommand
    	{ ParseCondition "!is_windows_platform();" }
	{ Name "stputil" }
	{ Label "StP Utility..." }
	// ECR 6182 { Command "echo 'Running StP Utility (stputil)...'; stputil -s ${system} -p ${projdir}  -Quiet ${prop.force} ${prop.subsystem}" }
	{ Command "echo 'Running StP Utility (stputil)...'; stputil -s ${system} -p ${projdir}  ${prop.force} ${prop.subsystem}" }
	{ Type TTYwin }
        { UseProperty StputilSubsystem }
        { UseProperty StputilForce }
    }
    { ClassCommand
    	{ ParseCondition "is_windows_platform();" }
	{ Name "stputil" }
	{ Label "StP Utility..." }
	{ Command "CMD /c stputil -s ${system} -p ${projdir} ${prop.force} ${prop.subsystem} &" }
	{ Type Nowin }
        { UseProperty StputilSubsystem }
        { UseProperty StputilForce }
    }
    { ClassCommand
    	{ ParseCondition "!is_windows_platform();" }
    	{ SpaceBefore True }
	{ Name "shell" }
	{ Label "Start Shell..." }
	{ Command "xterm" }
	{ Type Nowin }
    }
    { ClassCommand
    	{ ParseCondition "is_windows_platform();" }
    	{ SpaceBefore True }
	{ Name "shell" }
	{ Label "Start Shell..." }
	{ Command "start cmd" }
	{ Type Nowin }
    }
}

Class MicrosoftWord
{
    { ParseCondition "is_windows_platform();" }
    { Label "Microsoft Word Files" }
    { Image "microsoft_word_files_16" } // SPR 2467 - Microsoft Word CatModelElements
    { ShowOnDesktop True }
    { FileObjects
    	{ MatchType False }
    	{ Match "[_A-Za-z0-9 ]*.[DdRr][OoTt][CcFf]" }  //Match doc, rtf
    	{ Directory "${projdir}${system}/qrl_files/*" }
    }
    { UseClassCommand ReapplyFilterCommand } // SPR 3454 - Update Object List added for Word as well
    { ClassCommand
    	{ Name "MicrosoftWordStart" }
	{ Label "Start Microsoft Word..." }
	{ Command "MicrosoftWordStart" }
	{ Type Builtin }
    }
    { ObjectCommand
    	{ Name "MicrosoftWordOpen" }
	{ Label "Open Microsoft Word File..." }
        { DefaultCommand True }
	{ Chdir True }
	{ SingleObject True }
	{ Command "MicrosoftWordOpen ${cmd.dir}${cmd.files}" }
	{ Type Builtin }
    }
    { ObjectCommand
    	{ Name "MicrosoftWordPrint" }
	{ Label "Print Microsoft Word File..." }
// SPR 2467 - Microsoft Word CatModelElements  { DefaultCommand True } 
	{ Chdir True }
	{ SingleObject True }
	{ Command "MicrosoftWordPrint ${cmd.dir}${cmd.files}" }
	{ Type Builtin }
    }
}

Class Frame
{
    { Label "FrameMaker Files" }
    { Image "frame_32" }
    { ShowOnDesktop True }
    { FileObjects
    	{ MatchType False }
//    	{ MatchType True }
//	{ Match "framemaker-document" }
//	{ MatchFallback "[_A-Za-z0-9]*.mif" }
    	{ Match "[_A-Za-z0-9]*.[DdbMm][OoIi][CcoFf]*" } // Match doc, book, mif
    	{ Directory "${projdir}${system}/qrl_files/*" }
    }
    { ClassCommand
    	{ Name "StartFrameViewer" }
	{ Label "Start FrameViewer..." }
	{ QrlEvaluate
	    "editor_send_msg(\"makerd\",\"EditorStart\",-1,\"global\");" }
	{ Type Nowin }
    }
    { ObjectCommand
    	{ Name "View" }
	{ Label "View FrameMaker File..." }
        { DefaultCommand True }
	{ Chdir True }
	{ SingleObject True }
	{ QrlEvaluate
	    "editor_send_msg(\"makerd\",\"DocOpen ${cmd.dir}${cmd.files}\",-1, \"global\");" }
	{ Type Nowin }
    }
    { ObjectCommand
    	{ ParseCondition "!is_windows_platform();" }
    	{ Name "Print" }
	{ Label "Print FrameMaker File" }
	{ Chdir True }
	{ SingleObject True }
	{ Command "frame_print \"${cmd.dir}${cmd.files}\"" }
    }
}

Class Interleaf
{
    //{ ParseCondition "is_interleaf_available();" }
    { Label "Interleaf Files" }
    { Image "ileaf_32" }
    { ShowOnDesktop True }
    { FileObjects
    	{ MatchType False }
    	{ Match "[_A-Za-z0-9]*.[DdLl][OoEe][CcAa]*" } // Match doc, leaf
    	{ Directory "~/desktop" }
    }
    { ClassCommand
    	{ Name "StartInterleaf" }
	{ Label "Start Interleaf..." }
	{ Command "ileaf6" }
	{ Type Nowin }
    }
    { ObjectCommand
    	{ Name "Open" }
	{ Label "Open Interleaf File..." }
        { DefaultCommand True }
	{ Chdir False }
	{ SingleObject False }
	{ Command "ileaf6 ${cmd.files}" }
	{ Type Nowin }
    }
}

Class 0 ReposAdmin
{
    { Label "Administer Repository Manager" }
    { Image "repos_admin_32" }
    { ShowOnDesktop False }
    { ClassCommand
	{ Name "AddMaker" }
	{ Label "Grant User(s) System Creation Privileges..." }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        // ECR 6125 begin
        // { Command "qrp -forward_messages ${msgd_handle} -C \"repos_add_maker(\\"${prop.user_names}\\",\\"\\",\\"\\")\"" }
        { Command "qrp -forward_messages ${msgd_handle} -C \"repos_add_maker(\\"${prop.user_names}\\",\\"${prop.server_name}\\",\\"\\")\"" }
	    { Type Nowin }
    	{ UseProperty ScriptsUsers }
        { UseProperty AllSybaseServers }
        // ECR 6125 end
    }
    { ClassCommand
    	{ SpaceAfter True }
	{ Name "DeleteMaker" }
	{ Label "Revoke User(s) System Creation Privileges..." }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        // ECR 6125 begin
        // { Command "qrp -forward_messages ${msgd_handle} -C \"repos_delete_maker(\\"${prop.user_names}\\",\\"\\")\"" }
        { Command "qrp -forward_messages ${msgd_handle} -C \"repos_delete_maker(\\"${prop.user_names}\\",\\"${prop.server_name}\\")\"" }
        { Type Nowin }
    	{ UseProperty ScriptsUsers }
        { UseProperty AllSybaseServers }
        // ECR 6125 end
    }
    // ECR 6227 begin
    { ClassCommand
        { SpaceAfter True }
        { Name "ChangeCurrentUser" }
        { Label "Change Current User..." }
        { ResetAfterExec True }
        { ShowPropsOnExec True }
        { Command "EditorQrlEval change_current_sybase_user(\"${prop.user_name}\");" }
        { Type Builtin }
        { Properties
            { Text
                { Name "user_name" }
                { Label "User Name:" }
                { Type Text }
                { MinLength 1 }
                { MaxLength 256 }
                { DispLength 40 }
            }
        }
    }
    // ECR 6227 end
    // ECR 7200 begin
    { ClassCommand
        { SpaceAfter True }
        { Name "ListRepsForUser" }
        { Label "List Repositories for User..." }
        { ResetAfterExec True }
        { ShowPropsOnExec True }
        { Command "EditorQrlEval repos_list_reps_of_user(\"${prop.server_name}\",\"${prop.user_name}\");" }
        { Type Builtin }
        { Properties
            { Text
                { Name "user_name" }
                { Label "User Name:" }
                { Type Text }
                { MinLength 1 }
                { MaxLength 256 }
                { DispLength 40 }
            }
        }
        { UseProperty AllSybaseServers }
    }
    // ECR 7200 end
    { ClassCommand
	{ Name "ListUsers" }
	{ Label "List All Repository Manager Users..." }
        // ECR 6125 begin
        // { Command "EditorQrlEval repos_list_users(\"${prop.server}\");" }
        { Command "EditorQrlEval repos_list_users(\"${prop.server_name}\");" }
        { Type Builtin }
        // { UseProperty AllServers }
        { UseProperty AllSybaseServers }
        // ECR 6125 end
    }
    { ClassCommand
	{ Name "ListCurrentUsers" }
	{ Label "List Current Sybase Users..." }
        // ECR 6125 begin
        // { Command "EditorQrlEval repos_list_current_users(\"\");" }
        { Command "EditorQrlEval repos_list_current_users(\"${prop.server_name}\");" }
        { Type Builtin }
        { UseProperty AllSybaseServers }
        // ECR 6125 end
    }
    { ClassCommand
	{ Name "AddUsers" }
	{ Label "Add Sybase Server User(s)..." }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        // ECR 6125 begin
        // ECR 6209 begin
        // (by 6125) { Command "qrp -forward_messages ${msgd_handle} -C \"repos_add_user(\\"${prop.user_names}\\",\\"\\",\\"\\")\""" }
        // (by 6209 after 6125) { Command "qrp -forward_messages ${msgd_handle} -C \"repos_add_user(\\"${prop.user_names}\\",\\"${prop.server_name}\\",\\"\\")\""" }
        { Command "qrp -forward_messages ${msgd_handle} -C \"repos_add_user(\\"${prop.user_names}\\",\\"${prop.server_name}\\",\\"\\")\"" }
        // ECR 6209 end
        { Type Nowin }
    	{ UseProperty ScriptsUsers }
        { UseProperty AllSybaseServers }
        // ECR 6125 end
    }
    { ClassCommand
	{ Name "ChangePassword" }
	{ Label "Change Sybase User(s) Password..." }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        // ECR 6125 begin
        // { Command "qrp -forward_messages ${msgd_handle} -C \"repos_change_password(\\"${prop.user_names}\\",\\"\\",\\"\\")\"" }
        { Command "qrp -forward_messages ${msgd_handle} -C \"repos_change_password(\\"${prop.user_names}\\",\\"${prop.server_name}\\",\\"\\")\"" }
        { Type Nowin }
    	{ UseProperty ScriptsUsers }
        { UseProperty AllSybaseServers }
        // ECR 6125 end
    }
    { ClassCommand
    	{ SpaceAfter True }
	{ Name "DeleteUsers" }
	{ Label "Delete Sybase Server User(s)..." }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        // ECR 6125 begin
        // { Command "qrp -forward_messages ${msgd_handle} -C \"repos_delete_user(\\"${prop.user_names}\\",\\"\\")\"" }
        { Command "qrp -forward_messages ${msgd_handle} -C \"repos_delete_user(\\"${prop.user_names}\\",\\"${prop.server_name}\\")\"" }
        { Type Nowin }
    	{ UseProperty ScriptsUsers }
        { UseProperty AllSybaseServers }
        // ECR 6125 end
    }
    { ClassCommand
	{ Name "RManMaint" }
	{ Label "Perform Repository Manager Maintenance..." }
        // ECR 6125 begin
        // { Command "qrp -forward_messages ${msgd_handle} -C \"repos_maint(\\"${prop.server}\\")\"" }
        { Command "qrp -forward_messages ${msgd_handle} -C \"repos_maint(\\"${prop.server_name}\\")\"" }
        { Type Nowin }
        // { UseProperty AllServers }
        { UseProperty AllSybaseServers }
        // ECR 6125 end
    }
    { ClassCommand
	{ Name "RManListReps" }
	{ Label "List Repositories Under Manager..." }
        // ECR 6125 begin
        // { Command "EditorQrlEval repos_list_reps(\"${prop.server}\");" }
        { Command "EditorQrlEval repos_list_reps(\"${prop.server_type}\",\"${prop.server_name}\");" }
        // ECR 6125 end
        { Type Builtin }
        { UseProperty AllServers }
    }
    { ClassCommand
	{ Name "RManShowSpace" }
	{ Label "Show Space Available Under Sybase Server..." }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        // ECR 6125 begin
        // { Command "EditorQrlEval repos_show_space(\"\",${prop.which_devices});" }
        { Command "EditorQrlEval repos_show_space(\"${prop.server_name}\",${prop.which_devices});" }
        { Type Builtin }
        { UseProperty AllSybaseServers }
        // ECR 6125 end
	    { UseProperty ScriptsWhichDevices }
    }
}

Class 0 SysAdmin
{
    { ShowOnDesktop False }
    { ClassCommand
	{ Name "CreateSystem" }
        { Label "New System..." }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_create(\\"${prop.projdir}\\",\\"${prop.system_name}\\",\\"${prop.database_type}\\",\\"${prop.size}\\",\\"\\",\\"\\",\\"\\")\"" }
        { Type Nowin }
	{ UseProperty CurrentProjectProperty }
	{ UseProperty SystemProperty }
	{ UseProperty DatabaseType }
	{ UseProperty ScriptsSize }
    }
    { ClassCommand
        { Name DuplicateSystem }
        { Label "Copy System..." }
        { ShowPropsOnExec True }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_duplicate(\\"${prop.old_projdir}\\",\\"${prop.old_system}\\",\\"${prop.new_projdir}\\",\\"${prop.new_system}\\")\"" }
        { Type Nowin }
        { UseProperty OldProjdir }
        { UseProperty OldSystem }
        { UseProperty NewProjdir }
        { UseProperty NewSystem }
    }
    { ClassCommand
	{ Name "RepExists" }
        { Label "Check if System Repository Exists..." }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        // Begin Change ECR 3651
//        { Command "EditorQrlEval sys_has_rep(\"${prop.projdir_system}\")==True;" }
        { QrlEvaluate "stp_sys_has_rep(\"${prop.projdir_system}\");" }
        { Type Builtin }
    	{ UseProperty CurrentProjectSystemProperty }
    	// End Change ECR 3651
    }
    { ClassCommand
    	{ SpaceAfter True }
	{ Name "RepBuild" }
        { Label "Recover System Repository..." }
	{ ReapplyFilterAfterExec All }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        // Begin Change ECR 3651
        { QrlEvaluate "stp_rep_build_cmd(\"${prop.projdir_system}\",\"False,${prop.scripts_fast}\");" }
        { Type Nowin }
    	{ UseProperty CurrentProjectSystemProperty }
        // add callback to activate the fast checkbox
        { Properties
    	    { Text
    	        { Name "projdir_system" }
                { Event
                    { Type EventText }
                    { Callback "rec_proj_sys_cb" }
                }
                { LabelAbove False } //ECR 6189
            }
        }
        // End Change ECR 3651
        { UseProperty ScriptsFast }
    }
    { ClassCommand
	{ Name "SysListUsers" }
        { Label "List Users for Current System" }
        { Command "EditorQrlEval sys_list_users(\"${projdir}\",\"${system}\");" }
        { Type Builtin }
    }
    { ClassCommand
	{ Name "SysListCurrentUsers" }
        { Label "List Current Users for Current System" }
        { Command "EditorQrlEval sys_list_current_users(\"${projdir}\",\"${system}\");" }
        { Type Builtin }
    }
    { ClassCommand
	{ Name "SysAddUser" }
        { Label "Add User(s) to Current System..." }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_add_user(\\"${projdir}\\",\\"${system}\\",\\"${prop.writers}\\",\\"${prop.readers}\\")\"" }
        { Type Nowin }
    	{ UseProperty ScriptsWriters }
    	{ UseProperty ScriptsReaders }
    }
    { ClassCommand
	{ Name "SysChangeUser" }
        { Label "Change User(s) Group in Current System..." }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_change_user(\\"${projdir}\\",\\"${system}\\",\\"${prop.writers}\\",\\"${prop.readers}\\")\"" }
        { Type Nowin }
    	{ UseProperty ScriptsWriters }
        { Properties
    	    { Text
	        { Name "writers" }
	    	{ Label "Change to Writers Group:" }
    	    }
    	}
    	{ UseProperty ScriptsReaders }
        { Properties
    	    { Text
	        { Name "readers" }
	    	{ Label "Change to Readers Group:" }
    	    }
    	}
    }
    { ClassCommand
	{ Name "SysDeleteUser" }
        { Label "Delete User(s) from Current System..." }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_delete_user(\\"${projdir}\\",\\"${system}\\",\\"${prop.user_names}\\")\"" }
        { Type Nowin }
    	{ UseProperty ScriptsUsers }
    }
    { ClassCommand
    	{ SpaceAfter True }
	{ Name "ChangeOwner" }
        { Label "Change Owner of Current System..." }
	{ ResetAfterExec True }
	{ ShowPropsOnExec True }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_change_repowner(\\"${projdir}\\",\\"${system}\\",\\"${prop.user_name}\\",\\"\\")\"" }
        { Type Nowin }
    	{ UseProperty ScriptsNewOwner }
    }
    { UseClassCommand Undef }
    { ClassCommand
    	{ SpaceAfter True }
	{ Name "DelUnref" }
        { Label "Delete Unreferenced Objects in Current System..." }
	{ ShowPropsOnExec True }
	{ Command "stputil -forward_messages ${msgd_handle} -s ${system} -p ${projdir} -Quiet ${prop.force} ${prop.del_unref_which}" }
	{ Type Nowin }
        { UseProperty StputilDelUnrefWhich }
        { UseProperty StputilForce }
    }
    { ClassCommand
	{ Name "DumpFiles" }
        { Label "Dump Current System Repository into Files..." }
	{ ShowPropsOnExec True }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_dump_rep(\\"${projdir}\\",\\"${system}\\",\\"${prop.dump_dir}\\",True,\\"\\")\"" }
        { Type Nowin }
	{ UseProperty ScriptsDumpDir }
    }
    { ClassCommand
    	{ SpaceAfter True }
	{ Name "LoadFiles" }
        { Label "Load Current System Repository from Files..." }
	{ ReapplyFilterAfterExec All }
	{ ShowPropsOnExec True }
        // ECR 3651, one dump_dir property
        // ECR 6211 begin
		//{ Command "qrp -forward_messages ${msgd_handle} -C \"sys_load_rep(\\"${projdir}\\",\\"${system}\\",\\"${prop.dump_dir}\\",False,${prop.scripts_fast},${prop.scripts_load_user_info})\"" }
        //{ Type Nowin }
		{ Command "EditorQrlEval sys_load_rep_ex(\"${projdir}\",\"${system}\",\"${prop.dump_dir}\",${prop.scripts_fast},\"${prop.scripts_load_user_info}\");" }
		{ Type Builtin }
		// ECR 6211 end
	{ UseProperty ScriptsLoadDir }
	{ UseProperty ScriptsFast }
	{ UseProperty ScriptsLoadSysUserInfo }
    }
    { ClassCommand
        { Name "SysShowSpace" } 
        { Label "Show Space for Current System" }
        { Command "EditorQrlEval sys_show_space(\"${projdir}\",\"${system}\");" }
        { Type Builtin }
    } 
    { ClassCommand
	{ Name "TruncHist" }
        { Label "Truncate History for Current System..." }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_trunc_hist(\\"${projdir}\\",\\"${system}\\",${prop.keep})\"" }
        { Type Nowin }
	{ Properties
	    { Choice
		{ Name "keep" }
		{ Label "Keep:" }
		{ Type AbbrMenu }
		{ ChoiceItem
		    { Label "Last History Object per File" }
		    { Value "True" }
		}
		{ ChoiceItem
		    { Label "Last History Object per User" }
		    { Value "False" }
		}
	    }
	}
    }
    { ClassCommand
	{ Name "CleanRepository" }
        { Label "Delete Repository Data in Current System..." }
	{ ReapplyFilterAfterExec All }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_clean_rep(\\"${projdir}\\",\\"${system}\\",False)\"" }
        { Type Nowin }
    }
    { ClassCommand
	{ Name "ExpandRepository" }
        { Label "Expand Current System Repository..." }
	{ ShowPropsOnExec True }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_expand_rep(\\"${projdir}\\",\\"${system}\\",${prop.addsize})\"" }
        { Type Nowin }
	{ UseProperty ScriptsAddSize }
    }
    { ClassCommand
	{ Name "DestroyRepository" }
	{ Label "Destroy System Repository..." }
	{ ReapplyFilterAfterExec All }
	{ ResetAfterExec True }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_destroy_rep(\\"${prop.projdir}\\",\\"${prop.system_name}\\",False)\"" }
        { Type Nowin }
	{ UseProperty CurrentProjectProperty }
	{ UseProperty SystemProperty }
    }
    { ClassCommand
	{ Name "DestroySystem" }
	{ Label "Destroy System..." }
	{ ReapplyFilterAfterExec All }
	{ ResetAfterExec True }
        { Command "qrp -forward_messages ${msgd_handle} -C \"sys_destroy(\\"${prop.projdir}\\",\\"${prop.system_name}\\",False)\"" }
        { Type Nowin }
	{ UseProperty CurrentProjectProperty }
	{ UseProperty SystemProperty }
    }
    { UseClassCommand MigrateSystem }
}

Global 1 PrintDiagramAs
{
    { ObjectCommand
	{ Name "PrintDiagramAs" }
	{ Label "Print As..." }
        { QrlEvaluate "stp_print_diagram_as(\"${cmd.objects}\");" }
        { ShowOnMenuExpr "is_windows_platform();" } // ECR 6715
    }
}

Global 1 PrintTableAs
{
    { ObjectCommand
	{ Name "PrintTableAs" }
	{ Label "Print As..." }
        { QrlEvaluate "stp_print_table_as(\"${cmd.objects}\");" }
        { ShowOnMenuExpr "is_windows_platform();" } // ECR 6715
    }
}

// ECR 6715 start
Global 1 PrintDiagram
{
    { ObjectCommand
	{ Name "PrintDiagram" }
	{ Label "&Print..." }
        { QrlEvaluate "stp_print_diagram_as(\"${cmd.objects}\");" }
    }
	{ ParseCondition "!is_windows_platform();" } 
}
// ECR 6715 end

Global 1 PrintDiagram
{
    { ObjectCommand
	{ Name "PrintDiagram" }
	{ Label "&Print" }
        { QrlEvaluate "stp_print_diagram(\"${cmd.objects}\");" }
    }
	{ ParseCondition "is_windows_platform();" } // ECR 6715
}

// ECR 6715 start
Global 1 PrintTable
{
    { ObjectCommand
	{ Name "PrintTable" }
	{ Label "&Print..." }
        { QrlEvaluate "stp_print_table_as(\"${cmd.objects}\");" }
    }
	{ ParseCondition "!is_windows_platform();" } 
}
// ECR 6715 end

Global 1 PrintTable
{
    { ObjectCommand
	{ Name "PrintTable" }
	{ Label "&Print" }
        { QrlEvaluate "stp_print_table(\"${cmd.objects}\");" }
    }
	{ ParseCondition "is_windows_platform();" } // ECR 6715
}

Global 1 DesktopGlobalObjectRename
{
    { ObjectCommand
        { Name "DesktopGlobalObjectRename" }
        { Label "Rename Object System Wide..." }
        { SingleObject True }
	{ ReapplyFilterAfterExec Self }
        { ResetAfterExec True }
        { Chdir False }
        { Properties
            { Qrl { QrlFile "rules/qrl/stp_object_rename.inc" } }
            { Message
                { Name "NewNameLabel" }
                { Label "New Name:" }
            }
            { Text
                { Name "NewName" }
                { MinLength 1 }
                { DispLength 80 }
                { MaxLength 220 }
                { DispRows 1 }
                { MaxRows 1 }
            }
            { Footer
                { Name "Status" }
                { LeftFooter "" }
                { Active True }
            }
            { Group
                { Name "All" }
                { Type Vertical }
                { Members (NewNameLabel NewName) }
                { VerticalAlign Left }
            }

            { Button
                { Name "OK" }
                { Label "OK " }
                { Event
                    { Type Select }
                    { Callback "StpdtRenameCb" }
                }
            }
            { Button
                { Name "Apply" }
                { Label "Apply " }
                { Event
                    { Type Select }
                    { Callback "StpdtRenameCb" }
                }
            }
        }
    }
}


Global 1 ReapplyFilterCommand
{
    { ClassCommand
        { Name ReapplyFilter }
    	{ SpaceAfter True }
        { Label "Update Object List" }
        { Type Builtin }
        { Command "EditorQrlEval do_nothing();" }
        { ReapplyFilterAfterExec Self }
    }
}

// Begin Add ECR 6320
Class 0 Rme
{
    { Label "Report Maker Diagrams" }
    { Image "rme_32" }
    { ShowOnDesktop True }
    { OMSObjects
        { Match "file[RmeDiagram]" }
        { Editor "rme" }
    }
    { UseClassCommand StartDiagramEditor }
    //{ UseClassCommand CheckSemanticsAllDiagrams }
    { UseObjectCommand EditDiagram }
    { UseObjectCommand GenerateQRLReport }
    { UseObjectCommand EditQRLReport }
    { UseObjectCommand RunRTFQRLReport }
    { UseObjectCommand RunFrameQRLReport }
    { UseObjectCommand RunAsciiQRLReport }
    // { UseObjectCommand RunInterleafQRLReport }
    { UseObjectCommand PrintDiagram }
    { UseObjectCommand CheckSemanticsDiagrams }
    { UseObjectCommand Copy }
    { UseObjectCommand Rename }
    { UseObjectCommand Delete }
    { UseObjectCommand LockingCommands }
    //{ UseObjectCommand VccCommands }
}

Global 1 GenerateQRLReport
{
    { ObjectCommand
        { Name "GenerateQRLReport" }
        { Label "Generate QRL Report" }
        { SingleObject True }
        { Type Builtin }
        { Command "EditorQrlEval GenerateQRLReport(\"${cmd.objects}\");" }
    }
}

Global 1 EditQRLReport
{
    { ObjectCommand
        { Name "EditQRLReport" }
        { Label "Edit QRL Report" }
        { SingleObject True }
        { Type Builtin }
        { Command "EditorQrlEval EditQRLReport(\"${cmd.objects}\");" }
    }
}

Global 1 RunAsciiQRLReport
{
    { ObjectCommand
        { Name "RunAsciiQRLReport" }
        { Label "Run Ascii QRL Report" }
        { SingleObject True }
        { Type Builtin }
        { Command "EditorQrlEval RunQRLReport(\"${cmd.objects}\",\"ascii\");" }
    }
}

Global 1 RunFrameQRLReport
{
    { ObjectCommand
        { Name "RunFrameQRLReport" }
        { Label "Run Frame QRL Report" }
        { SingleObject True }
        { Type Builtin }
        { Command "EditorQrlEval RunQRLReport(\"${cmd.objects}\",\"mif\");" }
    }
}

//Global 1 RunInterleafQRLReport
//{
//    { ObjectCommand
//        { Name "RunInterleafQRLReport" }
//        { Label "Run Interleaf QRL Report" }
//        { SingleObject True }
//        { Type Builtin }
//        { Command "EditorQrlEval RunQRLReport(\"${cmd.objects}\",\"ileaf\");" }
//    }
//}

Global 1 RunRTFQRLReport
{
    { ObjectCommand
        { Name "RunRTFQRLReport" }
        { Label "Run RTF QRL Report" }
        { SingleObject True }
        { Type Builtin }
        { Command "EditorQrlEval RunQRLReport(\"${cmd.objects}\",\"rtf\");" }
    }
}
// End Add ECR 6320

Include "rules/stp_toolbar.rules"
Include "rules/stp_sys_admin.rules"
Include "rules/stp_repos_admin.rules"

// Lifecycle desktop integration
IncludeIfExists "rules/desktop_menus.rules"

//  Add any user customizations to the file included below:
IncludeIfExists "user/ct/rules/user_stp.rules"

// ECR 7389
Include "rules/toolinfo_edit.rules"
