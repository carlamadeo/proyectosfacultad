

Class 0 GenTOOLCode
{
  { ParseCondition "(toolinfo_variable(\"TOOLCode\") == \"True\");" }
  { Label "Generate Code (TOOL)" }
  { Image "classes" }
  { ShowOnDesktop True }
  { OMSObjects
      { Match "node[UmlClass && node_refs] sort by name" }
  } 
  { UseObjectCommand GenerateTOOLCodeObjects }
}

Global 1 GenerateToolCodeObjects
{
  { ObjectCommand 
      { Name "GenerateTOOLCodeObjects" }
      { Label "Generate TOOL for Class..." }
      { ShowPropsOnExec True }
      { Type Nowin }
      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.toolheader}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class} ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.tool_generate_bodies} ${prop.tool_generate_default_bodies} -x exclusion_predicate \"${prop.exclusions}\"  -x incremental 'False' -x classes '${cmd.objects}' qrl/code_gen/tool/code_gen.qrl" }
  }
}

