
//      StP/UML
//      Confidential property of Aonix
//      Copyright (c) 1997
//      All rights reserved
//

Include "rules/componentDeployment_symbols.rules.common"

TypeSet AllNoteableNodeTypes
{
	sourceComponent
	binaryComponent 
	executableComponent
	objectComponent
	interfaceComponent
// ECR947, ECR 4494
	CommentAnchor
	Class
// End ECR947, ECR 4494
}

// ECR947, ECR 4494
// Added CommentAnchor
CntxSymbol CommentAnchor
{
    { ParentLink AllLinkSymbols }
}
// End ECR947, ECR 4494

// ECR 4494 added possibility to add a vetex to all links
TypeSet AllLinkSymbols
{
    StereotypeableLinkSet
    Dependency
    Interface
    NoteLink // ECR 4496
}

////////////////////////////////////////////////////////////////////
//  Notice that NodeSymbol replace sets for all three of the
//  components (source, binary, and executable) are specified
//  here because Node descriptions are included in common
//  file above.
////////////////////////////////////////////////////////////////////
NodeSymbol executableComponent
{
    { ReplaceSet ( binaryComponent sourceComponent ) }
}

NodeSymbol binaryComponent
{
    { ReplaceSet ( executableComponent sourceComponent ) }
}

NodeSymbol sourceComponent
{
    { PrintName "Source Component" }
    { Shape
        { Predefined Package }
        { ToolbarImage "source_component" }
    }
    { CanAdjustLabel False }
    { DeleteDependents True }
    { AutoScaleSmaller False }
    { AutoScaleLarger True }
    { CanApplyScaleCmd True }
    { LabelAnchor North } // ECR 5184
    { HAdjust Left }
    //ECR5014
    { DefaultSize 2.75 1.2 }
    { DisplayMark
	{ Name sourceIndicator }
	{ StringMark "source" }
	//ECR5014
	{ Anchor CenterLeft }
        // ECR 5749 begin
        // { YPixelOffset 15 }
        { VAdjust Center }
        // ECR 5749 end
	{ XPixelOffset 5 }
    }
    { DisplayMark
	{ Name ComponentStereotype }
	{ ItemCond (UmlStereotype) }
	{ StringMark "«${annot.UmlExtensibilityDefinition.UmlStereotype}»" }
	// ECR4369 Better alignment of stereotype display mark
	{ Anchor LabelUpperLeft }
	{ YPixelOffset 5 }
	{ XPixelOffset 5 }
	{ Help "Component Stereotype" }
    }
    { ReplaceSet ( executableComponent binaryComponent ) }
    // Begin Add ECR 6389
    { DisplayMark
        { Name ScDescription }
        { CondFunc "symbol_has_description(0${node.id});" }
        { Anchor LowerRight }
        { VAdjust Bottom }
        { HAdjust Center }
        { YPixelOffset 19 }
        { BitmapMark0 "descln0" }
        { BitmapMark1 "descln1" }
        { BitmapMark2 "descln2" }
        { Help "Source Component has description." }
    }
    // End Add ECR 6389
}

DisplayMarkGroups
{
    // Begin Add ECR 6389
	{ Group
	    { Name Description }
	    { DisplayMarks (BcDescription EcDescription IcDescription ScDescription ODescription CDescription) }
	}
	{ OnDemandDisplayMarks (Description) }
	// End Add ECR 6389
}
