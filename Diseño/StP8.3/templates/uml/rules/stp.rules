
//      StP/UML
//      Confidential property of Aonix
//      Copyright (c) 1997-1999
//      All rights reserved
//


// For ordering:

// Include "ct/rules/stp_order_main.rules"
Include "rules/stp_order.rules"
IncludeIfExists "t/rules/stp_order.rules"
Include "ct/rules/stp_order.rules"

// Had to move this to the top so that the PlaceAfter in the menu items
// works properly
Include "ct/rules/stp.rules"
Include "uml/rules/stp_model_management.rules"
 

// The product Specific "New" Menu items...
// SPR 2278 - added {ActiveFunc activeUseCase} to grey menu entries when system not open
Menu FileNewSubMenu
{
    { MenuEntry
        { Name NewUseCaseDiagram }
        { Label "&Use Case Diagram" }
        { ActiveFunc activeUseCase }
        { PlaceAfter AfterNewSystem }
        { Builtin "EditorQrlEval stp_start_diagram_editor(\"UmlUseCaseDiagramFiles\");" }
    }

    { MenuEntry
        { Name NewClassDiagram }
        { Label "C&lass Diagram" }
        { ActiveFunc activeUseCase }
        { Builtin "EditorQrlEval stp_start_diagram_editor(\"UmlClassDiagramFiles\");" }
    }

    { MenuEntry
        { Name NewSequenceDiagram }
        { Label "Seque&nce Diagram" }
        { ActiveFunc activeUseCase }
        { Builtin "EditorQrlEval stp_start_diagram_editor(\"UmlSequenceDiagramFiles\");" }
    }

    { MenuEntry
        { Name NewCollaborationDiagram }
        { Label "Collaborat&ion Diagram" }
        { ActiveFunc activeUseCase }
        { Builtin "EditorQrlEval stp_start_diagram_editor(\"UmlCollaborationDiagramFiles\");" }
    }

    { MenuEntry
        { Name NewStateDiagram }
        { Label "&State Diagram" }
        { ActiveFunc activeUseCase }
        { Builtin "EditorQrlEval stp_start_diagram_editor(\"UmlStateDiagramFiles\");" }
    }

    { MenuEntry
        { Name NewActivityDiagram }
        { Label "&Activity Diagram" }
        { ActiveFunc activeUseCase }
        { Builtin "EditorQrlEval stp_start_diagram_editor(\"UmlActivityDiagramFiles\");" }
    }

    { MenuEntry
        { Name NewComponentDiagram }
        { Label "C&omponent Diagram" }
        { ActiveFunc activeUseCase }
        { Builtin "EditorQrlEval stp_start_diagram_editor(\"UmlComponentDiagramFiles\");" }
    }

    { MenuEntry
        { Name NewDeploymentDiagram }
        { Label "&Deployment Diagram" }
        { ActiveFunc activeUseCase }
        { Builtin "EditorQrlEval stp_start_diagram_editor(\"UmlDeploymentDiagramFiles\");" }
    }

    { MenuEntry
        { Name NewStereotypeDiagram }
        { Label "St&ereotype Diagram" }
        { ActiveFunc activeUseCase }
        { Builtin "EditorQrlEval stp_start_diagram_editor(\"UmlStereotypeDiagramFiles\");" }
    }

    { Spacer { Name DiagramTableSpace }}

    { MenuEntry
        { Name NewClassTable }
        { Label "&Class Table" }
        { ActiveFunc activeUseCase }
        { Builtin "EditorQrlEval stp_start_table_editor(\"UmlClassTableFiles\");" }
    }

    { MenuEntry
        { Name NewStateTable }
        { Label "State Ta&ble" }
        { ActiveFunc activeUseCase }
        { Builtin "EditorQrlEval stp_start_table_editor(\"UmlStateTableFiles\");" }
    }

    { MenuEntry
        { Name NewRequirementsTable }
        { Label "&Requirements Table" }
        { ActiveFunc activeUseCase }
        { Builtin "EditorQrlEval stp_start_table_editor(\"RequirementTableFiles\");" }
    }
}


// begin clean-up code menu for ECR 7612
Menu Code
{
    // Definition for ACD CodeGen menus in acd.rules and xmi.rules
    
    // Supported templates ------------------------------------------------------------
    { SubMenu
        { Name CXXSubMenu } // available for ACD and QRL
        { ParseCondition "codegen_active(\"cpp_code_gen\") || codegen_active(\"qrl_code_gen_enabled\");" }
        { Label "&C++" }
    }

    { SubMenu
        { Name JavaSubMenu } // available for ACD and QRL
        { ParseCondition "codegen_active(\"java_code_gen\") || codegen_active(\"qrl_code_gen_enabled\");" }
        { Label "&Java" }
    }

    { SubMenu
        { Name EJBSubMenu } // available for ACD only
        { ParseCondition "codegen_active(\"ejb_code_gen\");" }
        { Label "&EJB" }
    }

    { SubMenu
        { Name Ada95SubMenu } // available for ACD and QRL
        { Label "&Ada95" }
        { ParseCondition "codegen_active(\"ada95_code_gen\") || codegen_active(\"qrl_code_gen_enabled\");" }
    }

    { SubMenu
        { Name TOOLSubMenu } // available for QRL only
        { ParseCondition "codegen_active(\"tool_code_gen\");" }
        { Label "TOOL" }
    }

    // Unsupported ACD templates -----------------------------------------------------
    { SubMenu
        { ParseCondition "codegen_active(\"corba_code_gen\");" }
        { Name CORBASubMenu }
        { Label "&CORBA" }
    }

    { SubMenu
        { ParseCondition "codegen_active(\"corbaidl_code_gen\");" }
        { Name CORBAIDLSubMenu }
        { Label "&CORBA IDL" }
    }

    { SubMenu
        { ParseCondition "codegen_active(\"com_code_gen\");" }
        { Name COMSubMenu }
        { Label "&COM" }
    }

    { SubMenu
        { ParseCondition "codegen_active(\"vb_code_gen\");" }
        { Name VBSubMenu }
        { Label "&VB" }
    }

    { SubMenu
        { ParseCondition "codegen_active(\"c_code_gen\");" }
        { Name CSubMenu }
        { Label "C" }
    }

    { Spacer { Name CodeXMISpacer } }
    { SubMenu
        { Name XMISubMenu }
        { Label "XMI" }
        { PlaceAfter CodeXMISpacer }
    }
    { Spacer { Name XMIRevSpacer } }
    
    { SubMenu
        { Name ReverseEngineering }
        { Label "&Reverse Engineering" }
        { PlaceAfter XMIRevSpacer }
    }
}
// end clean-up code menu for ECR 7612

// Menu definitions for QRL CodeGens -----------------------------------------------
Menu CXXSubMenu
{
// ECR 5356 begin
    { ParseCondition "is_qrl_code_gen_enabled();" }
// ECR 5356 end
// ECR 6149
    { Pin True }
    { Label "Generate C++" }
// ECR 6149 end
    { MenuEntry
        { Name GeneratePart }
        { Label "Generate C++ for &Diagram's Classes..." }
        { ActiveFunc activeCXXCodeGen }
        { Builtin "EditorQrlEval stp_run_command(NULL,\"GenerateCXXCodeObjects\");" }
    }

    { MenuEntry
        { Name GenerateWhole }
        { Label "Generate C++ for &Whole Model..." }
        { ActiveFunc stp_repos_is_open }  // ECR 7021
        { Builtin "EditorQrlEval stp_run_command(\"UmlModel\",\"GenerateCXXCodeClass\");" }
    }
}

Menu JavaSubMenu
{
// ECR 5356 begin
    { ParseCondition "is_qrl_code_gen_enabled();" }
// ECR 5356 end
// ECR 6149
    { Pin True }
    { Label "Generate Java" }
// ECR 6149 end
    { MenuEntry
        { Name GeneratePart }
        { Label "Generate Java for &Diagram's Classes..." }
        { ActiveFunc activeJavaCodeGen }
        { Builtin "EditorQrlEval stp_run_command(NULL,\"GenerateJavaCodeObjects\");" }
    }

    { MenuEntry
        { Name GenerateWhole }
        { Label "Generate Java for &Whole Model..." }
        { ActiveFunc stp_repos_is_open }  // ECR 7021
        { Builtin "EditorQrlEval stp_run_command(\"UmlModel\",\"GenerateJavaCodeClass\");" }
    }
}


Menu IDLSubMenu
{
// ECR 5356 begin
    { ParseCondition "is_qrl_code_gen_enabled();" }
// ECR 5356 end
// ECR 6149
    { Pin True }
    { Label "Generate IDL" }
// ECR 6149 end
    { MenuEntry
        { Name GeneratePart }
        { Label "Generate IDL for &Diagram's Classes..." }
        { ActiveFunc activeIDLCodeGen }
        { Builtin "EditorQrlEval stp_run_command(NULL,\"GenerateIDLCodeObjects\");" }
    }

    { MenuEntry
        { Name GenerateWhole }
        { Label "Generate IDL for &Whole Model..." }
        { ActiveFunc stp_repos_is_open }  // ECR 7021
        { Builtin "EditorQrlEval stp_run_command(\"UmlModel\",\"GenerateIDLCodeClass\");" }
    }
}


Menu TOOLSubMenu
{
// ECR 5356 begin
    { ParseCondition "codegen_active(\"tool_code_gen\");" }
// ECR 5356 end
// ECR 6149
    { Pin True }
    { Label "Generate TOOL" }
// ECR 6149 end
    { MenuEntry
        { Name GeneratePart }
        { Label "Generate TOOL for &Diagram's Classes..." }
        { ActiveFunc activeTOOLCodeGen }
        { Builtin "EditorQrlEval stp_run_command(NULL,\"GenerateTOOLCodeObjects\");" }
    }

    { MenuEntry
        { Name GenerateWhole }
        { Label "Generate TOOL for &Whole Model..." }
        { ActiveFunc stp_repos_is_open }  // ECR 7021
        { Builtin "EditorQrlEval stp_run_command(\"UmlModel\",\"GenerateTOOLCodeClass\");" }
    }
}


Menu Ada95SubMenu
{
// ECR 5356 begin
    { ParseCondition "is_qrl_code_gen_enabled();" }
// ECR 5356 end
// ECR 6149
    { Pin True }
    { Label "Generate Ada95" }
// ECR 6149 end
    { MenuEntry
        { Name GeneratePart }
        { Label "Generate Ada 95 for &Diagram's Packages..." }
        { ActiveFunc activeAda95CodeGen }
        { Builtin "EditorQrlEval stp_run_command(NULL,\"GenerateAda95CodeObjects\");" }
    }

    { MenuEntry
        { Name GenerateWhole }
        { Label "Generate Ada 95 for &Whole Model..." }
        { ActiveFunc stp_repos_is_open }  // ECR 7021
        { Builtin "EditorQrlEval stp_run_command(\"UmlModel\",\"GenerateAda95CodeClass\");" }
    }
}


Menu ReverseEngineering
{
// ECR 6149
    { Pin True }
    { Label "Reverse Engineering" }
// ECR 6149 end
    { MenuEntry
        { Name Parse }
        { Label "&Parse Source Code..." }
		{ ActiveFunc stp_repos_is_open }
        { Builtin "EditorQrlEval stp_run_command(\"OOClassCapture\",\"REParse\");" }
    }

    { MenuEntry
        { Name Comments }
        { Label "&Extract Source Code Comments..." }
        { ActiveFunc smdb_active_func }
        { Builtin "EditorQrlEval stp_run_command(\"OOClassCapture\",\"RECommentGather\");" }
    }

    { MenuEntry
        { Name GenerateModel }
        { Label "&Generate Model from Parsed Source Files..." }
        { ActiveFunc smdb_active_func }
        { Builtin "EditorQrlEval stp_run_command(\"OOClassCapture\",\"OOCC2Generate\");" }
    }

    { Spacer }

    { MenuEntry
        { Name RELocks }
        { Label "Check RE Semantic Model &Locks" }
        { ActiveFunc smdb_active_func }
        { Builtin "EditorQrlEval stp_run_command(\"Utilities\",\"SMLocks\");" }
    }

    { MenuEntry
        { Name RECheck }
        { Label "Check RE Semantic Model &Consistency" }
        { ActiveFunc smdb_active_func }
        { Builtin "EditorQrlEval stp_run_command(\"Utilities\",\"SMCheck\");" }
    }

// SPR 2603 - no support for model generation using FORTE
// ECR 6351 reactivate Forte Tool support
    { Spacer }

    { MenuEntry
        { Name TOOLRE }
        { Label "Generate Model from TOOL Code" }
		{ ActiveFunc stp_repos_is_open }
        { Builtin "EditorQrlEval stp_run_command(\"OOClassCapture\",\"RETOOLCodeClass\");" }
    }
}

// Begin Add ECR 6141
Menu Report
{
    { MenuEntry
        { Name OpenHTMLReport }
        { Label "Open &HTML Report..." }
        { Builtin "FileChooser \"Open HTML Report\" \"HTML-Report Index (Index.html)|Index.html\" \"${projdir}${system}/html_files\"" }
    }
}
// End Add ECR 6141


Menu Tools
{
    { SubMenu
        { Name CheckingSubMenu }
        { Label "&Check" }
        { PlaceBefore LockingSubMenu }
    }

    { MenuEntry
        { Name EditAnnotation }
        { Label "Edit &Annotation" }
	{ PlaceAfter BelowLocks }
        { ActiveFunc edit_annot_active_func }
        { Builtin "EditorQrlEval stp_run_command(\"\",\"EditAnnotation\");" }
    }

    { MenuEntry
	{ Name PdmBrowser }
	{ Label "&Browse Repository" }
	{ PlaceAfter EditAnnotation }
	{ ActiveFunc stp_repos_is_open }
	{ Builtin "EditorQrlEval stp_run_command(\"Repository\",\"StartGUI\");" }
    }

    //{ MenuEntry
    //    { Name FindSyntaxErrors }
    //    { Label "&Find All Files with Syntax Errors..." }
    //    { PlaceAfter PdmBrowser }
    //    { Builtin "EditorQrlEval stp_run_command(\"UmlModel\",\"FindAllFilesWithErrors\");" }
    //}
// ECR 3780 begin add Menu Entry for UML Multi Gor
    { MenuEntry
        { Name MultipleGlobalRename }
        { Label "Multiple &Global Rename..." }
        { PlaceAfter PdmBrowser }
        { Builtin "EditorQrlEval stp_run_command(\"UmlModel\",\"MultipleGlobalRename\");" }
    }
// ECR 3780 end add Menu Entry for UML Multi Gor
}

Menu CheckingSubMenu
{
// ECR 6149
    { Pin True }
    { Label "Check" }
// ECR 6149 end
    { MenuEntry
        { Name CheckPart }
        { Label "Check Semantics for &Selected Objects..." }
        { ActiveFunc active_whole_model_semantic_check_diagram }
        { Builtin "EditorQrlEval stp_run_command(\"UmlDiagramFiles\",\"CheckUmlDiagramFileSemantics\");" }
    }

    { MenuEntry
        { Name CheckWhole }
        { Label "Check Semantics for &Whole Model..." }
        { ActiveFunc stp_repos_is_open }  // ECR 7021
        { Builtin "EditorQrlEval stp_run_command(\"UmlModel\",\"CheckWholeModelSemantics\");"}
    }
}


Class 0 UmlClassDiagramFiles
{
    { Label "Class" }
    { Image "class_diagrams" }
    { ShowOnDesktop True }
    { OMSObjects
        { Match "file[UmlClassDiagram] sort by name" }
        { Editor "uclassd" }
    }
    { UseClassCommand StartDiagramEditor }
    { UseObjectCommand EditDiagram }
    { UseObjectCommand PrintDiagram }
    { UseObjectCommand PrintDiagramAs }
    { UseObjectCommand Copy }
    { UseObjectCommand Delete }
    { UseObjectCommand Rename }
    { UseObjectCommand LockingCommands }
    { UseObjectCommand DOORSCommand }
}

Class 0 UmlClassDiagramFiles
{
    { UseObjectCommand GenerateCXXCodeObjects }
    { ObjectCommand 
        { Name "GenerateCXXCodeObjects" }
// ECR 5356 begin
        { ShowOnMenuExpr "is_qrl_code_gen_enabled();" }
// ECR 5356 end
        { Label "Generate C++ for Diagram's Classes..." }
        { ShowPropsOnExec True }
        { Type Nowin }
	// Bug 14312 (Carlos Lin). Added ${prop.namespace_choice} for 
	// property_sheet option.
        { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.cxxheader}' -x implementation_extension '${prop.cxximplementation}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class} ${prop.keep_old_classes} ${prop.use_packages_in_filenames} ${prop.cxxinlinechoice} ${prop.namespace_choice}  -x operation_extension '${prop.cxxinline}' ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.implement_associations_using} ${prop.comments} ${prop.format_comments} -x format_comments_line_length '${prop.format_comments_line_length}' -x exclusion_predicate \"${prop.exclusions}\" -x class_diagrams '${cmd.objects}' qrl/code_gen/cxx/code_gen.qrl" }
    }
    { UseObjectCommand GenerateJavaCodeObjects }
    { ObjectCommand
        { Name "GenerateJavaCodeObjects" }
// ECR 5356 begin
        { ShowOnMenuExpr "is_qrl_code_gen_enabled();" }
// ECR 5356 end
        { Label "Generate Java for Diagram's Classes..." }
        { ShowPropsOnExec True }
        { Type Nowin }
        { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.javaextension}' -x file_directory '${prop.output_dir}' ${prop.file_per_class} ${prop.keep_old_classes} ${prop.implement_associations_using} ${prop.java_comments} -x exclusion_predicate \"${prop.exclusions}\" -x class_diagrams '${cmd.objects}' qrl/code_gen/java/code_gen.qrl" }
    }
    { UseObjectCommand GenerateIDLCodeObjects }
    { ObjectCommand 
        { Name "GenerateIDLCodeObjects" }
// ECR 5356 begin
        { ShowOnMenuExpr "is_qrl_code_gen_enabled();" }
// ECR 5356 end
        { Label "Generate IDL for Diagram's Classes..." }
        { ShowPropsOnExec True }
        { Type Nowin }
        { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.idlheader}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class} ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.comments} ${prop.format_comments} -x format_comments_line_length '${prop.format_comments_line_length}' -x exclusion_predicate \"${prop.exclusions}\" -x class_diagrams '${cmd.objects}' qrl/code_gen/idl/code_gen.qrl" }
    }
// SPR 2603 - remove TOOL references from menus
// ECR 6351 reactivate Forte Tool support
    { UseObjectCommand GenerateTOOLCodeObjects }
    { ObjectCommand 
        { Name "GenerateTOOLCodeObjects" }
        { ShowOnMenuExpr "codegen_active(\"tool_code_gen\");" }
        { Label "Generate TOOL for Diagram's Classes..." }
        { ShowPropsOnExec True }
        { Type Nowin }
        { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.toolheader}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class} ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.imp_tool_3x_rel} ${prop.tool_generate_bodies} ${prop.tool_generate_default_bodies} -x exclusion_predicate \"${prop.exclusions}\"  -x incremental 'False' -x class_diagrams '${cmd.objects}' qrl/code_gen/tool/code_gen.qrl" }
    }
    { UseObjectCommand GenerateAda95CodeObjects }
    { ObjectCommand 
        { SpaceAfter True }
        { Name "GenerateAda95CodeObjects" }
// ECR 5356 begin
        { ShowOnMenuExpr "is_qrl_code_gen_enabled();" }
// ECR 5356 end
        { Label "Generate Ada 95 for Diagram's Packages..." }
        { ShowPropsOnExec True }
        { Type Nowin }
        // Bug 0002068 (KIV). Added ${prop.keep_old_packages}
        { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x file_directory '${prop.output_dir}' ${prop.file_per_package} ${prop.use_component} ${prop.ada_file_name_base} ${prop.generated_file_name_case} -x file_name '${prop.output_file}' ${prop.ada_generate_spec} -x interface_extension '${prop.adapkgspec}' ${prop.ada_generate_body} -x implementation_extension '${prop.adapkgbody}' ${prop.ada_generate_subunit} -x operation_extension '${prop.adasubunit}' ${prop.ada_root_class_type_privacy} ${prop.ada_root_class_options} ${prop.ada_subclass_type_privacy} ${prop.ada_access_types} ${prop.ada_implement_associations} ${prop.ada_subprograms_use_subunits} -x exclusion_predicate \"${prop.exclusions}\" ${prop.comments} ${prop.format_comments} -x format_comments_line_length '${prop.format_comments_line_length}' -x class_diagrams '${cmd.objects}' ${prop.keep_old_packages} qrl/code_gen/ada_95/code_gen.qrl" }
    }
}

Class 0 UmlClassTableFiles
{
    { Label "Class" }
    { Image "class_tables" }
    { ShowOnDesktop True }
    { OMSObjects
        { Match "file[UmlClassTable] sort by name" }
        { Editor "uclasst" }
    }
  { UseClassCommand StartTableEditor }
  { UseObjectCommand EditTable }
  { UseObjectCommand PrintTable }
  { UseObjectCommand PrintTableAs }
  { UseObjectCommand Copy }
  { UseObjectCommand Delete }
  { UseObjectCommand Rename }
  { UseObjectCommand LockingCommands }
}

Class 0 UmlClassTableFiles
{
    { UseObjectCommand GenerateCXXCodeObjects }
    { ObjectCommand 
        { Name "GenerateCXXCodeObjects" }
// ECR 5356 begin
        { ShowOnMenuExpr "is_qrl_code_gen_enabled();" }
// ECR 5356 end
        { Label "Generate C++ for Table's Classes..." }
        { ShowPropsOnExec True }
        { Type Nowin }
	    { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.cxxheader}' -x implementation_extension '${prop.cxximplementation}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class} ${prop.keep_old_classes} ${prop.use_packages_in_filenames} ${prop.cxxinlinechoice} ${prop.namespace_choice}  -x operation_extension '${prop.cxxinline}' ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.implement_associations_using} ${prop.comments} ${prop.format_comments} -x format_comments_line_length '${prop.format_comments_line_length}' -x exclusion_predicate \"${prop.exclusions}\" -x tables '${cmd.objects}' qrl/code_gen/cxx/code_gen.qrl" }
        }
    { UseObjectCommand GenerateJavaCodeObjects }
    { ObjectCommand
        { Name "GenerateJavaCodeObjects" }
// ECR 5356 begin
        { ShowOnMenuExpr "is_qrl_code_gen_enabled();" }
// ECR 5356 end
        { Label "Generate Java for Table's Classes..." }
        { ShowPropsOnExec True }
        { Type Nowin }
        { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.javaextension}' -x file_directory '${prop.output_dir}' ${prop.file_per_class} ${prop.keep_old_classes} ${prop.implement_associations_using} ${prop.java_comments} -x exclusion_predicate \"${prop.exclusions}\" -x tables '${cmd.objects}' qrl/code_gen/java/code_gen.qrl" }
    }
    { UseObjectCommand GenerateIDLCodeObjects }
    { ObjectCommand 
        { Name "GenerateIDLCodeObjects" }
// ECR 5356 begin
        { ShowOnMenuExpr "is_qrl_code_gen_enabled();" }
// ECR 5356 end
        { Label "Generate IDL for Table's Classes..." }
        { ShowPropsOnExec True }
        { Type Nowin }
        { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.idlheader}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class} ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.comments} ${prop.format_comments} -x format_comments_line_length '${prop.format_comments_line_length}' -x exclusion_predicate \"${prop.exclusions}\" -x tables '${cmd.objects}' qrl/code_gen/idl/code_gen.qrl" }
    }

// SPR 2603 - remove TOOL references from menus
// ECR 6351 reactivate Forte Tool support
    { UseObjectCommand GenerateTOOLCodeObjects }
    { ObjectCommand 
        { Name "GenerateTOOLCodeObjects" }
        { ShowOnMenuExpr "codegen_active(\"tool_code_gen\");" }
        { Label "Generate TOOL for Table's Classes..." }
        { ShowPropsOnExec True }
        { Type Nowin }
        { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.toolheader}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class} ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.imp_tool_3x_rel} ${prop.tool_generate_bodies} ${prop.tool_generate_default_bodies} -x exclusion_predicate \"${prop.exclusions}\"  -x incremental 'False' -x tables '${cmd.objects}' qrl/code_gen/tool/code_gen.qrl" }
    }
}

Class 0 UmlUseCaseDiagramFiles
{
    { Label "Use Case" }
    { Image "use_case_diagrams" }
    { ShowOnDesktop True }
    { OMSObjects
        { Match "file[UmlUseCaseDiagram] sort by name" }
        { Editor "uusecased" }
    }
    { UseClassCommand StartDiagramEditor }
    { UseObjectCommand EditDiagram }
    { UseObjectCommand PrintDiagram }
    { UseObjectCommand PrintDiagramAs }
    { UseObjectCommand Copy }
    { UseObjectCommand Delete }
    { UseObjectCommand Rename }
    { UseObjectCommand LockingCommands }
    { UseObjectCommand DOORSCommand }
}

Class 0 UmlSequenceDiagramFiles
{
    { Label "Sequence" }
    { Image "sequence_diagrams" }
    { ShowOnDesktop True }
    { OMSObjects
        { Match "file[UmlSequenceDiagram] sort by name" }
        { Editor "usequenced" }
    }
    { UseClassCommand StartDiagramEditor }
    { UseObjectCommand EditDiagram }
    { UseObjectCommand PrintDiagram }
    { UseObjectCommand PrintDiagramAs }
    { UseObjectCommand Copy }
    { UseObjectCommand Delete }
    { UseObjectCommand Rename }
    { UseObjectCommand LockingCommands }
    { UseObjectCommand DOORSCommand }
}

Class 0 UmlCollaborationDiagramFiles
{
    { Label "Collaboration" }
    { Image "collaboration_diagrams" }
    { ShowOnDesktop True }
    { OMSObjects
        { Match "file[UmlCollaborationDiagram] sort by name" }
        { Editor "ucollaborationd" }
    }
    { UseClassCommand StartDiagramEditor }
    { UseObjectCommand EditDiagram }
    { UseObjectCommand PrintDiagram }
    { UseObjectCommand PrintDiagramAs }
    { UseObjectCommand Copy }
    { UseObjectCommand Delete }
    { UseObjectCommand Rename }
    { UseObjectCommand LockingCommands }
    { UseObjectCommand DOORSCommand }
}

Class 0 UmlStateDiagramFiles
{
    { Label "State" }
    { Image "state_diagrams" }
    { ShowOnDesktop True }
    { OMSObjects
        { Match "file[UmlStateDiagram] sort by name" }
        { Editor "ustated" }
    }
    { UseClassCommand StartDiagramEditor }
    { UseObjectCommand EditDiagram }
    { UseObjectCommand PrintDiagram }
    { UseObjectCommand PrintDiagramAs }
    { UseObjectCommand Copy }
    { UseObjectCommand Delete }
    { UseObjectCommand Rename }
    { UseObjectCommand LockingCommands }
    { UseObjectCommand DOORSCommand }
}


Class 0 UmlStateTableFiles
{
    { Label "State" }
    { Image "state_tables" }
    { ShowOnDesktop True }
    { OMSObjects
        { Match "file[UmlStateTable] sort by name" }
        { Editor "ustatet" }
    }
  { UseClassCommand StartTableEditor }
  { UseObjectCommand EditTable }
  { UseObjectCommand PrintTable }
  { UseObjectCommand PrintTableAs }
  { UseObjectCommand Copy }
  { UseObjectCommand Delete }
  { UseObjectCommand Rename }
  { UseObjectCommand LockingCommands }
}


Class 0 UmlActivityDiagramFiles
{
    { Label "Activity" }
    { Image "activity_diagrams" }
    { ShowOnDesktop True }
    { OMSObjects
        { Match "file[UmlActivityDiagram] sort by name" }
        { Editor "uactivityd" }
    }
    { UseClassCommand StartDiagramEditor }
    { UseObjectCommand EditDiagram }
    { UseObjectCommand PrintDiagram }
    { UseObjectCommand PrintDiagramAs }
    { UseObjectCommand Copy }
    { UseObjectCommand Delete }
    { UseObjectCommand Rename }
    { UseObjectCommand LockingCommands }
    { UseObjectCommand DOORSCommand }
}


Class 0 UmlComponentDiagramFiles
{
    { Label "Component" }
    { Image "component_diagrams" }
    { ShowOnDesktop True }
    { OMSObjects
        { Match "file[UmlComponentDiagram] sort by name" }
        { Editor "ucomponentd" }
    }
    { UseClassCommand StartDiagramEditor }
    { UseObjectCommand EditDiagram }
    { UseObjectCommand PrintDiagram }
    { UseObjectCommand PrintDiagramAs }
    { UseObjectCommand Copy }
    { UseObjectCommand Delete }
    { UseObjectCommand Rename }
    { UseObjectCommand LockingCommands }
    { UseObjectCommand DOORSCommand }
}


Class 0 UmlDeploymentDiagramFiles
{
    { Label "Deployment" }
    { Image "deployment_diagrams" }
    { ShowOnDesktop True }
    { OMSObjects
        { Match "file[UmlDeploymentDiagram] sort by name" }
        { Editor "udeploymentd" }
    }
    { UseClassCommand StartDiagramEditor }
    { UseObjectCommand EditDiagram }
    { UseObjectCommand PrintDiagram }
    { UseObjectCommand PrintDiagramAs }
    { UseObjectCommand Copy }
    { UseObjectCommand Delete }
    { UseObjectCommand Rename }
    { UseObjectCommand LockingCommands }
    { UseObjectCommand DOORSCommand }
}



Class 0 UmlStereotypeDiagramFiles
{
    { Label "Stereotype" }
    { Image "stereotype_diagrams" }
    { ShowOnDesktop True }
    { OMSObjects
        { Match "file[UmlStereotypeDiagram] sort by name" }
        { Editor "ustereotyped" }
    }
    { UseClassCommand StartDiagramEditor }
    { UseObjectCommand EditDiagram }
    { UseObjectCommand PrintDiagram }
    { UseObjectCommand PrintDiagramAs }
    { UseObjectCommand Copy }
    { UseObjectCommand Delete }
    { UseObjectCommand Rename }
    { UseObjectCommand LockingCommands }
    { UseObjectCommand DOORSCommand }
}



Class 0 UmlModel
{
  { Label "Whole Model" }
  { ShowOnDesktop True }
  { UseClassCommand GenerateCXXCodeClass }
  { ClassCommand
      { Name "GenerateCXXCodeClass" }
      { Label "Generate C++ for Whole Model..." }
      { ShowPropsOnExec True }
      { Type Nowin }
      // Bug 14312 (Carlos Lin). Added ${prop.namespace_choice} for 
      // property sheet.
      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.cxxheader}' -x implementation_extension '${prop.cxximplementation}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class} ${prop.keep_old_classes} ${prop.use_packages_in_filenames} ${prop.cxxinlinechoice} ${prop.namespace_choice}  -x operation_extension '${prop.cxxinline}' ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.implement_associations_using} ${prop.comments} ${prop.format_comments} -x format_comments_line_length '${prop.format_comments_line_length}' -x exclusion_predicate \"${prop.exclusions}\" qrl/code_gen/cxx/code_gen.qrl" }
  }
  { UseClassCommand GenerateJavaCodeClass }
  { ClassCommand 
      { Name "GenerateJavaCodeClass" }
      { Label "Generate Java for Whole Model..." }
      { ShowPropsOnExec True }  
      { Type Nowin }
      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.javaextension}' -x file_directory '${prop.output_dir}' ${prop.file_per_class} ${prop.keep_old_classes} ${prop.implement_associations_using} ${prop.java_comments} -x exclusion_predicate \"${prop.exclusions}\" qrl/code_gen/java/code_gen.qrl" }
  }

  { UseClassCommand GenerateIDLCodeClass } 
  { ClassCommand  
      { Name "GenerateIDLCodeClass" } 
      { Label "Generate IDL for Whole Model..." } 
      { ShowPropsOnExec True }
      { Type Nowin }
      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.idlheader}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class}  ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.comments} ${prop.format_comments} -x format_comments_line_length '${prop.format_comments_line_length}' -x exclusion_predicate \"${prop.exclusions}\" qrl/code_gen/idl/code_gen.qrl" }
  }
// SPR 2603 - remove TOOL references from menus
// ECR 6351 reactivate Forte Tool support
  { UseClassCommand GenerateTOOLCodeClass } 
  { ClassCommand  
      { Name "GenerateTOOLCodeClass" } 
      { Label "Generate TOOL for Whole Model..." } 
      { ShowPropsOnExec True }
      { Type Nowin }
      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.toolheader}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class} ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.imp_tool_3x_rel} ${prop.tool_generate_bodies} ${prop.tool_generate_default_bodies}  -x exclusion_predicate \"${prop.exclusions}\" -x incremental 'False' qrl/code_gen/tool/code_gen.qrl" }
  } 
  { UseClassCommand GenerateAda95CodeClass } 
  { ClassCommand  
      { Name "GenerateAda95CodeClass" } 
      { Label "Generate Ada 95 for Whole Model..." } 
      { ShowPropsOnExec True }
      { Type Nowin }
      // Bug 0002068 (KIV). Added ${prop.keep_old_packages}
      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x file_directory '${prop.output_dir}' ${prop.file_per_package} ${prop.use_component} ${prop.ada_file_name_base} ${prop.generated_file_name_case} -x file_name '${prop.output_file}' ${prop.ada_generate_spec} -x interface_extension '${prop.adapkgspec}' ${prop.ada_generate_body} -x implementation_extension '${prop.adapkgbody}' ${prop.ada_generate_subunit} -x operation_extension '${prop.adasubunit}' ${prop.ada_root_class_type_privacy} ${prop.ada_root_class_options} ${prop.ada_subclass_type_privacy} ${prop.ada_access_types} ${prop.ada_implement_associations} ${prop.ada_subprograms_use_subunits} -x exclusion_predicate \"${prop.exclusions}\" ${prop.comments} ${prop.format_comments} -x format_comments_line_length '${prop.format_comments_line_length}' ${prop.keep_old_packages} qrl/code_gen/ada_95/code_gen.qrl" }
  }
  { UseClassCommand FindAllFilesWithErrors }
  // ECR 5887 { UseClassCommand AssignFiles }
  // ECR 5887 { UseClassCommand CheckSubsystem }
  // ECR 5887 { UseClassCommand CreateSubsystemBaseline }
  // ECR 4969 start
  // ECR 5887 { UseClassCommand LockSubsystem }
  // ECR 5887 { UseClassCommand UnlockSubsystem }
  // ECR 4969 end
  // ECR 5887 { UseClassCommand RestoreSubsystemBaseline }
  // ECR 5887 { UseClassCommand ReconfigureExternals }
// ECR 3780 begin add Class Command for UML Multi Gor
  // ECR 5887 { UseClassCommand MultipleGlobalRename }
  { ClassCommand  
      { Name "MultipleGlobalRename" } 
      { Label "Multiple Global Rename..." } 
      { ShowPropsOnExec True }
      { Type Nowin }
//      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} ${prop.e_GorUmlType} -x e_GorOldName '${prop.p_GorOldName}' -x e_GorNewName '${prop.e_GorNewName}' ${prop.p_GorCheckImpact} qrl/include/multi_gor.qrl" }
      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} ${prop.p_GorUmlType} -x e_GorOldName '${prop.p_GorOldName}' -x e_GorNewName '${prop.p_GorNewName}' ${prop.p_GorCheckImpact} qrl/include/multi_gor.qrl" }
      { Chdir False }
      { SingleObject False }
      { UseProperty MultiGorUmlTypeProp }
      { UseProperty MultiGorOldNameProp }
      { UseProperty MultiGorNewNameProp }
      { UseProperty MultiGorCheckImpactProp }

      { Properties
          { Group
    	      { Name "Options1" }
    	      { Type Vertical }
    	      { Align Labels }
	      { Members ( p_GorUmlType p_GorOldName p_GorNewName p_GorCheckImpact ) }
    	  }
    	  { Group
    	      { Name "All" }
    	      { Type Horizontal }
    	      { Align Center }
	      { Members ( Options1 ) }
    	  }
      }
  }
// ECR 3780 end add Class Command for UML Multi Gor
}

Class 0 UmlPackageObjects
{
  { Label "Packages" }
  { Image "packages" }
  { ShowOnDesktop True }
  { OMSObjects
      { Match "node[UmlPackage && node_refs] sort by name" }
  } 

  { UseClassCommand ReapplyFilterCommand }

  { ObjectCommand
    { Name EditAnnotation }
    { Label "Edit Annotation of Package..." }
    { Type Nowin }
    { Command "stpem -ed oae -s ${system} -p ${projdir} -C EditorShowDeiconify -C 'EditorQrlEval LoadByNameType(\\"${cmd.objects}\\",\\"UmlPackage\\",\\"node\\");'" }
    { Chdir False }
    { SingleObject True }
  }
  { UseObjectCommand GenerateAda95CodeObjects }
  { ObjectCommand
      { SpaceBefore True }            
      { Name "GenerateAda95CodeObjects" }
// ECR 5356 begin
      { ShowOnMenuExpr "is_qrl_code_gen_enabled();" }
// ECR 5356 end
      { Label "Generate Ada 95 for Package..." }
      { ShowPropsOnExec True }
      { Type Nowin }
      // Bug 0002068 (KIV). Added ${prop.keep_old_packages}
      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x file_directory '${prop.output_dir}' ${prop.file_per_package} ${prop.use_component} ${prop.ada_file_name_base} ${prop.generated_file_name_case} -x file_name '${prop.output_file}' ${prop.ada_generate_spec} -x interface_extension '${prop.adapkgspec}' ${prop.ada_generate_body} -x implementation_extension '${prop.adapkgbody}' ${prop.ada_generate_subunit} -x operation_extension '${prop.adasubunit}' ${prop.ada_root_class_type_privacy} ${prop.ada_root_class_options} ${prop.ada_subclass_type_privacy} ${prop.ada_access_types} ${prop.ada_implement_associations} ${prop.ada_subprograms_use_subunits} -x exclusion_predicate \"${prop.exclusions}\" ${prop.comments} ${prop.format_comments} -x format_comments_line_length '${prop.format_comments_line_length}' -x packages '${cmd.objects}' ${prop.keep_old_packages} qrl/code_gen/ada_95/code_gen.qrl" }
  }
}

Class 0 UmlClassObjects
{
  { Label "Classes" }
  { Image "classes" }
  { ShowOnDesktop True }
  { OMSObjects
      { Match "node[UmlClass && node_refs] sort by name" }
  } 

  { UseClassCommand ReapplyFilterCommand }

  { ObjectCommand
    { Name EditAnnotation }
    { Label "Edit Annotation of Class..." }
    { Type Nowin }
    { Command "stpem -ed oae -s ${system} -p ${projdir} -C EditorShowDeiconify -C 'EditorQrlEval LoadByNameType(\\"${cmd.objects}\\",\\"UmlClass\\",\\"node\\");'" }
    { Chdir False }
    { SingleObject True }
  }
  { UseObjectCommand GenerateCXXCodeObjects }
  { ObjectCommand
      { Name "GenerateCXXCodeObjects" }
// ECR 5356 begin
      { ShowOnMenuExpr "is_qrl_code_gen_enabled();" }
// ECR 5356 end
      { Label "Generate C++ for Class..." }
      { ShowPropsOnExec True }
      { Type Nowin }
      // Bug 14312. Added ${prop.namespace_choice} from cxx property_sheet.
      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.cxxheader}' -x implementation_extension '${prop.cxximplementation}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class} ${prop.keep_old_classes} ${prop.use_packages_in_filenames} ${prop.cxxinlinechoice} ${prop.namespace_choice}  -x operation_extension '${prop.cxxinline}' ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.implement_associations_using} ${prop.comments} ${prop.format_comments} -x format_comments_line_length '${prop.format_comments_line_length}' -x exclusion_predicate \"${prop.exclusions}\" -x classes '${cmd.objects}' qrl/code_gen/cxx/code_gen.qrl" }
  }
  { UseObjectCommand GenerateJavaCodeObjects }
  { ObjectCommand
      { Name "GenerateJavaCodeObjects" }
// ECR 5356 begin
      { ShowOnMenuExpr "is_qrl_code_gen_enabled();" }
// ECR 5356 end
      { Label "Generate Java for Class..." }
      { ShowPropsOnExec True }
      { Type Nowin }
      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.javaextension}' -x file_directory '${prop.output_dir}' ${prop.file_per_class} ${prop.keep_old_classes} ${prop.implement_associations_using} ${prop.java_comments} -x exclusion_predicate \"${prop.exclusions}\" -x classes '${cmd.objects}' qrl/code_gen/java/code_gen.qrl" }
  }
  { UseObjectCommand GenerateIDLCodeObjects }
  { ObjectCommand
      { Name "GenerateIDLCodeObjects" }
// ECR 5356 begin
      { ShowOnMenuExpr "is_qrl_code_gen_enabled();" }
// ECR 5356 end
      { Label "Generate IDL for Class..." }
      { ShowPropsOnExec True }
      { Type Nowin }
      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.idlheader}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class} ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.comments} ${prop.format_comments} -x format_comments_line_length '${prop.format_comments_line_length}' -x exclusion_predicate \"${prop.exclusions}\" -x classes '${cmd.objects}' qrl/code_gen/idl/code_gen.qrl" }
  }
// SPR 2603 - remove TOOL references from menus
// ECR 6351 reactivate Forte Tool support
  { UseObjectCommand GenerateTOOLCodeObjects }
  { ObjectCommand 
      { Name "GenerateTOOLCodeObjects" }
      { ShowOnMenuExpr "codegen_active(\"tool_code_gen\");" }
      { Label "Generate TOOL for Class..." }
      { ShowPropsOnExec True }
      { Type Nowin }
      { Command "qrp -forward_messages ${msgd_handle} -p ${projdir} -s ${system} -x interface_extension '${prop.toolheader}' -x file_directory '${prop.output_dir}' -x file_name '${prop.output_file}' ${prop.file_per_class} ${prop.types_and_interfaces_choice} ${prop.type_attributes_choice} ${prop.tool_generate_bodies} ${prop.tool_generate_default_bodies} -x exclusion_predicate \"${prop.exclusions}\"  -x incremental 'False' -x classes '${cmd.objects}' qrl/code_gen/tool/code_gen.qrl" }
  }
}

Class 0 UmlUseCaseObjects
{
  { Label "Use Cases" }
  { Image "use_cases" }
  { ShowOnDesktop True }
  { OMSObjects
      { Match "node[UmlUseCase && node_refs] sort by name" }
  } 

  { UseClassCommand ReapplyFilterCommand }

  { ObjectCommand
      { Name "ShowUseCase" }
      { Type Nowin }
      { Label "Edit Use Case in Diagram..." }
      { QrlEvaluate "editor_send_msg(\"uusecased\",\"EditorQrlEval LoadFileByObjNameType(\\"${cmd.objects}\\",\\"UmlUseCase\\",\\"node\\");\",-1);" }
      { Chdir False }
      { SingleObject True }
  }
  { ObjectCommand
    { Name EditAnnotation }
    { Label "Edit Annotation of Use Case..." }
    { Type Nowin }
    { Command "stpem -ed oae -s ${system} -p ${projdir} -C EditorShowDeiconify -C 'EditorQrlEval LoadByNameType(\\"${cmd.objects}\\",\\"UmlUseCase\\",\\"node\\");'" }
    { Chdir False }
    { SingleObject True }
  }
}

// Begin add ECR 4731
Class 0 UmlStereotypeObjects
{
  { Label "Stereotypes" }
  { Image "stereotype_diagrams" }
  { ShowOnDesktop True }
  { OMSObjects
      { Match "node[UmlStereotype && node_refs] sort by name" }
  } 

  { UseClassCommand ReapplyFilterCommand }

  { ObjectCommand
    { Name EditAnnotation }
    { Label "Edit Annotation of Stereotype..." }
    { Type Nowin }
    { Command "stpem -ed oae -s ${system} -p ${projdir} -C EditorShowDeiconify -C 'EditorQrlEval LoadByNameType(\\"${cmd.objects}\\",\\"UmlStereotype\\",\\"node\\");'" }
    { Chdir False }
    { SingleObject True }
  }
}
// End ECR 4731
Class OOClassCapture
{
    { Label "Reverse Engineering" }
    { ShowOnDesktop True }

    { UseClassCommand REParse }
    { UseClassCommand RECommentGather }
    { UseClassCommand OOCC2Generate }
    { ClassCommand
	{ Name "OOCC2Generate" }
	{ ShowPropsOnExec True }
        { ReapplyFilterAfterExec All }
        { Type Nowin }
	{ Command "xxx2yyy -forward_messages ${msgd_handle} -p ${projdir} -s ${system}  -action smdb2uml ${prop.extern} -ifexists ${prop.capture_donotcapture} ${prop.merge_overwrite_annotations} ${prop.bodies} ${prop.system_ignore} ${prop.diagrams} ${prop.tables} ${prop.annotations} ${prop.repsync}" }
    }
  { ClassCommand  
      { Name RETOOLCodeClass } 
      { Type Nowin }
      { QrlEvaluate "flaunch();" }
 
  } 
}

// Includes

Include "rules/stp_semantic_check_whole_model.rules"
Include "ct/rules/stp_re.rules"
Include "rules/stp_code_gen.rules"
IncludeIfExists "t/rules/stp_t_common.rules"
IncludeIfExists "t/rules/stp_t_omt.rules"

// these are here, so that they appear after the normal entries
Class 0 Utilities
{
    { ClassCommand
	{ SpaceBefore True }
	{ Name "SMLocks" }
	{ Label "Check RE Semantic Model Locks" }
	{ Type Nowin }
	{ Command "re_db_locks -forward_messages ${msgd_handle} -p ${projdir} -s ${system}" }
    }
    { ClassCommand
	{ Name "SMCheck" }
	{ Label "Check RE Semantic Model Consistency" }
	{ Type Nowin }
	{ Command "re_db_check -forward_messages ${msgd_handle} -p ${projdir} -s ${system}" }
    }
}

Global 1 VccFileStoreAny
{
    { Properties
      { Choice
        { Name "file_store" }
	{ ChoiceItem
	    { Label "UML Class Diagrams" }
            { Value "-e uclassd" }
        }
	{ ChoiceItem
	    { Label "UML Class Tables" }
            { Value "-e uclasst" }
        }
	{ ChoiceItem
	    { Label "UML Use Case Diagrams" }
            { Value "-e uusecased" }
        }
	{ ChoiceItem
	    { Label "UML Sequence Diagrams" }
            { Value "-e usequenced" }
        }
	{ ChoiceItem
	    { Label "UML Collaboration Diagrams" }
            { Value "-e ucollaborationd" }
        }
	{ ChoiceItem
	    { Label "UML State Diagrams" }
            { Value "-e ustated" }
        }
	{ ChoiceItem
	    { Label "UML State Tables" }
            { Value "-e ustatet" }
        }
	{ ChoiceItem
	    { Label "UML Activity Diagrams" }
            { Value "-e uactivityd" }
        }
	{ ChoiceItem
	    { Label "UML Component Diagrams" }
            { Value "-e ucomponentd" }
        }
	{ ChoiceItem
	    { Label "UML Deployment Diagrams" }
            { Value "-e udeploymentd" }
        }
	{ ChoiceItem
	    { Label "UML Stereotype Diagrams" }
            { Value "-e ustereotyped" }
        }
      }
    }
}

// ECR 3780 begin add PropSheets for UML Multi Gor Rules
Global 1 MultiGorUmlTypeProp
{
    { Properties
    	{ Choice
	    { Name "p_GorUmlType" }
	    { Label "Type:" }
	    { Type AbbrMenu }
	    { ChoiceItem
	    	{ Label "Package" }
	    	{ Value "-x e_GorUmlType 'Package'" }
	    }
	    { ChoiceItem
	    	{ Label "Class" }
	    	{ Value "-x e_GorUmlType 'Class'" }
	    }
	    { ChoiceItem
	    	{ Label "Operation" }
	    	{ Value "-x e_GorUmlType 'Operation'" }
	    }
	    { ChoiceItem
	    	{ Label "Attribute" }
	    	{ Value "-x e_GorUmlType 'Attribute'" }
	    }
	    { ChoiceItem
	    	{ Label "UseCase" }
	    	{ Value "-x e_GorUmlType 'UseCase'" }
	    }
	    { ChoiceItem
	    	{ Label "Actor" }
	    	{ Value "-x e_GorUmlType 'Actor'" }
	    }
    	}
    }
}

Global 1 MultiGorOldNameProp
{
    { Properties
	{ Text
	    { Name "p_GorOldName" }
	    { Label "Search Pattern:" }
	    { Type Text }
    	    { MinLength 1 }
    	    { MaxLength 40 }
    	    { DispLength 30 }
	    { InitVal "" }
	}
    }
}

Global 1 MultiGorNewNameProp
{
    { Properties
	{ Text
	    { Name "p_GorNewName" }
	    { Label "Rename Pattern:" }
	    { Type Text }
    	    { MinLength 0 }
    	    { MaxLength 40 }
    	    { DispLength 30 }
	    { InitVal "" }
	}
    }
}

Global 1 MultiGorCheckImpactProp
{
    { Properties
	{ Choice
	    { Name "p_GorCheckImpact" }
	    { Label "Check impact only:" }
	    { Type CheckBox }
	    { ChoiceItem
		{ Name "check_impact_only" }
		{ Label "" }
		{ OnValue "-x e_GorCheckImpact True" }
		{ OffValue "-x e_GorCheckImpact False" }
	    	{ Init On }
	    }
	}
    }
}
// ECR 3780 end add PropSheets for UML Multi Gor Rules

Global 1 DOORSCommand
{
    { ObjectCommand
        { ShowOnMenuExpr "use_doors_integration();" }
        { Name "ExportToDoors" }
        { Label "Export To Doors" }
        { Chdir False }
        { SingleObject False }
        { Type Nowin }    //ECR 5560
        { Command "qrp  -forward_messages ${msgd_handle} -p ${projdir} -s ${system}  -x Files '${cmd.objects}' -x Editor '${editor}' qrl/include/export_to_doors.qrl " }
    }
}

//ECR 4461 begin - this replaces ScriptFileTypes from ct/rules/stp.rules
Global 1 ScriptsFileTypes
{
    { Properties
        { Choice
            { Name "filetypes" }
            { Label "File Type(s):" }
            { Type AbbrMenu }
            { ChoiceItem
	            { Label "UML Class Diagrams" }
                { Value "UmlClassDiagram" }
            }
	        { ChoiceItem
	            { Label "UML Class Tables" }
                { Value "UmlClassTable" }
            }
	        { ChoiceItem
	            { Label "UML Use Case Diagrams" }
                { Value "UmlUseCaseDiagram" }
            }
	        { ChoiceItem
	            { Label "UML Sequence Diagrams" }
                { Value "UmlSequenceDiagram" }
            }
	        { ChoiceItem
	            { Label "UML Collaboration Diagrams" }
                { Value "UmlCollaborationDiagram" }
            }
	        { ChoiceItem
	            { Label "UML State Diagrams" }
                { Value "UmlStateDiagram" }
            }
	        { ChoiceItem
	            { Label "UML State Tables" }
                { Value "UmlStateTable" }
            }
	        { ChoiceItem
	            { Label "UML Activity Diagrams" }
                { Value "UmlActivityDiagram" }
            }
	        { ChoiceItem
	            { Label "UML Component Diagrams" }
                { Value "UmlComponentDiagram" }
            }
	        { ChoiceItem
	            { Label "UML Deployment Diagrams" }
                { Value "UmlDeploymentDiagram" }
            }
	        { ChoiceItem
	            { Label "UML Stereotype Diagrams" }
                { Value "UmlStereotypeDiagram" }
            }
        }
    }
}
//ECR 4461 end

IncludeIfExists "val/rules/uml/stp.rules" 
IncludeIfExists "val/rules/uml/stp_order.rules"

// If ACD is installed include it's rules
IncludeIfExists "rules/acd.rules"

// ECR 5343
IncludeIfExists "rules/xmi.rules"

//  Add any user customizations to the file included below:
IncludeIfExists "user/uml/rules/user_stp.rules"

//ECR 2602
Include "rules/trees.rules"
