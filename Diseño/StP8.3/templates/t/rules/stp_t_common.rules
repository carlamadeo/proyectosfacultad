//
//      sccsid[] = %W% %Y% %D%
//      StP/T
//      Confidential property of Interactive Development Environments, Inc.
//      Copyright (c) 1992-1994
//      All rights reserved
//
 
//
// stp_t_common.rules: StP/T common interface
//


 
Global 1 TVerbose
{
    { Properties
        { Choice
            { Name "verbose" }
            { Label "Verbose:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OnValue "-x TVerboseFlag On" }
                { OffValue "" }
                { Init On }
            }
        }
    }
}
 



 
Global 1 THier
{
    { Properties
        { Choice
            { Name "thier" }
            { Label "Descend Hierarchy:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OnValue "-x THierarchy Yes" }
                { OffValue "-x THierarchy No" }
                { Init On }
            }
        }
    }
}
 


 
Global 1 TPreProc
{
    { Properties
        { Choice
            { Name "tpreproc" }
            { Label "Preprocessed:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OnValue "-f" }
                { OffValue "" }
                { Init Off }
            }
        }
    }
}
 



Global 1 TNameOrPnum
{
    { Properties
        { Choice
            { Name "tnameorpnum" }
            { Label "Use Process:" }
            { Type AbbrMenu }
            { ChoiceItem
                { Label "Name" }
                { Value "-x TNameOrPnum Name" }
		{ Init On }
            }
            { ChoiceItem
                { Label "Process Number" }
                { Value "-x TNameOrPnum Pnum" }
            }
        }
    }
}



 



Global 1 TMsgLevel
{
    { Properties
        { Choice
            { Name "tmsglevel" }
            { Label "Message Level:" }
            { Type AbbrMenu }
            { ChoiceItem
                { Label "0" }
                { Value "-v 0" }
            }
            { ChoiceItem
                { Label "1" }
                { Value "-v 1" }
            }
            { ChoiceItem
                { Label "2" }
                { Value "-v 2" }
            }
            { ChoiceItem
                { Label "3" }
                { Value "-v 3" }
		{ Init On }
            }
        }
    }
}




Global 1 TSummaryLineSpacing
{
    { Properties
        { Choice
            { Name "tsummarylinespacing" }
            { Label "Summary Line Spacing:" }
            { Type AbbrMenu }
            { ChoiceItem
                { Label "Single" }
                { Value "-d 1" }
		{ Init On }
            }
            { ChoiceItem
                { Label "Double" }
                { Value "-d 2" }
            }
        }
    }
}


 
Global 1 TGen 
{
    { Properties
        { Choice
            { Name "tgen" }
            { Label "Operation:" }
            { Type AbbrMenu }
            { ChoiceItem
                { Label "Compile SDF" }
                { OnValue "tdriver -p ${projdir} -s ${system} -U ${cmd.objects} ${prop.tlistextras} ${prop.tmsglevel} -C" }
		{ Activation
		    { Target "tcasedescfile" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tprepareactions" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tpreparestates" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tprepareindices" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tlistextras" }
                    { On Activate }
                }
		{ Activation
		    { Target "tsatisfypreconditions" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tsummarylinespacing" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tmsglevel" }
                    { On Activate }
                }
            }
            { ChoiceItem
                { Label "Design Test Cases" }
                { OnValue "tdriver -p ${projdir} -s ${system} -U ${cmd.objects} ${prop.tsatisfypreconditions} ${prop.tmsglevel} ${prop.tsummarylinespacing} -D" }
		{ Activation
		    { Target "tcasedescfile" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tprepareactions" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tpreparestates" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tprepareindices" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tlistextras" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tsatisfypreconditions" }
                    { On Activate }
                }
		{ Activation
		    { Target "tsummarylinespacing" }
                    { On Activate }
                }
		{ Activation
		    { Target "tmsglevel" }
                    { On Activate }
                }
            }
            { ChoiceItem
                { Label "Prepare Test Cases" }
                { OnValue "tdriver -p ${projdir} -s ${system} -U ${cmd.objects} ${prop.tlistextras} ${prop.tsatisfypreconditions} ${prop.tmsglevel} -q ${prop.tcasedescfile} -x ${prop.tprepareactions} -y ${prop.tpreparestates} -z ${prop.tprepareindices} -P" }
		{ Activation
		    { Target "tcasedescfile" }
                    { On Activate }
                }
		{ Activation
		    { Target "tprepareactions" }
                    { On Activate }
                }
		{ Activation
	            { Target "tpreparestates" }
                    { On Activate }
                }
		{ Activation
		    { Target "tprepareindices" }
                    { On Activate }
                }
		{ Activation
		    { Target "tsummaryreport" }
                    { On Inactivate }
                }
		{ Activation
		    { Target "tlistextras" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tsatisfypreconditions" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tsummarylinespacing" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tmsglevel" }
                    { On Activate }
                }
            }
            { ChoiceItem
                { Label "Compile, Design, Prepare" }
		{ Init On }
                { OnValue "tdriver -p ${projdir} -s ${system} -U ${cmd.objects} ${prop.tlistextras} ${prop.tsatisfypreconditions} ${prop.tmsglevel} ${prop.tsummarylinespacing} -q ${prop.tcasedescfile} -x ${prop.tprepareactions} -y ${prop.tpreparestates} -z ${prop.tprepareindices} -A" }
		{ Activation
		    { Target "tcasedescfile" }
                    { On Activate }
                }
		{ Activation
		    { Target "tprepareactions" }
                    { On Activate }
                }
		{ Activation
		    { Target "tpreparestates" }
                    { On Activate }
                }
		{ Activation
		    { Target "tprepareindices" }
                    { On Activate }
                }
		{ Activation
		    { Target "tlistextras" }
                    { On Activate }
                }
		{ Activation
		    { Target "tsatisfypreconditions" }
                    { On Activate }
                }
		{ Activation
		    { Target "tsummarylinespacing" }
                    { On Activate }
                }
		{ Activation
		    { Target "tmsglevel" }
                    { On Activate }
                }
	    }
        }
    }
}




 
Global 1 TView
{
    { Properties
        { Choice
            { Name "tview" }
            { Label "Operation:" }
            { Type AbbrMenu }
            { ChoiceItem
		{ Label "View Report" }
                { OnValue "tdriver -p ${projdir} -s ${system} -U ${cmd.objects} ${prop.tpreproc} -R ${prop.treportcascade}" }
                { Init On }
		{ Activation
		    { Target "treportcascade" }
                    { On Activate }
                }
		{ Activation
		    { Target "ttestcase" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tpreproc" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tcasedescfile" }
                    { On InActivate }
                }
            }
            { ChoiceItem
		{ Label "Print Report" }
                { OnValue "tdriver -p ${projdir} -s ${system} -U ${cmd.objects} ${prop.tpreproc} -Q ${prop.treportcascade}" }
		{ Activation
		    { Target "treportcascade" }
                    { On Activate }
                }
		{ Activation
		    { Target "ttestcase" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tpreproc" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tcasedescfile" }
                    { On InActivate }
                }
            }
            { ChoiceItem
		{ Label "Edit Software Description File" }
                { OnValue "tdriver -p ${projdir} -s ${system} -U ${cmd.objects} ${prop.tpreproc} -R" }
		{ Activation
		    { Target "treportcascade" }
                    { On InActivate }
                }
		{ Activation
		    { Target "ttestcase" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tpreproc" }
                    { On Activate }
                }
		{ Activation
		    { Target "tcasedescfile" }
                    { On InActivate }
                }
            }
            { ChoiceItem
		{ Label "View Test Case" }
                { OnValue "tdriver -p ${projdir} -s ${system} -U ${cmd.objects} -T ${prop.ttestcase}" }
		{ Activation
		    { Target "treportcascade" }
                    { On InActivate }
                }
		{ Activation
		    { Target "ttestcase" }
                    { On Activate }
                }
		{ Activation
		    { Target "tpreproc" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tcasedescfile" }
                    { On InActivate }
                }
            }
            { ChoiceItem
		{ Label "Edit Case Description File" }
                { OnValue "tdriver -p ${projdir} -s ${system} -U ${cmd.objects} -q ${prop.tcasedescfile} -S" }
		{ Activation
		    { Target "treportcascade" }
                    { On InActivate }
                }
		{ Activation
		    { Target "ttestcase" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tpreproc" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tcasedescfile" }
                    { On Activate }
                }
            }
            { ChoiceItem
		{ Label "View Sentence Template" }
                { OnValue "tdriver -quiet -p ${projdir} -s ${system} -U ${cmd.objects}  -F" }
		{ Activation
		    { Target "treportcascade" }
                    { On InActivate }
                }
		{ Activation
		    { Target "ttestcase" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tpreproc" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tcasedescfile" }
                    { On InActivate }
                }
            }
            { ChoiceItem
		{ Label "View Sentence Template Explanation" }
                { OnValue "tdriver -quiet -p ${projdir} -s ${system} -U ${cmd.objects} -G" }
		{ Activation
		    { Target "treportcascade" }
                    { On InActivate }
                }
		{ Activation
		    { Target "ttestcase" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tpreproc" }
                    { On InActivate }
                }
		{ Activation
		    { Target "tcasedescfile" }
                    { On InActivate }
                }
            }
        }
    }
}


Global 1 TReportCascade
{
    { Properties
        { Choice
	    { Name "treportcascade" }
	    { Label "Report:" }
	    { Type AbbrMenu }
            { ChoiceItem
                { Label "Verification" }
                { Value "verify.rpt" }
		{ Init On }
	    }
            { ChoiceItem
                { Label "Cross Reference" }
                { Value "cref.rpt" }
	    }
            { ChoiceItem
                { Label "SDF Metrics" }
                { Value "sdmetric.rpt" }
	    }
            { ChoiceItem
                { Label "Design Rules" }
                { Value "design.rpt" }
	    }
            { ChoiceItem
                { Label "Samples" }
                { Value "samples.rpt" }
	    }
            { ChoiceItem
                { Label "Catalog" }
                { Value "catalog.rpt" }
	    }
            { ChoiceItem
                { Label "Summary" }
                { Value "summary.rpt" }
	    }
            { ChoiceItem
                { Label "Prepare" }
                { Value "prepare.rpt" }
	    }
	}
    }
}

 
Global 1 TVerificationReport
{
    { Properties
        { Choice
            { Name "tverificationreport" }
            { Label "Verification:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OnValue "verify.rpt" }
                { Init On }
            }
        }
    }
}


Global 1 TCrossRefReport
{
    { Properties
        { Choice
            { Name "tcrossrefreport" }
            { Label "Cross Reference:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OnValue "cref.rpt" }
                { Init On }
            }
        }
    }
}


Global 1 TSDFMetricsReport
{
    { Properties
        { Choice
            { Name "tsdfmetricsreport" }
            { Label "SDF Metrics:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OnValue "sdmetric.rpt" }
                { Init On }
            }
        }
    }
}


Global 1 TDesignRulesReport
{
    { Properties
        { Choice
            { Name "tdesignrulesreport" }
            { Label "Design Rules:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OnValue "design.rpt" }
                { Init On }
            }
        }
    }
}


Global 1 TSamplesReport
{
    { Properties
        { Choice
            { Name "tsamplesreport" }
            { Label "Samples:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OnValue "samples.rpt" }
                { Init On }
            }
        }
    }
}


Global 1 TCatalogReport
{
    { Properties
        { Choice
            { Name "tcatalogreport" }
            { Label "Catalog:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OnValue "catalog.rpt" }
                { Init On }
            }
        }
    }
}


Global 1 TSummaryReport
{
    { Properties
        { Choice
            { Name "tsummaryreport" }
            { Label "Summary:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OnValue "summary.rpt" }
                { Init On }
            }
        }
    }
}


// Select this option if you wish to list the extra sdf information.

Global 1 TListExtras
{
    { Properties
        { Choice
            { Name "tlistextras" }
            { Label "List Extras:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OffValue "-e FALSE" }
                { OnValue "-e TRUE" }
                { Init On }
            }
        }
    }
}


// Select this option if you wish to require preconditions are TRUE.

Global 1 TSatisfyPreconditions
{
    { Properties
        { Choice
            { Name "tsatisfypreconditions" }
            { Label "Satisfy Preconditions:" }
            { Type CheckBox }
            { ChoiceItem
                { Label "" }
                { OffValue "-c FALSE" }
                { OnValue "-c TRUE" }
                { Init On }
            }
        }
    }
}




Global 1 TCaseDescFile
{
    { Properties
	{ Text
	    { Name "tcasedescfile" }
	    { Label "Case Description File:" }
	    { Init "basic.cdf" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 80 }
	    { DispLength 20 }
	}
    }
}


// Use this field to specify the subset of actions for which to run prepare

Global 1 TPrepareActions
{
    { Properties
	{ Text
	    { Name "tprepareactions" }
	    { Label "Subset of Actions:" }
	    { Init "all" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 80 }
	    { DispLength 20 }
	}
    }
}


// Use this field to specify the subset of states for which to run prepare
	
Global 1 TPrepareStates
{
    { Properties
	{ Text
	    { Name "tpreparestates" }
	    { Label "Subset of States:" }
	    { Init "all" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 80 }
	    { DispLength 20 }
	}
    }
}


// Use this field to specify the subset of indexes for which to run prepare

Global 1 TPrepareIndices
{
    { Properties
	{ Text
	    { Name "tprepareindices" }
	    { Label "Subset of Indices:" }
	    { Init "all" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 80 }
	    { DispLength 20 }
	}
    }
}



Global 1 TTestCase
{
    { Properties
	{ Text
	    { Name "ttestcase" }
	    { Label "Test Case(s):" }
    	    { Type Text }
    	    { MinLength 1 }
	    { MaxLength 80 }
	    { DispLength 20 }
	}
    }
}




Global 1 TDiagrams
{
    { Properties
	{ Text
	    { Name "tdiagrams" }
	    { Label "Diagram(s):" }
    	    { Type Text }
    	    { MinLength 0 }
	    { MaxLength 256 }
	    { DispLength 30 }
	}
    }
}




Global 1 TProcesses
{
    { Properties
	{ Text
	    { Name "tprocesses" }
	    { Label "Process(es):" }
    	    { Type Text }
    	    { MinLength 0 }
	    { MaxLength 256 }
	    { DispLength 30 }
	}
    }
}



Global 1 TModules
{
    { Properties
	{ Text
	    { Name "tmodules" }
	    { Label "Module(s):" }
    	    { Type Text }
    	    { MinLength 0 }
	    { MaxLength 256 }
	    { DispLength 30 }
	}
    }
}




Global 1 TGenClass
{
    { ObjectCommand
	{ Name "TGenClass" }
	{ Label "Compile, Design, Prepare..." }
	{ ShowPropsOnExec True }
	{ Type Normal }
	{ Command "${prop.tgen}" }
	{ UseProperty TGen }
        { UseProperty TListExtras }
        { UseProperty TSatisfyPreconditions }
        { UseProperty TCaseDescFile }
        { UseProperty TPrepareActions }
        { UseProperty TPrepareStates }
        { UseProperty TPrepareIndices }
        { UseProperty TPrepareIndices }
        { UseProperty TMsgLevel }
        { UseProperty TSummaryLineSpacing }
        { Properties
	    { Footer
		{ Name "Footer1" }
		{ LeftFooter "Choose Operation and Properties" }
	    }
    	    { Activation 
		{ Target "Footer1" }
		{ OnInit Active }
	    }
    	    { Footer
    	    	{ Name "Footer2" }
    	    	{ RightFooter "StP/T Compile, Design, Prepare" }
    	    }
    	    { Activation 
		{ Target "Footer2" }
		{ OnInit Active }
	    }
	    { Group
		{ Name "options0" }
		{ Type Vertical }
                { Align Labels }
    	    	{ Align Middle }
		{ Members ( tgen ) }
	    }
	    { Group
		{ Name "options1" }
		{ Type Horizontal }
                { Align Labels }
    	    	{ Align Middle }
		{ Members ( tsatisfypreconditions tlistextras ) }
	    }
	    { Group
		{ Name "options3" }
		{ Type Horizontal }
                { Align Labels }
    	    	{ Align Bottom }
		{ Members ( tsummarylinespacing tmsglevel ) }
	    }
		
	    { Group
		{ Name "options2" }
		{ Type Vertical }
                { Align Labels }
    	    	{ Align Bottom }
		{ Members ( tcasedescfile tprepareactions tpreparestates tprepareindices options3) }
	    }
	    { Group
	  	{ Name "midcolumn" }
	  	{ Type Vertical }
	  	{ Members ( options1 options2 ) }
	    }
    	    { Group
    	    	{ Name "All" }
    	    	{ Type Horizontal }
		{ Members ( options0 midcolumn) }
    	    }
    	}
    }
} 



Global 1 TViewClass
{
    { ObjectCommand
	{ Name "TViewClass" }
	{ Label "Examine Results..." }
	{ ShowPropsOnExec True }
    	{ Type TTYwin }
	{ Command "${prop.tview}" }
	{ UseProperty TView }
	{ UseProperty TTestCase }
        { UseProperty TReportCascade }
        { UseProperty TPreProc }
        { UseProperty TCaseDescFile }
        { Properties
	    { Footer
		{ Name "Footer1" }
		{ LeftFooter "Choose Operation and Properties" }
	    }
    	    { Activation 
		{ Target "Footer1" }
		{ OnInit Active }
	    }
    	    { Footer
    	    	{ Name "Footer2" }
    	    	{ RightFooter "Examine Results" }
    	    }
    	    { Activation 
		{ Target "Footer2" }
		{ OnInit Active }
	    }
	    { Group
                { Name "options1"}
                { Type Vertical }
                { Members ( treportcascade ttestcase tcasedescfile tpreproc) }
	    }
	    { Group
		{ Name "options0" }
		{ Type Vertical }
                { Align Labels }
    	    	{ Align Middle }
		{ Members ( tview ) }
	    }
    	    { Group
    	    	{ Name "All" }
    	    	{ Type Horizontal }
		{ Members ( options0 options1 ) }
    	    }
    	}
    }
} 




Class 0 Test
{
    { Label "TestUnits" }
    { Image "t_32" }
    { ShowOnDesktop True }

    { OMSObjects
        { Match "node[TTestUnit && node_refs]" }
	{ Editor "tut" }
    }

    { ObjectCommand
        { Name "TestUnitEditor" }
        { Label "Configure TestUnits..." }
        { SingleObject True }
	{ Type Nowin }
    }
 
 
    { ObjectCommand
        { Name "ExtractTestUnit" }
        { Label "Extract Testable Information from Model" }
        { SingleObject True }
    }
 
    { UseObjectCommand TGenClass }
    { ObjectCommand
        { Name "TGenClass" }
    }

    { UseObjectCommand TViewClass }
    { ObjectCommand
        { Name "TViewClass" }
    }

    { ObjectCommand
        { Name "DeleteTestUnit" }
        { Label "Delete TestUnit" }
        { SingleObject True }
	// Pulls out the command from the OMT or SE specific file.
	// Also calls the command for deleting files below from within 
        // the qrl code.
    }

    { ObjectCommand
        { Name "DeleteTestUnitFiles" }
        { Label "Delete TestUnit Files" }
        { SingleObject True }
        { Command "tdriver -p ${projdir} -s ${system} -U ${cmd.objects} -X" }
    }

    { UseClassCommand StartTableEditor }

    { ClassCommand
	{ Name "StartTableEditor" }
	{ Label "Edit TestUnits..." }
    }
}
