
//
//      sccsid[] = %W% %Y% %D%
//      StP/OMT
//      Confidential property of Interactive Development Environments, Inc.
//      Copyright (c) 1992-1994
//      All rights reserved
//

Features
{
    { Feature "stpcore_nt" }
    { Feature "stpcore_unix" }
    { Feature "stpcore_any" }
}


TableType 1 REQTable
{ 
  { Label "Requirements Table"}
  { Initialize
    { SubsystemHsect 1}
    { SubsystemParentHsect 2}
    { SatisfactionHsect 3}
    { WhiteSpaceHsect 4}
    { RequirementsTitleHsect 5 }
    { RequirementsHsect 6}
    { ParentDefinitionTitleHsect 7 }
    { ParentDefinitionHsect 8 }

    { ParentReqVsect 1}
    { LeafReqVsect 2}
    { LeafDefinitionVsect 3}
    { ParentSubsystemNameVsect 3 }

    { ParentDefinitionNameVsect 1 }
    { ParentDefinitionTextVsect 2 }
  }
  { Hsect
    { Label "Subsytem Id" }
    { ReadOnly True }
    { Hidden True }
    { Scrollbar False }
    { RowHeight 25}
    { Frozen True }

    { Vsect
	  { Row
	    { Cell
		  { Type SubsystemCellType }
		  { Label ""}
		  { HorzAlignment Right }
                  { Shading Shade1 }
                  { BottomBorder   { Visible False } }
                  { HspanTable True }
	    }
	  }
     }
  }
  { Hsect
    { Label "Subsystem Parent" }
    { ReadOnly False }
    { Scrollbar False }
    { RowHeight 25}
    { Frozen True }
    { Hidden True }

      { Vsect 
	  { RightBorder         { Visible False } }
	  { Row
	      { Cell
		  { Bold True }
                  { Shading Shade1 }
                  { Hspan True }
		  { HorzAlignment Left }
              }
          }
      }
      { Vsect 
	  { NumCols 1}
          { ReadOnly True }
	  { Frozen True }
	  { LeftBorder         { Visible False } }
	  { Row
	      { Cell
		  { Bold False }
                  { Shading Shade1 }
                  { Hspan True }
		  { HorzAlignment Right }
                  { Label "Parent:" }
              }
          }
       }
       { Vsect 
	  { NumCols 1}
          { ReadOnly False }
	  { Frozen True }
	  { Row
	      { Cell
		  { Bold False }
		  { Type SubsystemParentCellType }
                  { Hspan True }
                  { Label "" }
		  { HorzAlignment Right }
		  { Width 300 }
              }
	  }
       }

  }
  { Hsect
    { Label "Target Object" }
    { ReadOnly True }
    { Scrollbar False }
    { RowHeight 25}
    { Frozen True }
    { Hidden True }
    { Vsect
	  { Row
	    { Cell
		  { Label "" }
		  { HspanTable True }
		  { HorzAlignment Right }
                  { Shading Shade1 }
                  { BottomBorder   { Visible False } }
                  { TopBorder   { Visible False } }
	    }
	  }

     }
  }
  { Hsect
    { Label "White Space" }
    { Hidden True }
    { ReadOnly True }
    { Scrollbar False }
    { RowHeight 25}
    { Frozen True }
    { Vsect
	  { Row
	    { Cell
		  { Label ""}
		  { HspanTable True }
		  { HorzAlignment Left }
                  { Shading Shade0 }
                  { TopBorder   { Visible False } }
	    }
	  }
     }
  }
  { Hsect
      { Label "Requirements Title" }
      { ReadOnly True }
      { Scrollbar False }
      { Frozen True }
      { Vsect 
	  { RightBorder         { Visible False } }
	  { Row
	      { Cell
		  { Bold True }
                  { Shading Shade1 }
                  { Hspan True }
		  { HorzAlignment Left }
              }
          }
      }
      { Vsect 
	  { NumCols 1}
	  { Frozen True }
	  { LeftBorder         { Visible False } }
	  { Row
	      { Cell
		  { Bold True }
                  { Shading Shade1 }
                  { Hspan True }
		  { HorzAlignment Center }
                  { Label "Requirement" }
              }
          }
       }
       { Vsect 
	  { Label "Definition" }
	  { NumCols 1}
	  { Frozen True }
	  { Row
	      { Cell
		  { Bold True }
                  { Shading Shade1 }
                  { Hspan True }
                  { Label "Definition" }
		  { HorzAlignment Center }
		  { Width 300 }
              }
	  }
       }
  }
  { Hsect 
    { Type RequirementsHsectType }
    { Label "Requirements Table" }

      { Vsect 
	  { Label "Superseded Requirements" }
          { ReadOnly True }
	  { RightBorder         { Visible False } }
	  { Hidden True }
	  { Row
	      { RepeatToEnd True}
	      { Cell
	        { RepeatToEnd True}
                { Shading Shade2 }
		{ Type SupersededRequirementCellType }
		{ HorzAlignment Left }
              }
	  }
      }  
      { Vsect 
	  { Label "Requirements" }
          { ReadOnly False }
          { Scrollbar True }
	  { NumCols 1}
	  { Frozen True }
	  { LeftBorder         { Visible False } }
	  { Row
	      { RepeatToEnd True}
	      { Cell
		{ Type RequirementCellType }
		{ HorzAlignment Left }
              }
	  }
      }  
      { Vsect 
	  { Label "Definition" }
          { ReadOnly False }
          { Scrollbar True }
	  { NumCols 1}
	  { Frozen True }
	  { Row
	      { RepeatToEnd True}
	      { Cell
		{ Type RequirementDefinitionCellType }
		{ HorzAlignment Left }
              }
	  }
      }  
  } 
  { Hsect
    { Label "Superseded Ids" }
    { ReadOnly True }
    { Scrollbar False }
    { Frozen True }
    { Hidden True }
    { Vsect
	  { Row
	    { Cell
		  { HorzAlignment Left }
                  { Shading Shade1 }
		  { Label "Superseded\nRequirement"}
		  { Bold True }
                  { Hspan True }
	          { RightBorder         { Visible True } }
	    }
	  }
    }
    { Vsect
	  { Row
	    { Cell
		  { HorzAlignment Right }
		  { HspanTable True }
                  { Shading Shade1 }
		  { Label "Definition"}
		  { Bold True }
	    }
	  }
     }
  }
  { Hsect
    { Type ParentDefinitionsHsectType }
    { Label "Superseded Definitions" }
    // { ReadOnly True }  // ECR 3649
    { Hidden True }
    { Vsect
          { Scrollbar True }
	  { Row
	    { RepeatToEnd True}
	    {Cell
	       { ReadOnly True }  // ECR 3649
	       {Type SupersededCellType}
               { Shading Shade2 }
	       { HorzAlignment Left }
               { Hspan True }
	    }
          }
    }
    { Vsect
          { Scrollbar True }
	  { Row
	    { RepeatToEnd True}
	    {Cell
	          {Type SupersededCellDefinitionType}
	          { HorzAlignment Left }
	          { HspanTable True }
	    }
          }
     }
  }
} 

CellType 10 RequirementCellType
{
   {Semantics
     {NodeMapping
        {Precondition { LabelFunc "REQ_UniqueId"}}
	{MappingName LeafRequirement}
	{InverseMapFunc requirements_inverse_map_func }
	{Type REQRequirement}
	{Name {LabelFunc "REQ_UniqueId"}}
     }

     {LinkMapping
	{ Precondition { LabelFunc "REQLeafRequirementHasParent" } }
	{MappingName ReqParent}
	{Type ReqParent}
	{FromNode
	   {MappingName LeafRequirement}
	   {Cell
	     {Hsect HSECT}
	     {Vsect VSECT}
	     {Row   ROW}
	     {Col   COL}
	   }
	 }
	{ToNode
	   {MappingName ParentRequirement}
	   {Cell
	     {Hsect HSECT}
	     {Vsect ParentReqVsect}
	     {Row   ROW}
	     {Col   "REQGetFirstGoodReqirementParentColumn(HSECT, ROW);"}
	   }
	 }
      }

     {LinkMapping
	{MappingName REQCurrentRequirementIdentifier}
	{Type REQCurrentRequirementIdentifier}
	{FromNode
	   {MappingName LeafRequirement}
	   {Cell
	     {Hsect HSECT}
	     {Vsect VSECT}
	     {Row   ROW}
	     {Col   COL}
	   }
	 }
	{ToNode
	   {MappingName LeafRequirement}
	   {Cell
	     {Hsect HSECT}
	     {Vsect VSECT}
	     {Row   ROW}
	     {Col   COL}
	   }
	 }
      }

     {ItemMapping
	  {MappingName REQInformalNameItem}
	  {Type        REQInformalNameItem}
	  {Value {LabelFunc "REQ_InformalName"} {Required False} }
	  {Note
              {MappingName REQDefinitionNote}
	      {Cell
	        {Hsect HSECT}
	        {Vsect LeafDefinitionVsect}
	        {Row   ROW}
	        {Col   1}
	      }
          }
      }
   }
   { RenameFunc requirement_rename }
}


CellType 11 SupersededRequirementCellType
{
   {Semantics
     {NodeMapping
        {Precondition { LabelFunc "REQ_UniqueId"}}
	{MappingName ParentRequirement}
	{InverseMapFunc requirements_inverse_map_func }
	{Type REQRequirement}
	{Name {LabelFunc "REQ_UniqueId"}}
     }
     {LinkMapping
	{Precondition { LabelFunc "ParentRequirementHasParent" } }
	{MappingName ReqParent}
	{Type ReqParent}
        {FromNode
	   {MappingName ParentRequirement}
	   {Cell
	     {Hsect HSECT}
	     {Vsect VSECT}
	     {Row   ROW}
	     {Col   COL}
	   }
        }
	{ToNode
           {MappingName ParentRequirement}
           {Cell
             {Hsect HSECT}
             {Vsect VSECT}
             {Row   ROW}
             {Col   "COL-1;"}
	   }
        }
      }
   }
   { RenameFunc requirement_rename }
}

CellType 12 RequirementDefinitionCellType
{
   {Semantics
      {NoteMapping
         {MappingName REQDefinitionNote}
         {Type        REQDefinitionNote}
         {Parent
            {MappingName LeafRequirement}
            {Cell
                {Hsect RequirementsHsect}
                {Vsect LeafReqVsect}
                {Row   ROW}
                {Col   1}
            }
	 }
         {Description { LabelSelector Label }{ Required False }}
      }
   }
}
CellType 13 SupersededCellType 
{
   {Semantics
     {NodeMapping
        {Precondition { LabelSelector Label} }
	{MappingName ParentRequirement}
	{InverseMapFunc requirements_inverse_map_func }
	{Type REQRequirement}
	{Name {LabelFunc "REQ_UniqueId"}}
     }

     {ItemMapping
	  {MappingName REQInformalNameItem}
	  {Type        REQInformalNameItem}
	  {Value {LabelFunc "REQ_InformalName"} {Required False }}
	  {Note
              {MappingName REQDefinitionNote}
	      {Cell
	        {Hsect HSECT}
	        {Vsect ParentDefinitionTextVsect}
	        {Row   ROW}
	        {Col   1}
	      }
          }
      }
   }
   { RenameFunc requirement_rename }
}

CellType 14 SupersededCellDefinitionType
{
   {Semantics
      {NoteMapping
        {Precondition { LabelSelector Label}}
         {MappingName REQDefinitionNote}
         {Type        REQDefinitionNote}
         {Parent
            {MappingName ParentRequirement}
            {Cell
                {Hsect HSECT}
                {Vsect ParentDefinitionNameVsect}
                {Row   ROW}
                {Col   1}
            }
	 }
         {Description { LabelSelector Label } { Required False }}
      }
   }
}

CellType 15 SubsystemCellType
{
   {Semantics
     {NodeMapping
	{MappingName RequirementSubsystem}
	{Precondition {LabelFunc "REQ_CurrentFileName"}}
	{Type RequirementSubsystem}
	{Name {LabelFunc "REQ_CurrentFileName"}}
	{Scope
            {Precondition { LabelFunc "REQ_SubsystemParentName" }}
	    {MappingName ParentRequirementSubsystem}
            {Cell
                {Hsect SubsystemParentHsect}
                {Vsect ParentSubsystemNameVsect}
                {Row   1}
                {Col   1}
            }
	}
     }
   }
}

CellType 16 SubsystemParentCellType
{
   {Semantics
     {NodeMapping
	{Precondition { LabelSelector Label}}
	{MappingName ParentRequirementSubsystem}
	{Type RequirementSubsystem}
	{Name {LabelSelector Label}}
     }
   }
}



HsectType 20 RequirementsHsectType
{
    { RowSorts
       { Sort 
	  { Name AlphaSort }
	  { Label "" }
	  { Key 
	     { Value 
	        { Cell 
		    {Hsect RequirementsHsect} 
		    {Vsect VSECT} 
		    {Row ROW} 
		    {Col COL} 
	        } 
		{LabelFunc "REQ_LabelColConcat"}
	     }
	     { Ordering LexicographicalIncreasing}
	  }
       }
       { Sort 
	  { Name NumberSort }
	  { Label "" }
	  { Key 
	     { Value 
	        { Cell 
		    {Hsect RequirementsHsect} 
		    {Vsect VSECT} 
		    {Row ROW} 
		    {Col COL} 
	        } 
		{LabelFunc "REQ_DeweyColConcat"}
	     }
	     { Ordering LexicographicalIncreasing}
	  }
       }
    }
}

HsectType 21 ParentDefinitionsHsectType
{
    { RowSorts
       { Sort 
	  { Name AlphaSort }
	  { Label "" }
	  { Key 
	     { Value {LabelFunc "REQ_UniqueId"}
	        { Cell {Hsect ParentDefinitionHsect} 
		    {Vsect VSECT} 
		    {Row ROW} 
		    {Col COL} 
                } 
	     }
	     { Ordering LexicographicalIncreasing}
	  }
       }
       { Sort 
	  { Name NumberSort }
	  { Label "" }
	  { Key 
	     { Value {LabelFunc "REQ_DeweyLabel"}
	        { Cell {Hsect ParentDefinitionHsect} 
		    {Vsect VSECT} 
		    {Row ROW} 
		    {Col COL} 
                } 
	     }
	     { Ordering LexicographicalIncreasing}
	  }
       }
    }
}
 
Menu Navigation
{
    { InMenuBar True }
    { Label "&GoTo" }
    { Show False }
    { Pin True }	
}

Menu ProductMenu//UML
{
    { InMenuBar True }
    { Label "&UML" }
    { Show False }
    { Pin True }
}

Include "rules/rqtbl.menu"
Include "rules/gte_annot_menu.std"
Include "rules/rqtbl_object_rename.rules"
IncludeIfExists "user/ct/rules/user_rqtbl.rules"

PassWord "B362921C"
