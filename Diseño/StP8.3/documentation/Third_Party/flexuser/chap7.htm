<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="TEMPLATEBASE" content="Users Guide WebWorks Template">
<meta name="LASTUPDATED" content="01/24/02 09:18:40">
<title>Chapter 7 </title>
</head>

<body link="#0066CC" vlink="#800080" text="#000000" alink="#FF0000" bgcolor="#FFFFFF"
background="graphics/backgrnd.gif">

<p><img src="graphics/FLEX-lm.gif" align="left"
alt="FLEXlm icon"> </p>

<table width="331" border="0" align="right" cellpadding="0" cellspacing="0">
  <tr>
    <td><a href="TOC.htm#TOC"><img src="graphics/navtoc.gif" width="84" height="23"
    border="0" alt="TOC"> </a></td>
    <td><a href="chap6.htm"><img src="graphics/navprev.gif" width="80" height="23"
    border="0" alt="PREV"> </a></td>
    <td><a href="chap8.htm"><img src="graphics/navnext.gif" width="83" height="23"
    border="0" alt="NEXT"> </a></td>
    <td><a href="IX.htm"><img src="graphics/navidx.gif" width="84" height="23"
    border="0" alt="INDEX"> </a></td>
  </tr>
</table>

<p><br clear="all">
</p>

<hr align="left">

<blockquote>
<h2>
  <a name="908670"> </a>Chapter 7 
</h2>


<h2>
  <a name="916129"> </a>	 Mobile Licensing
</h2><hr>


<p>
  <a name="908683"> </a>End users often want to use applications on computers that do not have a continuous connection to a FLEX<em>lm</em> license server. These situations include:
</p>

<ul>


  <li ><a name="914443"> </a>Working on a laptop
  <li ><a name="914448"> </a>Using a computer both at work and at home
  <li ><a name="914449"> </a>Working from several different computers not connected to a license server
</ul>

<p>
  <a name="914450"> </a>FLEX<em>lm</em> supports licenses that allow one of several kinds of mobile licensing:
</p>

<ul>


  <li ><a name="914461"> </a>Node-locked to a laptop 
  <li ><a name="914465"> </a>Node-locked to a FLEX<em>id</em> (Windows only)
  <li ><a name="914469"> </a>Node-locked to a FLEX<em>id</em> with FLOAT_OK keyword (Windows only)
  <li ><a name="914470"> </a>License borrowing with BORROW keyword 
</ul>

<h3>
  <a name="914610"> </a>7.1	 Node-Locked to a Laptop Computer
</h3>


<p>
  <a name="914611"> </a>If a license is to be used exclusively on one laptop computer, that license can simply be node-locked to an address associated with that computer. The license file would reside on the laptop computer. 
</p>


<h3>
  <a name="914615"> </a>7.2	 Node-locked to a FLEX<em>id</em> (Windows Only)
</h3>


<p>
  <a name="914616"> </a>If a license is to be moved between different Windows machines, it can be node-locked to a FLEX<em>id</em> (a dongle that connects to a parallel or USB port). This license can be moved between machines by installing a copy of the license file on each machine and moving the FLEX<em>id</em> from one machine to another. 
</p>


<h3>
  <a name="914487"> </a>7.3	 Node-Locked to a FLEX<em>id</em> with FLOAT_OK (Windows Only) 
</h3>


<p>
  <a name="914491"> </a>This method of license mobility has an advantage over simply using a license node-locked to a FLEX<em>id</em>, because the FLEX<em>id</em> can be attached to a license server machine and its license can float on the network. Licenses with a FLOAT_OK keyword that are node-locked to a FLEX<em>id</em> are supported only where both the client application and the license server are running on Windows. 
</p>


<p>
  <a name="914638"> </a>A vendor issues a license file with a FEATURE line node-locked to a FLEX<em>id</em> and containing the FLOAT_OK keyword and a FLEX<em>id</em> for that FEATURE line. One FEATURE line containing the FLOAT_OK keyword and one FLEX<em>id</em> is needed for each instance of a license that can be mobile. When the FLEX<em>id</em> is attached to a license server, the license floats on the network. When the FLEX<em>id</em> is removed from the license server, the license is available only on the standalone computer. 
</p>


<p>
  <a name="914647"> </a>This method supports parallel or USB FLEX<em>id</em>s. Because it is simpler to attach multiple USB dongles to a computer, USB FLEX<em>id</em>s may be preferable. All FLEX<em>lm</em> components must be v8.0 or higher.
</p>


<h4>
  <a name="914517"> </a>7.3.1	 Initiating FLEX<em>id</em> with FLOAT_OK Mobility 
</h4>


<p>
  <a name="914524"> </a>A vendor issues the end user a FLEX<em>id</em>, a FLEX<em>id</em> driver installer, and a license file that contains a FEATURE line node-locked to that FLEX<em>id</em> containing the FLOAT_OK keyword. A end user then:
</p>

<ol type="1">


  <li  value="1"><a name="914537"> </a>Installs the license file on the license server machine
  <li  value="2"><a name="914541"> </a>Attaches all of the FLEX<em>id</em>s to the license server machine 
  <li  value="3"><a name="914545"> </a>Installs the FLEX<em>id</em> driver on the license server machine 
  <li  value="4"><a name="914546"> </a>Starts the license server or rereads the license file 
</ol>

<p>
  <a name="914550"> </a>While the FLEX<em>id</em>s are attached to the license server machine, the node-locked licenses associated with them float on the network. Each of the FLOAT_OK uncounted node-locked FEATURE lines has a count of <em>one</em> while it is available on the network. 
</p>


<p>
  <a name="914551"> </a>To transfer a license from the pool of floating licenses to a disconnected computer, the end user:
</p>

<ol type="1">


  <li  value="1"><a name="914552"> </a>Copies the license file containing the FLOAT_OK node-locked FEATURE line from the license file on the license server machine to a license file on the client computer in the location where the licensed application expects to find its license file. 
  <li  value="2"><a name="914556"> </a>Moves the FLEX<em>id</em> matching the node-locked FEATURE line from the license server machine to the client computer. When the FLEX<em>id</em> is removed from the license server machine, this license is unavailable on the network. 
  <li  value="3"><a name="914563"> </a>Installs the FLEX<em>id</em> drivers on the client computer, if they are not already installed.
  <li  value="4"><a name="914564"> </a>Disconnects the client computer from the network. Now the license is available on the computer with the FLEX<em>id</em>, even though that computer is disconnected from the network. 
</ol>

<h4>
  <a name="914568"> </a>7.3.2	 Returning a FLEX<em>id</em> with FLOAT_OK License
</h4>


<p>
  <a name="914569"> </a>To return the license to the license server machine so it can float on the network again, the end user:
</p>

<ol type="1">


  <li  value="1"><a name="914573"> </a>Removes the FLEX<em>id</em> from the client machine and replaces it on the license server machine.
  <li  value="2"><a name="914574"> </a>Rereads the license file for the license server that serves the floating version of the license by running <code>lmreread</code>. When the FLEX<em>id</em> is returned to the license server machine, the FLOAT_OK license will not float on the network again until <code>lmreread</code> is run. 
</ol>

<h4>
  <a name="914581"> </a>7.3.3	 FLEX<em>id</em> with FLOAT_OK Example
</h4>


<p>
  <a name="914582"> </a>The following is a sample license file issued to a customer site. It is shipped with two FLEX<em>id</em>s: <font  face="Courier New" size="2">FLEXID=7-b28520b9</font> and <font  face="Courier New" size="2">FLEXID=7-b2857678</font>.
</p>

<dl>
  <dl>
     <dt> <a name="914586"> </a><CODE>SERVER myhost ANY</CODE>
     <dt> <a name="914587"> </a><CODE>VENDOR xyzd</CODE>
     <dt> <a name="914588"> </a><CODE>FEATURE f1 xyzd 1.0 permanent uncounted FLOAT_OK \</CODE>
    <dl>
       <dt> <a name="914589"> </a><CODE>HOSTID=FLEXID=7-b28520b9 SIGN=123456789012</CODE>
    </dl>
     <dt> <a name="914590"> </a><CODE>FEATURE f1 xyzd 1.0 permanent uncounted FLOAT_OK \</CODE>
    <dl>
       <dt> <a name="914591"> </a><CODE>HOSTID=FLEXID=7-b2857678 SIGN=ABCDEF123456</CODE>
    </dl>
  </dl>
</dl>

<p>
  <a name="914595"> </a>The customer installs the license file and the two FLEX<em>id</em>s on the license server machine. When attached to the license server machine, each uncounted FLOAT_OK license floats on the network and allows a single use. Therefore, up to two users can use "f1" on the customer's network, except on the license server machine itself, where the license use is disallowed. 
</p>


<p>
  <a name="914596"> </a>If an end user wants to work at home, the end user installs a license file that contains the FEATURE line node-locked to <font  face="Courier New" size="2">FLEXID=7-b28520b9</font> (this only needs to be done once), transfers the FLEX<em>id</em> <font  face="Courier New" size="2">FLEXID=7-b28520b9</font> from the license server machine to the client computer, and installs the FLEX<em>id</em> driver on the client computer (this also only needs to be done once). The end user disconnects the client computer from the network and can use the transferred FLOAT_OK license on the client computer. The license server allows only the single remaining FLOAT_OK license to float on the network.
</p>


<p>
  <a name="914606"> </a>After returning the FLEX<em>id</em> to the license server machine, the end user (or the system administrator) runs <code>lmreread</code> so the returned license can float again. 
</p>


<h3>
  <a name="908690"> </a>7.4	 License Borrowing with BORROW
</h3>


<p>
  <a name="915062"> </a>If a license is to be used on a computer that is intermittently connected to a license server, that license can be issued as a floating license with a BORROW keyword. A BORROW license can be borrowed from a license server via a special checkout and used later to run an application on a computer that is no longer connected to the license server. License borrowing must be enabled by a vendor before an end user can borrow licenses and all FLEX<em>lm</em> components must be built with FLEX<em>lm</em> v8.0+.
</p>


<p>
  <a name="914784"> </a>With license borrowing, a vendor issues a floating license with a FEATURE line that contains the BORROW keyword. An end user specifies the expiration date a borrowed license will be returned and runs the application while connected to the network which writes borrowing information on the client computer. The license server keeps the borrowed license checked out. The client application automatically uses the local borrowing data to do checkouts during the borrow period. Borrowed licenses cannot be returned before the borrow period expires. When the borrow period ends, the local borrowing data no longer authorizes checkouts and the license server returns the borrowed license to the pool of available licenses. No clock synchronization is required between the license server machine and the client machine. 
</p>


<h4>
  <a name="908723"> </a>7.4.1	 Initiating License Borrowing 
</h4>


<p>
  <a name="908724"> </a>If a vendor has enabled license borrowing by issuing a license file that contains a FEATURE line with the BORROW keyword, an end user can initiate license borrowing in one of three ways:
</p>

<ul>


  <li ><a name="910785"> </a>Using the borrowing interface in application, if provided in the application
  <li ><a name="908725"> </a>Running the <code>lmborrow</code> utility to set <code>LM_BORROW</code> 
  <li ><a name="908726"> </a>Setting the <code>LM_BORROW</code> environment variable directly 
</ul>

<h5>
  <a name="910798"> </a>Application Interface
</h5>


<p>
  <a name="910799"> </a>The user can initiate license borrowing this way only if the application provides a borrowing interface. 
</p>


<h5>
  <a name="909153"> </a>Running the lmborrow Utility
</h5>


<p>
  <a name="908729"> </a><code>lmborrow</code> is one of the <code>lmutil</code>/LMTOOLS utilities. To initiate borrowing, the user can run <code>lmborrow</code> from the command line or through LMTOOLS:
</p>

<dl>
  <dl>
     <dt> <a name="908730"> </a><CODE>lmborrow {<code><em>vendor</em></code>|all} <code><em>enddate</em></code> [<code><em>time</em></code>]</CODE>
  </dl>
</dl>

<p>
  <a name="908731"> </a>where <code><em>vendor</em></code> is the vendor daemon that serves the licenses to be borrowed, or <code>all</code> specifies all vendor daemons in the license server. <code><em>enddate</em></code> is the date the license is to be returned in <code><em>dd</em></code><code>-</code><code><em>mmm</em></code><code>-</code><code><em>yyyy</em></code> format. <code><em>time</em></code> is optional and is specified in 24-hour format (<code><em>hh</em></code><code>:</code><code><em>mm</em></code>) in the client's local time. If <code><em>time</em></code> is unspecified, the checkout lasts until the end of the given end date. 
</p>


<p>
  <a name="908732"> </a>For example:
</p>

<dl>
  <dl>
     <dt> <a name="908733"> </a><CODE>lmborrow xyzd 20-aug-2001 13:00</CODE>
  </dl>
</dl>

<h5>
  <a name="908735"> </a>Setting the LM_BORROW Environment Variable Directly
</h5>


<p>
  <a name="908736"> </a>The <code>lmborrow</code> utility is a user interface to set <code>LM_BORROW</code> in either the registry (Windows) or in <code>$HOME/.flexlmrc</code> (UNIX). <code>LM_BORROW</code> can also be set directly as an environment variable: 
</p>

<dl>
  <dl>
     <dt> <a name="908737"> </a><CODE><code><em>today</em></code>:{<code><em>vendor</em></code>|all}:<code><em>enddate</em></code>[:<code><em>time</em></code>]</CODE>
  </dl>
</dl>

<p>
  <a name="908738"> </a>where:
</p>


<p>
  <a name="908756"> </a>

<table border="3">
  <caption></caption>
  <tr>
    <td><a name="908741"> </a><code><em>today<br></em></code></td>
    <td><a name="908743"> </a>Today's date in <code><em>dd</em></code><code>-</code><code><em>mmm</em></code><code>-</code><code><em>yyyy</em></code> format. Any <br>checkouts done on this date will create local <br>borrow information. If a checkout is done on a <br>different date than this date, no local <br>borrowing information will be created. <br></td>
  </tr>
  <tr>
    <td><a name="908745"> </a><code><em>vendor<br></em></code></td>
    <td><a name="908747"> </a>Vendor daemon that serves the licenses to be <br>borrowed, or <code>all</code> specifies all vendor daemons <br>in the license server.<br></td>
  </tr>
  <tr>
    <td><a name="908749"> </a><code><em>enddate<br></em></code></td>
    <td><a name="908751"> </a>Date the license is to be returned in <code><em>dd</em></code><code>-</code><code><em>mmm</em></code><code>-<br></code><code><em>yyyy</em></code> format.<br></td>
  </tr>
  <tr>
    <td><a name="908753"> </a><code><em>time<br></em></code></td>
    <td><a name="908755"> </a>Optional. <code><em>time</em></code> is specified in 24-hour format <br>(<code><em>hh</em></code><code>:</code><code><em>mm</em></code>) in the client's local time. If <code><em>time</em></code> is <br>unspecified, the checkout lasts until the end of <br>the given end date.<br></td>
  </tr>
</table>




</p>


<p>
  <a name="908757"> </a>
</p>


<p>
  <a name="908758"> </a>For example:
</p>

<dl>
  <dl>
     <dt> <a name="908759"> </a><CODE>LM_BORROW=15-aug-2001:xyzd:20-aug-2001:13:00</CODE>
  </dl>
</dl>

<p>
  <a name="908760"> </a>In this example, one or more licenses served by the <code>xyzd</code> vendor daemon are being borrowed on August 15, 2001, and will be returned at 1 pm on August 20, 2001. 
</p>


<h5>
  <a name="910777"> </a>Borrowing a License
</h5>


<p>
  <a name="910808"> </a>To borrow a license for a desired feature, <em>on the same day and the same machine</em> that the end user runs <code>lmborrow</code> or sets <code>LM_BORROW</code> (and while still connected to the network), the end user runs the application to check out and borrow the license. If the end user runs the application more than once that day, no duplicate license is borrowed. No license is borrowed if the application is run on a day different than the date borrowing was set to be initiated.
</p>


<p>
  <a name="910788"> </a>For example, say that today you want to borrow a license for the PageWizard feature for a week. The PageWizard feature is served by the <code>xyzd</code> vendor daemon. Today, while you are connected to the network, run <code>lmborrow</code> or set <code>LM_BORROW</code> directly. For example:
</p>

<dl>
  <dl>
     <dt> <a name="910832"> </a><CODE>lmborrow xyzd <code><em>endddate </em></code></CODE>
  </dl>
</dl>

<p>
  <a name="910850"> </a>Today, after you run <code>lmborrow</code>, while you are connected to the network, run the application that checks out a license for the PageWizard feature. After the license is checked out, you can close the application and disconnect your machine from the network. The license that you just checked out will stay checked out from the license server until the borrow period expires-that license can now be used on your disconnected machine until the borrow period expires. 
</p>


<h5>
  <a name="912763"> </a>Checking Borrow Status
</h5>


<p>
  <a name="915118"> </a>You can check the status of borrowed licenses on your computer by running <code>lmborrow -status</code>. 
</p>


<h5>
  <a name="915122"> </a>Ending Borrowing
</h5>


<p>
  <a name="915123"> </a>Once you have borrowed all the licenses that you need, you can prevent licenses for any additional features to be borrowed by running <code>lmborrow <br>-clear</code>. <code>lmborrow -clear</code> does <em>not</em> clear the local information about licenses you have already borrowed. These licenses cannot be returned before the end of the borrow period. Once checked out, they remain checked out for the full borrow period. The borrow period cannot be renewed until the period has expired.
</p>


<h4>
  <a name="909645"> </a>7.4.2	 Support for License Borrowing
</h4>


<p>
  <a name="909671"> </a>See the following sections for more information about the utilities and end-user options that support license borrowing:
</p>

<ul>


  <li ><a name="910890"> </a><a href="chap6.htm#895344">Section 6.3, "lmborrow"</a> 
  <li ><a name="909675"> </a><a href="chap6.htm#895403">Section 6.5, "lmdown"</a> 
  <li ><a name="909676"> </a><a href="chap6.htm#895655">Section 6.13, "lmstat"</a> 
  <li ><a name="909742"> </a><a href="chap5.htm#894566">Section 5.2.1, "BORROW_LOWWATER"</a> 
  <li ><a name="909680"> </a><a href="chap5.htm#894621">Section 5.2.4, "EXCLUDE_BORROW"</a> 
  <li ><a name="909681"> </a><a href="chap5.htm#894715">Section 5.2.9, "INCLUDE_BORROW"</a> 
</ul>
</blockquote>

<hr>

<table width="380" align="right" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td align=left width="215"><em>FLEXlm  End Users Guide</em>
  </tr>
    <td align=left width="165"><em>February 2002</em></td>
</table>

<table width="331" border="0" align="left" cellpadding="0" cellspacing="0">
  <tr>
    <td><a href="TOC.htm#TOC"><img src="graphics/navtoc.gif" width="84" height="23"
    border="0" alt="TOC"> </a></td>
    <td><a href="chap6.htm"><img src="graphics/navprev.gif" width="80" height="23"
    border="0" alt="PREV"> </a></td>
    <td><a href="chap8.htm"><img src="graphics/navnext.gif" width="83" height="23"
    border="0" alt="NEXT"> </a></td>
    <td><a href="IX.htm"><img src="graphics/navidx.gif" width="84" height="23"
    border="0" alt="INDEX"> </a></td>
  </tr>
</table>
</body>
</html>